<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Gender, Pay, UNM, Bokeh • a hack of a hacker</title>
    <meta name="description" content="Looking into the pay gap at UNM with data visualization">
    <meta name="keywords" content="bokeh, data science, feminism, unm, data visualization, pay gap, gender pay discrimination">
    
    
    	<!-- Twitter Cards -->
	<meta name="twitter:title" content="Gender, Pay, UNM, Bokeh">
	<meta name="twitter:description" content="Looking into the pay gap at UNM with data visualization">
	<meta name="twitter:site" content="@binary_aaron">
	<meta name="twitter:creator" content="@binary_aaron">
	
	<meta name="twitter:card" content="summary">
	<meta name="twitter:image" content="http://aarongonzales.net/images/gggraph_crop.jpeg">
	
	<!-- Open Graph -->
	<meta property="og:locale" content="">
	<meta property="og:type" content="article">
	<meta property="og:title" content="Gender, Pay, UNM, Bokeh">
	<meta property="og:description" content="Looking into the pay gap at UNM with data visualization">
	<meta property="og:url" content="http://aarongonzales.net/posts/nerd/2016/03/17/unmsalary/">
	<meta property="og:site_name" content="a hack of a hacker">

    <link rel="canonical" href="http://aarongonzales.net/posts/nerd/2016/03/17/unmsalary/"> 
    <link href='https://fonts.googleapis.com/css?family=Crimson+Text' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.019/css/hack.min.css" type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Bitter:400italic' rel='stylesheet' type='text/css'>


    <link href="http://aarongonzales.net/atom.xml" type="application/atom+xml" rel="alternate" title="a hack of a hacker Atom Feed">
    <link href="http://aarongonzales.net/sitemap.xml" type="application/xml" rel="sitemap" title="Sitemap">

    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="cleartype" content="on">

    <link rel="stylesheet" href="http://aarongonzales.net/css/main.css">
    <!-- HTML5 Shiv and Media Query Support for IE -->
    <!--[if lt IE 9]>
      <script src="http://aarongonzales.net/js/vendor/html5shiv.min.js"></script>
      <script src="http://aarongonzales.net/js/vendor/respond.min.js"></script>
    <![endif]-->

  </head>

  <body id="js-body">
    <!--[if lt IE 9]><div class="upgrade notice-warning"><strong>Your browser is quite old!</strong> Why not <a href="http://whatbrowser.org/">upgrade to a newer one</a> to better enjoy this site?</div><![endif]-->

    <header id="masthead">


  <div class="inner-wrap">
    <a href="http://aarongonzales.net/" class="site-title">a hack of a hacker</a>
    <nav role="navigation" class="menu top-menu">
        <ul class="menu-item">
	<li class="home"><a href="/">a hack of a hacker</a></li>
	
    
        
    
    <li><a href="http://aarongonzales.net/posts/" >Posts</a></li>
  
    
        
    
    <li><a href="http://aarongonzales.net/about/" >About</a></li>
  
</ul>

    </nav>
  </div><!-- /.inner-wrap -->
</header><!-- /.masthead -->

    <nav role="navigation" id="js-menu" class="sliding-menu-content">
  <h5>a hack of a hacker <span>Table of Contents</span></h5>
  <ul class="menu-item">
    <li>
      <a href="http://aarongonzales.net/posts/">
        <img src="http://aarongonzales.net/images/clouds.jpg" alt="teaser" class="teaser">
        <div class="title">Posts</div>
        <p class="excerpt">Writing, coursework, reports, and projects</p>
      </a>
    </li><li>
      <a href="http://aarongonzales.net/about/">
        <img src="http://aarongonzales.net/images/avatar_long.jpg" alt="teaser" class="teaser">
        <div class="title">About</div>
        <p class="excerpt">I'm a regular guy, except when I'm not. Learn more about me here.</p>
      </a>
    </li><li>
      <a href="http://aarongonzales.net/portfolio/">
        <img src="http://aarongonzales.net/images/blog/decision_tree_teaser.png" alt="teaser" class="teaser">
        <div class="title">Portfolio</div>
        <p class="excerpt">A smattering of my work</p>
      </a>
    </li><li>
      <a href="http://aarongonzales.net/coursework/">
        <img src="http://aarongonzales.net/images/ethereal.jpg" alt="teaser" class="teaser">
        <div class="title">Coursework</div>
        <p class="excerpt">Stuff from my courses that may be useful to someone</p>
      </a>
    </li><li>
      <a href="http://aarongonzales.net/research/">
        <img src="http://aarongonzales.net/images/blog/fb_clusters_teaser.jpg" alt="teaser" class="teaser">
        <div class="title">Research</div>
        <p class="excerpt">Research updates and commentary</p>
      </a>
    </li><li>
      <a href="http://aarongonzales.net/friends/">
        <img src="http://aarongonzales.net/images/blog/fb_network_long.jpg" alt="teaser" class="teaser">
        <div class="title">Friends</div>
        <p class="excerpt">People whom I follow or like</p>
      </a>
    </li>
  </ul>
</nav>
<button type="button" id="js-menu-trigger" class="sliding-menu-button lines-button x2" role="button" aria-label="Toggle Navigation">
  <span class="nav-lines"></span>
</button>

<div id="js-menu-screen" class="menu-screen"></div>


    <div id="page-wrapper">
      <div id="main" role="main">
  <article class="wrap" itemscope itemtype="http://schema.org/Article">
    
    
  <nav class="breadcrumbs">
    <span itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
      <a href="http://aarongonzales.net" itemprop="url">
        <span itemprop="title">Home</span>
      </a> › 
    <span itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
      <a href="http://aarongonzales.net/posts/" itemprop="url">
        <span itemprop="title">Posts</span>
      </a>
    </span>
  </nav><!-- /.breadcrumbs -->

    <div class="page-title">
      <h1>Gender, Pay, UNM, Bokeh</h1>
    </div>
    <div class="inner-wrap">
      <nav class="toc"></nav><!-- /.toc -->
      <div id="content" class="page-content" itemprop="articleBody">
        <p class="notice-info">
<strong>Content Warning:</strong>
python, bokeh, data science, data visualization, feminism
</p>



<div class="container" id="notebook-container">
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The glass ceiling is a well-studied and oft-commented issue in and out of academia. Just today, the New York Times <a href="http://www.nytimes.com/2016/03/20/upshot/as-women-take-over-a-male-dominated-field-the-pay-drops.html">published a long article about gender pay discrimination</a>.</p>
<p>The University of New Mexico (UNM) publishes a list of employee salaries and grants on <a href="http://sunshine.unm.edu/Pages/default.aspx">Sunshine@UNM</a> and I decided to grab it and do some custom plotting as an excuse to learn <a href="http://bokeh.pydata.org/en/latest/index.html">Bokeh</a>, as data visualization is probably my weakest data science skillset. I will refrain from much commentary on pay issues for the time being and focus more on the analysis process and visualization.</p>
<h2 id="Preprocessing">Preprocessing<a class="anchor-link" href="#Preprocessing">¶</a></h2><p>We'll be using the python data stack -- pandas, numpy, etc.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [1]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">itertools</span> <span class="k">as</span> <span class="nn">it</span>
<span class="kn">import</span> <span class="nn">glob</span>

<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="k">import</span> <span class="n">HTML</span><span class="p">,</span> <span class="n">display</span>
<span class="kn">from</span> <span class="nn">matplotlib.colors</span> <span class="k">import</span> <span class="n">LinearSegmentedColormap</span>
<span class="kn">from</span> <span class="nn">matplotlib.lines</span> <span class="k">import</span> <span class="n">Line2D</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">'figure.figsize'</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>


<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_rows</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">'bmh'</span><span class="p">)</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>From <a href="http://sunshine.unm.edu/Pages/default.aspx">Sunshine@UNM</a>, I gathered a csv version of the salary book and did very minor preprocessing (removing empty lines, adding quotes for ease of reading, removing '$' from the salary field, etc.) in my shell, saving the results to the file being read into Pandas below.</p>
<p>For most of the post, i'm not going to publically reveal names with salary, but some of these are pretty easy to figure out.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [2]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># a function to remove names from printing</span>
<span class="n">private_printer</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">ix</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:]</span>

<span class="n">salary</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">"./unm_salary.csv"</span><span class="p">)</span>
<span class="n">salary</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'name'</span><span class="p">,</span> <span class="s1">'department'</span><span class="p">,</span> <span class="s1">'grade'</span><span class="p">,</span> <span class="s1">'job_title'</span><span class="p">,</span> <span class="s1">'type'</span><span class="p">,</span> <span class="s1">'appt'</span><span class="p">,</span> <span class="s1">'annual'</span><span class="p">]</span>
<span class="n">private_printer</span><span class="p">(</span><span class="n">salary</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">'annual'</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[2]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>department</th>
<th>grade</th>
<th>job_title</th>
<th>type</th>
<th>appt</th>
<th>annual</th>
</tr>
</thead>
<tbody>
<tr>
<th>9281</th>
<td>VP Health Sciences Office</td>
<td>99</td>
<td>Dean</td>
<td>Primary</td>
<td>100</td>
<td>656500</td>
</tr>
<tr>
<th>7356</th>
<td>Radiology General</td>
<td>99</td>
<td>Chair</td>
<td>Primary</td>
<td>100</td>
<td>599000</td>
</tr>
<tr>
<th>9365</th>
<td>SOM Surgery Administration</td>
<td>99</td>
<td>Chairperson</td>
<td>Primary</td>
<td>100</td>
<td>534040</td>
</tr>
<tr>
<th>3155</th>
<td>OB GYN Reproductive Hlth &amp; Fam Pln</td>
<td>99</td>
<td>Chairperson</td>
<td>Primary</td>
<td>100</td>
<td>485810</td>
</tr>
<tr>
<th>1747</th>
<td>SOM Neurosurgery</td>
<td>99</td>
<td>Assistant Professor</td>
<td>Primary</td>
<td>100</td>
<td>484800</td>
</tr>
<tr>
<th>6650</th>
<td>SOM Neurosurgery</td>
<td>99</td>
<td>Clinician Ed-Assoc Prof</td>
<td>Primary</td>
<td>100</td>
<td>478240</td>
</tr>
<tr>
<th>12019</th>
<td>SOM Neurosurgery</td>
<td>99</td>
<td>Chairperson</td>
<td>Primary</td>
<td>100</td>
<td>454667</td>
</tr>
<tr>
<th>10010</th>
<td>SOM Neurosurgery</td>
<td>99</td>
<td>Assistant Professor</td>
<td>Primary</td>
<td>100</td>
<td>454500</td>
</tr>
<tr>
<th>8949</th>
<td>Surgery Thoracic</td>
<td>99</td>
<td>Professor</td>
<td>Primary</td>
<td>100</td>
<td>441986</td>
</tr>
<tr>
<th>10701</th>
<td>SOM Neurosurgery</td>
<td>99</td>
<td>Clinician Ed-Assoc Prof</td>
<td>Primary</td>
<td>100</td>
<td>429512</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>UNM's system has all professor and academic admin jobs in salary grade 99, but this also includes lots of residents, postdocs, and so forth that will distort our findings.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [3]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">private_printer</span><span class="p">(</span><span class="n">salary</span><span class="p">[</span><span class="n">salary</span><span class="o">.</span><span class="n">grade</span> <span class="o">==</span> <span class="s1">'99'</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[3]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>department</th>
<th>grade</th>
<th>job_title</th>
<th>type</th>
<th>appt</th>
<th>annual</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>Electrical Computer Engineering</td>
<td>99</td>
<td>Research Asst Professor</td>
<td>Primary</td>
<td>100</td>
<td>87500</td>
</tr>
<tr>
<th>2</th>
<td>Psych Geriatrics</td>
<td>99</td>
<td>Associate Professor</td>
<td>Primary</td>
<td>100</td>
<td>167074</td>
</tr>
<tr>
<th>3</th>
<td>Provost Office Staff</td>
<td>99</td>
<td>Provost/Exec VP for AA</td>
<td>Primary</td>
<td>100</td>
<td>286443</td>
</tr>
<tr>
<th>5</th>
<td>Grad Med Education Housestaff</td>
<td>99</td>
<td>Resident Physicians I</td>
<td>Primary</td>
<td>100</td>
<td>49556</td>
</tr>
<tr>
<th>12</th>
<td>Gallup Branch</td>
<td>99</td>
<td>Assistant Professor</td>
<td>Primary</td>
<td>100</td>
<td>48000</td>
</tr>
<tr>
<th>14</th>
<td>Accessibility Resource Center</td>
<td>99</td>
<td>Pre-Cert Signed Lang Interp</td>
<td>Primary</td>
<td>25</td>
<td>10400</td>
</tr>
<tr>
<th>15</th>
<td>Taos Branch</td>
<td>99</td>
<td>Temp Parttime Faculty</td>
<td>Primary</td>
<td>40</td>
<td>13259</td>
</tr>
<tr>
<th>21</th>
<td>School of Law</td>
<td>99</td>
<td>Non Credit Teacher</td>
<td>Primary</td>
<td>8</td>
<td>0</td>
</tr>
<tr>
<th>23</th>
<td>Dental Hygiene</td>
<td>99</td>
<td>Assistant Professor</td>
<td>Primary</td>
<td>100</td>
<td>60274</td>
</tr>
<tr>
<th>24</th>
<td>Grad Med Education Housestaff</td>
<td>99</td>
<td>Resident Physicians I</td>
<td>Primary</td>
<td>100</td>
<td>49556</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We'll begin by cleaning up the data a bit more.</p>
<p>What I'd like to have in the end of this process is:</p>
<ul>
<li>a dataframe of non-adjuct professors (assistant, associate, full, etc). </li>
<li>who have full appointments</li>
<li>with any obvious erros fixed</li>
</ul>
<p>Let's take a look at basic departmental summary stats, filtering out professors that do not have full appointments (salaries). I was going to estimate the 100% appointment rate for every professor, but some may have appointments in different departments or in some cases the value given would not be representative of a 100% appointment, so I skipped it and am only looking at those professors with 100% appointments. For those profs who have a secondary appointment, I'll get their total salary and assign it to the "primary" appointed department and ignore the secondary spot, as it would create big outliers down the way.</p>
<p>I'll also include only departments with four or more profs.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [4]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># clinical appointments often say "clinician ed-assoc prof"</span>
<span class="n">clin</span> <span class="o">=</span> <span class="n">salary</span><span class="p">[</span><span class="n">salary</span><span class="o">.</span><span class="n">job_title</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">'[Pp]rof$'</span><span class="p">)]</span>
<span class="n">nonclin</span> <span class="o">=</span> <span class="n">salary</span><span class="p">[</span><span class="n">salary</span><span class="o">.</span><span class="n">job_title</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">'[Pp]rofessor'</span><span class="p">)]</span>
<span class="n">profs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">clin</span><span class="p">,</span> <span class="n">nonclin</span><span class="p">])</span>
<span class="c1"># profs = salary[salary.job_title.str.contains('[Pp]rof')]</span>
<span class="n">profs</span> <span class="o">=</span> <span class="n">profs</span><span class="p">[</span><span class="n">profs</span><span class="o">.</span><span class="n">appt</span> <span class="o">==</span> <span class="mi">100</span><span class="p">]</span>

<span class="c1"># Identify profs that have multiple appointments and combine salary into one total</span>
<span class="c1"># because this really creates some outliers with small salaries</span>
<span class="n">sec</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">profs</span><span class="p">[</span><span class="n">profs</span><span class="p">[</span><span class="s1">'type'</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"Secondary"</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="n">double</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">profs</span><span class="p">[</span><span class="n">profs</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">x</span><span class="p">]</span>
<span class="n">_sum</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">double</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">annual</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">newsal</span> <span class="o">=</span> <span class="p">[</span><span class="n">_sum</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">sec</span><span class="p">]</span>
<span class="n">profs</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">profs</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">sec</span><span class="p">))</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">profs</span><span class="p">[</span><span class="s1">'type'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Primary'</span><span class="p">),</span> <span class="s1">'annual'</span><span class="p">]</span> <span class="o">=</span> <span class="n">newsal</span>
<span class="n">profs</span> <span class="o">=</span> <span class="n">profs</span><span class="p">[</span><span class="n">profs</span><span class="p">[</span><span class="s1">'type'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Primary'</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [5]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># aggregate some summary stats</span>
<span class="n">gbdept</span> <span class="o">=</span> <span class="n">profs</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">'department'</span><span class="p">)[</span><span class="s1">'annual'</span><span class="p">]</span>
<span class="n">aggfuncs</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">count_nonzero</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">]</span>
<span class="n">gbdept</span> <span class="o">=</span> <span class="n">gbdept</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">aggfuncs</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">gbdept</span><span class="o">.</span><span class="n">count_nonzero</span><span class="o">.</span><span class="n">describe</span><span class="p">())</span>
<span class="n">gbdept</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">'count_nonzero'</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="c1"># take only those dept with a few profs</span>
<span class="c1"># gbdept = gbdept[gbdept.count_nonzero &gt;= 3]</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>count    172.000000
mean       9.877907
std       10.346747
min        1.000000
25%        2.750000
50%        6.000000
75%       14.000000
max       59.000000
Name: count_nonzero, dtype: float64
</pre>
</div>
</div>
<div class="output_area"><div class="prompt output_prompt">Out[5]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>mean</th>
<th>median</th>
<th>std</th>
<th>count_nonzero</th>
<th>amin</th>
<th>amax</th>
</tr>
<tr>
<th>department</th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<th>Family Community Medicine FCM</th>
<td>146225.389831</td>
<td>150913.0</td>
<td>37479.262229</td>
<td>59</td>
<td>75035</td>
<td>265937</td>
</tr>
<tr>
<th>Pathology</th>
<td>177280.723404</td>
<td>173417.0</td>
<td>63674.969255</td>
<td>47</td>
<td>54000</td>
<td>372553</td>
</tr>
<tr>
<th>AS Biology General Administrative</th>
<td>88220.454545</td>
<td>84210.0</td>
<td>20874.310967</td>
<td>44</td>
<td>44500</td>
<td>153434</td>
</tr>
<tr>
<th>Emergency Medicine</th>
<td>196615.756757</td>
<td>179780.0</td>
<td>34703.803546</td>
<td>37</td>
<td>179780</td>
<td>344000</td>
</tr>
<tr>
<th>Art Art History</th>
<td>69705.583333</td>
<td>63139.5</td>
<td>18571.645985</td>
<td>36</td>
<td>45000</td>
<td>122154</td>
</tr>
<tr>
<th>English Department</th>
<td>71101.647059</td>
<td>66805.0</td>
<td>13569.978524</td>
<td>34</td>
<td>52500</td>
<td>106712</td>
</tr>
<tr>
<th>College of Nursing</th>
<td>113291.090909</td>
<td>109606.0</td>
<td>19572.267546</td>
<td>33</td>
<td>91809</td>
<td>165870</td>
</tr>
<tr>
<th>School of Law</th>
<td>117848.696970</td>
<td>120581.0</td>
<td>28495.728559</td>
<td>33</td>
<td>50000</td>
<td>197273</td>
</tr>
<tr>
<th>Physics Astronomy Department</th>
<td>93865.656250</td>
<td>86904.5</td>
<td>25957.668303</td>
<td>32</td>
<td>55000</td>
<td>153053</td>
</tr>
<tr>
<th>Gallup Branch</th>
<td>57258.468750</td>
<td>52581.5</td>
<td>14805.748443</td>
<td>32</td>
<td>45000</td>
<td>123691</td>
</tr>
<tr>
<th>...</th>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr>
<th>History</th>
<td>52500.000000</td>
<td>52500.0</td>
<td>NaN</td>
<td>1</td>
<td>52500</td>
<td>52500</td>
</tr>
<tr>
<th>SAAP Landscape Architecture Program</th>
<td>65460.000000</td>
<td>65460.0</td>
<td>NaN</td>
<td>1</td>
<td>65460</td>
<td>65460</td>
</tr>
<tr>
<th>IM Administration</th>
<td>207327.000000</td>
<td>207327.0</td>
<td>NaN</td>
<td>1</td>
<td>207327</td>
<td>207327</td>
</tr>
<tr>
<th>Pediatrics</th>
<td>300000.000000</td>
<td>300000.0</td>
<td>NaN</td>
<td>1</td>
<td>300000</td>
<td>300000</td>
</tr>
<tr>
<th>Psychiatry Psych</th>
<td>85850.000000</td>
<td>85850.0</td>
<td>NaN</td>
<td>1</td>
<td>85850</td>
<td>85850</td>
</tr>
<tr>
<th>Museum Studies</th>
<td>71431.000000</td>
<td>71431.0</td>
<td>NaN</td>
<td>1</td>
<td>71431</td>
<td>71431</td>
</tr>
<tr>
<th>Neonatology Developmental Care</th>
<td>92829.000000</td>
<td>92829.0</td>
<td>NaN</td>
<td>1</td>
<td>92829</td>
<td>92829</td>
</tr>
<tr>
<th>Presidents Office</th>
<td>188747.000000</td>
<td>188747.0</td>
<td>NaN</td>
<td>1</td>
<td>188747</td>
<td>188747</td>
</tr>
<tr>
<th>Political Science Department</th>
<td>70094.000000</td>
<td>70094.0</td>
<td>NaN</td>
<td>1</td>
<td>70094</td>
<td>70094</td>
</tr>
<tr>
<th>Orthopedics Shoulder &amp; Elbow</th>
<td>126836.000000</td>
<td>126836.0</td>
<td>NaN</td>
<td>1</td>
<td>126836</td>
<td>126836</td>
</tr>
</tbody>
</table>
<p>172 rows × 6 columns</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>I inspected the departments that had overlapping names and combined them. I'll spare you the output in this post, but the following cell printed out the groups i wanted to see. Clearly, a different strategy would be needed for larger datasets, but this was more than sufficient here.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [6]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">small_dept</span> <span class="o">=</span> <span class="n">gbdept</span><span class="p">[</span><span class="n">gbdept</span><span class="p">[</span><span class="s1">'count_nonzero'</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="c1"># print(small_dept)</span>

<span class="c1"># for redundancy</span>
<span class="n">small_dept</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="n">i</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">small_dept</span><span class="p">])</span>

<span class="n">_gbdept</span> <span class="o">=</span> <span class="n">gbdept</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="c1"># for d in small_dept:</span>
<span class="c1"># display(_gbdept[_gbdept.department.str.contains(d)])</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Using that above output, it's clear that some departments will be easy to manage, so here's some convenience to do so.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [7]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># helpful to keep from having to type this all the time</span>
<span class="n">dept_saver</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">profs</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">profs</span><span class="o">.</span><span class="n">department</span> <span class="o">==</span> <span class="n">x</span><span class="p">,</span> <span class="s1">'department'</span><span class="p">]</span>


<span class="c1"># deparments to reassign due to typos or oddities in the data</span>
<span class="n">redo</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">"History"</span><span class="p">,</span> <span class="s2">"History Department"</span><span class="p">),</span>
<span class="p">(</span><span class="s2">"Neurology Adult"</span><span class="p">,</span> <span class="s2">"Neurology"</span><span class="p">),</span>
<span class="p">(</span><span class="s2">"Neurology Child"</span><span class="p">,</span> <span class="s2">"Neurology"</span><span class="p">),</span>
<span class="p">(</span><span class="s2">"Political Science Department"</span><span class="p">,</span> <span class="s2">"Political Science"</span><span class="p">),</span>
<span class="p">(</span><span class="s2">"Sch Arch Planning Gen Admin"</span><span class="p">,</span> <span class="s2">"SAAP"</span><span class="p">),</span>
<span class="p">(</span><span class="s2">"Sociology Department"</span><span class="p">,</span> <span class="s2">"Sociology"</span><span class="p">),</span>
<span class="p">(</span><span class="s2">"Speech Hearing Sciences Gen Admin"</span><span class="p">,</span> <span class="s2">"Speech and Hearing Sciences"</span><span class="p">),</span>
<span class="p">(</span><span class="s2">"Valencia Social Cultural Studies"</span><span class="p">,</span> <span class="s2">"Valencia County Branch"</span><span class="p">)</span>
<span class="p">]</span>


<span class="c1"># little function to help</span>
<span class="k">def</span> <span class="nf">reassign_departments</span><span class="p">(</span><span class="n">tups</span><span class="p">):</span>
<span class="k">for</span> <span class="n">old</span><span class="p">,</span> <span class="n">new</span> <span class="ow">in</span> <span class="n">tups</span><span class="p">:</span>
<span class="n">profs</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">profs</span><span class="o">.</span><span class="n">department</span> <span class="o">==</span> <span class="n">old</span><span class="p">,</span> <span class="s1">'department'</span><span class="p">]</span> <span class="o">=</span> <span class="n">new</span>

<span class="n">reassign_departments</span><span class="p">(</span><span class="n">redo</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Psychiatry, Ortho, Pediatrics, Architecture &amp; planning, and Anesthesiology have a large number of small subdepartments and require something a bit more efficient.</p>
<p>Anesthesiology and Architecture are easy.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [8]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># i love the hell out of lambdas like this</span>
<span class="n">x</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">profs</span><span class="o">.</span><span class="n">department</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="n">profs</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">(</span><span class="s2">"SAAP"</span><span class="p">),</span> <span class="s1">'department'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Architecture and Planning'</span>
<span class="n">profs</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">(</span><span class="s1">'Anesthe'</span><span class="p">),</span> <span class="s1">'department'</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"Anesthesiology"</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We don't want to lump psychologists or neuropsychologists in with the psychiatrists  for multiple reasons:</p>
<ul>
<li>They have vastly different pay and credentials</li>
<li>They would be horribly offended</li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [9]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># captures both 'psychology' and 'neuropsychology'</span>
<span class="n">profs</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">(</span><span class="s2">"Psych"</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="o">~</span><span class="n">x</span><span class="p">(</span><span class="s2">"chology"</span><span class="p">)),</span> <span class="s1">'department'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'Psychiatry Combined'</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The ortho departments have a lot, but we don't want to include occupational or physical therapy in there.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [10]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">profs</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">(</span><span class="s2">"Ortho"</span><span class="p">)</span> <span class="o">&amp;</span> <span class="o">~</span><span class="n">x</span><span class="p">(</span><span class="s2">"Therapy"</span><span class="p">),</span> <span class="s1">'department'</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"Orthopaedics Combined"</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>For pediatrics, I'll take the departments that have 3 or less members and lump them into general peds. Luckily, this leaves out a few large and lower paying specialties: cards, neonatology, and OT.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [11]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">_gb</span> <span class="o">=</span> <span class="n">profs</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">x</span><span class="p">(</span><span class="s2">"Pediatrics"</span><span class="p">)]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">'department'</span><span class="p">)[</span><span class="s1">'annual'</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">aggfuncs</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">_gb</span><span class="p">)</span>
<span class="n">peds</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">_gb</span><span class="p">[</span><span class="n">_gb</span><span class="p">[</span><span class="s1">'count_nonzero'</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">department</span><span class="p">)</span>

<span class="n">reassign_departments</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">peds</span><span class="p">,</span> <span class="p">(</span><span class="n">it</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="s1">'Pediatrics General'</span> <span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">peds</span><span class="p">)))))</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_html rendered_html output_subarea ">
<div>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>mean</th>
<th>median</th>
<th>std</th>
<th>count_nonzero</th>
<th>amin</th>
<th>amax</th>
</tr>
<tr>
<th>department</th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<th>Pediatrics</th>
<td>300000</td>
<td>300000</td>
<td>NaN</td>
<td>1</td>
<td>300000</td>
<td>300000</td>
</tr>
<tr>
<th>Pediatrics Adolescent Medicine</th>
<td>151253</td>
<td>149480</td>
<td>25693.937755</td>
<td>3</td>
<td>126492</td>
<td>177788</td>
</tr>
<tr>
<th>Pediatrics Cardiology</th>
<td>231083</td>
<td>233600</td>
<td>29171.573313</td>
<td>4</td>
<td>193045</td>
<td>264090</td>
</tr>
<tr>
<th>Pediatrics Center for Development</th>
<td>85268</td>
<td>74824</td>
<td>20584.955936</td>
<td>12</td>
<td>71000</td>
<td>131593</td>
</tr>
<tr>
<th>Pediatrics Critical Care</th>
<td>178878</td>
<td>157030</td>
<td>44946.202758</td>
<td>18</td>
<td>136000</td>
<td>267450</td>
</tr>
<tr>
<th>Pediatrics Endocrinology</th>
<td>140000</td>
<td>140000</td>
<td>NaN</td>
<td>1</td>
<td>140000</td>
<td>140000</td>
</tr>
<tr>
<th>Pediatrics Gastroenterology</th>
<td>189325</td>
<td>189325</td>
<td>32067.292527</td>
<td>2</td>
<td>166650</td>
<td>212000</td>
</tr>
<tr>
<th>Pediatrics General</th>
<td>142403</td>
<td>135881</td>
<td>19826.288426</td>
<td>12</td>
<td>126250</td>
<td>187660</td>
</tr>
<tr>
<th>Pediatrics Genetics   Dysmorphology</th>
<td>160565</td>
<td>160565</td>
<td>22818.335829</td>
<td>2</td>
<td>144430</td>
<td>176700</td>
</tr>
<tr>
<th>Pediatrics Hematology Oncology</th>
<td>172664</td>
<td>164344</td>
<td>40573.796296</td>
<td>6</td>
<td>133320</td>
<td>219020</td>
</tr>
<tr>
<th>Pediatrics Infectious Disease</th>
<td>148992</td>
<td>144360</td>
<td>14513.382514</td>
<td>3</td>
<td>137360</td>
<td>165256</td>
</tr>
<tr>
<th>Pediatrics Neonatology Division</th>
<td>224448</td>
<td>219650</td>
<td>23694.451179</td>
<td>6</td>
<td>196900</td>
<td>261440</td>
</tr>
<tr>
<th>Pediatrics Nephrology</th>
<td>175855</td>
<td>172560</td>
<td>34373.435964</td>
<td>4</td>
<td>137310</td>
<td>220990</td>
</tr>
<tr>
<th>Pediatrics Occupational Therapy</th>
<td>98485</td>
<td>99490</td>
<td>18905.235568</td>
<td>6</td>
<td>77528</td>
<td>122328</td>
</tr>
<tr>
<th>Pediatrics Para Los Ninos</th>
<td>154968</td>
<td>154968</td>
<td>35614.140141</td>
<td>2</td>
<td>129785</td>
<td>180151</td>
</tr>
<tr>
<th>Pediatrics Pulmonary</th>
<td>146860</td>
<td>128150</td>
<td>52716.935609</td>
<td>3</td>
<td>106050</td>
<td>206380</td>
</tr>
<tr>
<th>Pediatrics Rehab Physical Med</th>
<td>166300</td>
<td>166300</td>
<td>65209.387361</td>
<td>2</td>
<td>120190</td>
<td>212410</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [12]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">gbdept</span> <span class="o">=</span> <span class="n">profs</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">'department'</span><span class="p">)[</span><span class="s1">'annual'</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">aggfuncs</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">gbdept</span><span class="o">.</span><span class="n">count_nonzero</span><span class="o">.</span><span class="n">describe</span><span class="p">())</span>
<span class="c1"># take only those dept with at least a few profs</span>
<span class="n">gbdept</span> <span class="o">=</span> <span class="n">gbdept</span><span class="p">[</span><span class="n">gbdept</span><span class="o">.</span><span class="n">count_nonzero</span> <span class="o">&gt;=</span> <span class="mi">4</span><span class="p">]</span>
<span class="n">gbdept</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">'mean'</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>count    137.000000
mean      12.401460
std       11.572317
min        1.000000
25%        3.000000
50%       10.000000
75%       17.000000
max       59.000000
Name: count_nonzero, dtype: float64
</pre>
</div>
</div>
<div class="output_area"><div class="prompt output_prompt">Out[12]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>mean</th>
<th>median</th>
<th>std</th>
<th>count_nonzero</th>
<th>amin</th>
<th>amax</th>
</tr>
<tr>
<th>department</th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<th>Radiation Oncology</th>
<td>323302.750000</td>
<td>325096</td>
<td>18652.953321</td>
<td>4</td>
<td>302900</td>
<td>340118</td>
</tr>
<tr>
<th>Radiology General</th>
<td>312001.115385</td>
<td>312090</td>
<td>34304.697216</td>
<td>26</td>
<td>208060</td>
<td>368998</td>
</tr>
<tr>
<th>Surgery Urology</th>
<td>277433.333333</td>
<td>269969</td>
<td>18836.236500</td>
<td>6</td>
<td>267852</td>
<td>315696</td>
</tr>
<tr>
<th>Medical Oncology</th>
<td>268891.411765</td>
<td>262095</td>
<td>53737.335164</td>
<td>17</td>
<td>202859</td>
<td>386486</td>
</tr>
<tr>
<th>Surgery Vascular</th>
<td>268751.000000</td>
<td>269334</td>
<td>39558.816051</td>
<td>4</td>
<td>233335</td>
<td>303000</td>
</tr>
<tr>
<th>Surgery Div of Plastic Surgery</th>
<td>262114.500000</td>
<td>236946</td>
<td>51912.781172</td>
<td>4</td>
<td>234600</td>
<td>339966</td>
</tr>
<tr>
<th>Surgery Head Neck Reconstructive</th>
<td>259951.272727</td>
<td>246946</td>
<td>32138.963257</td>
<td>11</td>
<td>226644</td>
<td>310963</td>
</tr>
<tr>
<th>SOM Neurosurgery</th>
<td>257467.071429</td>
<td>231391</td>
<td>154775.692116</td>
<td>14</td>
<td>83224</td>
<td>484800</td>
</tr>
<tr>
<th>Anesthesiology</th>
<td>252862.800000</td>
<td>249753</td>
<td>33707.754869</td>
<td>35</td>
<td>176750</td>
<td>364105</td>
</tr>
<tr>
<th>IM Div of Cardiology</th>
<td>252059.428571</td>
<td>239269</td>
<td>42250.692036</td>
<td>14</td>
<td>202000</td>
<td>348540</td>
</tr>
<tr>
<th>...</th>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr>
<th>Communication Journalism</th>
<td>69295.466667</td>
<td>65810</td>
<td>12352.498277</td>
<td>15</td>
<td>59352</td>
<td>100010</td>
</tr>
<tr>
<th>Foreign Languages Literatures</th>
<td>67135.000000</td>
<td>63595</td>
<td>11078.179399</td>
<td>16</td>
<td>54000</td>
<td>92986</td>
</tr>
<tr>
<th>Spanish Portuguese</th>
<td>64979.000000</td>
<td>66066</td>
<td>3569.649206</td>
<td>12</td>
<td>58526</td>
<td>70000</td>
</tr>
<tr>
<th>Music</th>
<td>63224.535714</td>
<td>61683</td>
<td>12158.008455</td>
<td>28</td>
<td>48500</td>
<td>101183</td>
</tr>
<tr>
<th>LosAlamos Branch</th>
<td>62145.000000</td>
<td>51170</td>
<td>25037.317362</td>
<td>4</td>
<td>46680</td>
<td>99560</td>
</tr>
<tr>
<th>Cinematic Arts Department</th>
<td>59296.333333</td>
<td>57257</td>
<td>19915.701661</td>
<td>6</td>
<td>32754</td>
<td>94037</td>
</tr>
<tr>
<th>Theatre and Dance</th>
<td>58887.500000</td>
<td>52350</td>
<td>11671.761547</td>
<td>10</td>
<td>50000</td>
<td>80167</td>
</tr>
<tr>
<th>Taos Branch</th>
<td>57631.000000</td>
<td>55808</td>
<td>5225.263400</td>
<td>6</td>
<td>53495</td>
<td>67761</td>
</tr>
<tr>
<th>Gallup Branch</th>
<td>57258.468750</td>
<td>52581</td>
<td>14805.748443</td>
<td>32</td>
<td>45000</td>
<td>123691</td>
</tr>
<tr>
<th>Valencia County Branch</th>
<td>49252.235294</td>
<td>46680</td>
<td>7974.972504</td>
<td>17</td>
<td>44000</td>
<td>76381</td>
</tr>
</tbody>
</table>
<p>101 rows × 6 columns</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Aggregating by job title here allows us to do some quality checks. There are a few data entry errors and we should ignore prof types that have nearly no samples, as well as visiting professors.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [13]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">ranks</span> <span class="o">=</span> <span class="n">profs</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"job_title"</span><span class="p">)[</span><span class="s1">'annual'</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">aggfuncs</span><span class="p">)</span>
<span class="n">ranks</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[13]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>mean</th>
<th>median</th>
<th>std</th>
<th>count_nonzero</th>
<th>amin</th>
<th>amax</th>
</tr>
<tr>
<th>job_title</th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<th>Assistant Professor</th>
<td>106075.117347</td>
<td>76970</td>
<td>69097.115159</td>
<td>392</td>
<td>44000</td>
<td>484800</td>
</tr>
<tr>
<th>Associate Professor</th>
<td>86908.610778</td>
<td>78782</td>
<td>30508.130742</td>
<td>334</td>
<td>44188</td>
<td>262095</td>
</tr>
<tr>
<th>Clincian Ed-Assoc Prof</th>
<td>306486.000000</td>
<td>306486</td>
<td>NaN</td>
<td>1</td>
<td>306486</td>
<td>306486</td>
</tr>
<tr>
<th>Clinician Ed - Assist Prof</th>
<td>157859.500000</td>
<td>157859</td>
<td>31000.268394</td>
<td>2</td>
<td>135939</td>
<td>179780</td>
</tr>
<tr>
<th>Clinician Ed - Professor</th>
<td>226128.775510</td>
<td>219196</td>
<td>66620.038126</td>
<td>98</td>
<td>115150</td>
<td>407650</td>
</tr>
<tr>
<th>Clinician Ed-Assist Prof</th>
<td>163634.683673</td>
<td>154379</td>
<td>55980.878006</td>
<td>196</td>
<td>71000</td>
<td>383296</td>
</tr>
<tr>
<th>Clinician Ed-Assoc Prof</th>
<td>197103.305344</td>
<td>191415</td>
<td>72043.408846</td>
<td>131</td>
<td>75861</td>
<td>478240</td>
</tr>
<tr>
<th>Distinguished Professor</th>
<td>139882.240000</td>
<td>141249</td>
<td>22884.355889</td>
<td>25</td>
<td>96000</td>
<td>176459</td>
</tr>
<tr>
<th>Professor</th>
<td>133021.684636</td>
<td>115038</td>
<td>60580.567097</td>
<td>371</td>
<td>50000</td>
<td>441986</td>
</tr>
<tr>
<th>Professor of Practice</th>
<td>49785.000000</td>
<td>45000</td>
<td>19860.627407</td>
<td>3</td>
<td>32754</td>
<td>71601</td>
</tr>
<tr>
<th>Research Assoc Professor</th>
<td>91289.680000</td>
<td>83252</td>
<td>26810.499613</td>
<td>25</td>
<td>55064</td>
<td>188747</td>
</tr>
<tr>
<th>Research Asst Professor</th>
<td>70651.100000</td>
<td>68372</td>
<td>16795.164727</td>
<td>80</td>
<td>38000</td>
<td>131789</td>
</tr>
<tr>
<th>Research Professor</th>
<td>130926.733333</td>
<td>106050</td>
<td>52930.345379</td>
<td>15</td>
<td>81870</td>
<td>287100</td>
</tr>
<tr>
<th>Visiting Assoc Professor</th>
<td>90000.000000</td>
<td>90000</td>
<td>NaN</td>
<td>1</td>
<td>90000</td>
<td>90000</td>
</tr>
<tr>
<th>Visiting Asst Professor</th>
<td>67589.833333</td>
<td>53250</td>
<td>29202.858914</td>
<td>18</td>
<td>43000</td>
<td>140000</td>
</tr>
<tr>
<th>Visiting Professor</th>
<td>98105.571429</td>
<td>85000</td>
<td>33336.723004</td>
<td>7</td>
<td>50000</td>
<td>140000</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [14]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">profs</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">profs</span><span class="o">.</span><span class="n">job_title</span> <span class="o">==</span> <span class="s2">"Clinician Ed - Assist Prof"</span><span class="p">,</span> <span class="s1">'job_title'</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"Clinician Ed-Assist Prof"</span>
<span class="n">profs</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">profs</span><span class="o">.</span><span class="n">job_title</span> <span class="o">==</span> <span class="s2">"Clincian Ed-Assoc Prof"</span><span class="p">,</span> <span class="s1">'job_title'</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"Clinician Ed-Assoc Prof"</span>

<span class="n">ignore</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'Professor of Practice'</span><span class="p">,</span>
<span class="s1">'Visiting Asst Professor'</span><span class="p">,</span>
<span class="s1">'Visiting Assoc Professor'</span><span class="p">,</span>
<span class="s1">'Visiting Professor'</span>
<span class="p">]</span>
<span class="n">profs</span> <span class="o">=</span> <span class="n">profs</span><span class="p">[</span><span class="o">~</span><span class="n">profs</span><span class="o">.</span><span class="n">job_title</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">ignore</span><span class="p">)]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">ranks</span> <span class="o">=</span> <span class="n">profs</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"job_title"</span><span class="p">)[</span><span class="s1">'annual'</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">aggfuncs</span><span class="p">)</span>
<span class="n">ranks</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[14]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>mean</th>
<th>median</th>
<th>std</th>
<th>count_nonzero</th>
<th>amin</th>
<th>amax</th>
</tr>
<tr>
<th>job_title</th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<th>Assistant Professor</th>
<td>106075</td>
<td>76970</td>
<td>69097.115157</td>
<td>392</td>
<td>44000</td>
<td>484800</td>
</tr>
<tr>
<th>Associate Professor</th>
<td>86908</td>
<td>78782</td>
<td>30508.130736</td>
<td>334</td>
<td>44188</td>
<td>262095</td>
</tr>
<tr>
<th>Clinician Ed - Professor</th>
<td>226128</td>
<td>219196</td>
<td>66620.038119</td>
<td>98</td>
<td>115150</td>
<td>407650</td>
</tr>
<tr>
<th>Clinician Ed-Assist Prof</th>
<td>163576</td>
<td>154379</td>
<td>55742.769226</td>
<td>198</td>
<td>71000</td>
<td>383296</td>
</tr>
<tr>
<th>Clinician Ed-Assoc Prof</th>
<td>197931</td>
<td>191415</td>
<td>72396.638175</td>
<td>132</td>
<td>75861</td>
<td>478240</td>
</tr>
<tr>
<th>Distinguished Professor</th>
<td>139882</td>
<td>141249</td>
<td>22884.355879</td>
<td>25</td>
<td>96000</td>
<td>176459</td>
</tr>
<tr>
<th>Professor</th>
<td>133021</td>
<td>115038</td>
<td>60580.567090</td>
<td>371</td>
<td>50000</td>
<td>441986</td>
</tr>
<tr>
<th>Research Assoc Professor</th>
<td>91289</td>
<td>83252</td>
<td>26810.499604</td>
<td>25</td>
<td>55064</td>
<td>188747</td>
</tr>
<tr>
<th>Research Asst Professor</th>
<td>70651</td>
<td>68372</td>
<td>16795.164721</td>
<td>80</td>
<td>38000</td>
<td>131789</td>
</tr>
<tr>
<th>Research Professor</th>
<td>130926</td>
<td>106050</td>
<td>52930.345370</td>
<td>15</td>
<td>81870</td>
<td>287100</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Adding-gender-information">Adding gender information<a class="anchor-link" href="#Adding-gender-information">¶</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Clearly, this data set does not have gender associated to each person, so we'll have to infer that. I used the <a href="http://www.ssa.gov/oact/babynames/limits.html">SSA's name popularity through time dataset</a> to help with that. It comes as a set of .txt files with name, gender, and frequency information for all years from 1880 onward. I saved that in a folder and read them in with glob's help.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [15]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">fn</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">'/dropbox/random_notebooks/unm_salary/yob*'</span><span class="p">)</span>

<span class="n">names</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">fn</span><span class="p">:</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s1">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">','</span><span class="p">)</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()]</span>
<span class="n">names</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">names</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1825433
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Each name is stored as such:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [16]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">names</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[16]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>[['mary', 'f', '7065'],
['anna', 'f', '2604'],
['emma', 'f', '2003'],
['elizabeth', 'f', '1939'],
['minnie', 'f', '1746'],
['margaret', 'f', '1578'],
['ida', 'f', '1472'],
['alice', 'f', '1414'],
['bertha', 'f', '1320'],
['sarah', 'f', '1288']]</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As the dataset contains duplicate names for males and females, i decided to break them up by gender and use the name with the greater number of occurances to determine gender. Pandas makes this process rather easy, giving us in the end a dataframe with no duplicate names and a sum of the number of times the name has been recorded.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [17]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># turn the list into a dataframe</span>
<span class="n">nameframe</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">'name'</span><span class="p">,</span> <span class="s1">'gender'</span><span class="p">,</span> <span class="s1">'num'</span><span class="p">])</span>
<span class="n">nameframe</span><span class="o">.</span><span class="n">num</span> <span class="o">=</span> <span class="n">nameframe</span><span class="o">.</span><span class="n">num</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">'int'</span><span class="p">)</span>

<span class="c1"># get unique dataframes of just the male and female nmaes</span>
<span class="n">female</span> <span class="o">=</span> <span class="n">nameframe</span><span class="p">[</span><span class="n">nameframe</span><span class="p">[</span><span class="s1">'gender'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'f'</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">'name'</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">male</span> <span class="o">=</span> <span class="n">nameframe</span><span class="p">[</span><span class="n">nameframe</span><span class="p">[</span><span class="s1">'gender'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'m'</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">'name'</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># get unique names with total counts</span>
<span class="n">male</span> <span class="o">=</span> <span class="n">male</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">'name'</span><span class="p">)[</span><span class="s1">'num'</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">female</span> <span class="o">=</span> <span class="n">female</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">'name'</span><span class="p">)[</span><span class="s1">'num'</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">male</span><span class="p">[</span><span class="s1">'gender'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'m'</span>
<span class="n">female</span><span class="p">[</span><span class="s1">'gender'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'f'</span>

<span class="c1"># make these into a set for fast lookups later</span>
<span class="n">mname</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">male</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="n">fname</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">female</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="n">nameframe</span> <span class="o">=</span> <span class="p">[]</span>
<span class="c1">#check results</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'Number of male names: '</span> <span class="o">+</span>  <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">mname</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'Number of female names: '</span> <span class="o">+</span>  <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">fname</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Number of male names: 39199
Number of female names: 64911
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Notice how my name appears with <em>far</em> greater frequency as a boy's name than a girl's name and how the inverse is true with the typical female spelling of the same name.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [18]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">display</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">male</span><span class="p">[</span><span class="n">male</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">'aaron'</span><span class="p">],</span> <span class="n">female</span><span class="p">[</span><span class="n">female</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">'aaron'</span><span class="p">]]))</span>
<span class="n">display</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">male</span><span class="p">[</span><span class="n">male</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">'erin'</span><span class="p">],</span> <span class="n">female</span><span class="p">[</span><span class="n">female</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">'erin'</span><span class="p">]]))</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_html rendered_html output_subarea ">
<div>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>name</th>
<th>num</th>
<th>gender</th>
</tr>
</thead>
<tbody>
<tr>
<th>83</th>
<td>aaron</td>
<td>553615</td>
<td>m</td>
</tr>
<tr>
<th>166</th>
<td>aaron</td>
<td>4228</td>
<td>f</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="output_area"><div class="prompt"></div>
<div class="output_html rendered_html output_subarea ">
<div>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>name</th>
<th>num</th>
<th>gender</th>
</tr>
</thead>
<tbody>
<tr>
<th>11667</th>
<td>erin</td>
<td>9071</td>
<td>m</td>
</tr>
<tr>
<th>19058</th>
<td>erin</td>
<td>309817</td>
<td>f</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now a bit of a hacky way of assigning gender in our dataframe. We'll default to an 'x' for names that are not found in the set.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [19]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># convenience lambdas</span>
<span class="n">fgetval</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">female</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">female</span><span class="p">[</span><span class="s1">'name'</span><span class="p">]</span> <span class="o">==</span> <span class="n">x</span><span class="p">,</span> <span class="s1">'num'</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">mgetval</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">male</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">male</span><span class="p">[</span><span class="s1">'name'</span><span class="p">]</span> <span class="o">==</span> <span class="n">x</span><span class="p">,</span> <span class="s1">'num'</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># i could rework the logic here to make it faster but this is pretty clear.</span>
<span class="k">def</span> <span class="nf">namer</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
<span class="n">_m</span> <span class="o">=</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">mname</span>
<span class="n">_f</span> <span class="o">=</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">fname</span>
<span class="k">if</span> <span class="n">_m</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">_f</span><span class="p">:</span>
<span class="k">return</span> <span class="s1">'m'</span>
<span class="k">elif</span> <span class="n">_f</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">_m</span><span class="p">:</span>
<span class="k">return</span> <span class="s1">'f'</span>
<span class="k">elif</span> <span class="n">_m</span> <span class="ow">and</span> <span class="n">_f</span><span class="p">:</span>
<span class="k">return</span> <span class="s1">'f'</span> <span class="k">if</span> <span class="n">fgetval</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">mgetval</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="k">else</span> <span class="s1">'m'</span>

<span class="k">return</span> <span class="s1">'x'</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Testing it out:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [20]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="nb">print</span><span class="p">(</span><span class="n">namer</span><span class="p">(</span><span class="s1">'aaron'</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">namer</span><span class="p">(</span><span class="s1">'erin'</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>m
f
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>now we have to extract the first name of everyone in the dataset...</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [21]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">profs</span><span class="o">.</span><span class="n">head</span><span class="p">()</span><span class="o">.</span><span class="n">name</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[21]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>26     Abraham, Shirley M.
29        Abrams, Swala K.
38    Achrekar, Abinash P.
47       Acosta, Sylvia J.
74       Adler, William M.
Name: name, dtype: object</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [22]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">prof_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">profs</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">tolist</span><span class="p">()]</span>

<span class="k">def</span> <span class="nf">get_first_names</span><span class="p">(</span><span class="n">names</span><span class="p">):</span>
<span class="c1"># this function annoys me</span>
<span class="n">first_names</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">names</span><span class="p">:</span>
<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
<span class="n">first_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
<span class="n">first_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
<span class="n">first_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="k">else</span><span class="p">:</span>
<span class="n">first_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="k">return</span> <span class="n">first_names</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [23]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">first_names</span> <span class="o">=</span> <span class="n">get_first_names</span><span class="p">(</span><span class="n">prof_names</span><span class="p">)</span>
<span class="n">profs</span><span class="p">[</span><span class="s1">'gender'</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">namer</span><span class="p">,</span> <span class="n">first_names</span><span class="p">))</span>
<span class="c1"># profs.gender = profs.gender.astype('category')</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can see that we have ~160 names that were not assigned correctly, with nearly all of those names being non-american names, but overall the naming strategy seems to have worked reasonably well.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [24]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="nb">print</span><span class="p">(</span><span class="n">profs</span><span class="o">.</span><span class="n">gender</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>

<span class="n">display</span><span class="p">(</span><span class="n">profs</span><span class="p">[</span><span class="n">profs</span><span class="p">[</span><span class="s1">'gender'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'x'</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">()[[</span><span class="s1">'name'</span><span class="p">,</span> <span class="s1">'department'</span><span class="p">,</span> <span class="s1">'gender'</span><span class="p">]])</span>
<span class="n">display</span><span class="p">(</span><span class="n">profs</span><span class="o">.</span><span class="n">head</span><span class="p">()[[</span><span class="s1">'name'</span><span class="p">,</span> <span class="s1">'department'</span><span class="p">,</span> <span class="s1">'gender'</span><span class="p">]])</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>m    802
f    713
x    155
Name: gender, dtype: int64
</pre>
</div>
</div>
<div class="output_area"><div class="prompt"></div>
<div class="output_html rendered_html output_subarea ">
<div>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>name</th>
<th>department</th>
<th>gender</th>
</tr>
</thead>
<tbody>
<tr>
<th>29</th>
<td>Abrams, Swala K.</td>
<td>Psychiatry Combined</td>
<td>x</td>
</tr>
<tr>
<th>38</th>
<td>Achrekar, Abinash P.</td>
<td>IM Div of Cardiology</td>
<td>x</td>
</tr>
<tr>
<th>108</th>
<td>Ahmed, Shozab</td>
<td>IM Div of Pulmonary CC and Sleep</td>
<td>x</td>
</tr>
<tr>
<th>536</th>
<td>Ayoubieh, Houriya S.</td>
<td>IM Division of Hospital Medicine</td>
<td>x</td>
</tr>
<tr>
<th>2160</th>
<td>Cline Parhamovich, Karen</td>
<td>Pathology</td>
<td>x</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="output_area"><div class="prompt"></div>
<div class="output_html rendered_html output_subarea ">
<div>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>name</th>
<th>department</th>
<th>gender</th>
</tr>
</thead>
<tbody>
<tr>
<th>26</th>
<td>Abraham, Shirley M.</td>
<td>Pediatrics Hematology Oncology</td>
<td>f</td>
</tr>
<tr>
<th>29</th>
<td>Abrams, Swala K.</td>
<td>Psychiatry Combined</td>
<td>x</td>
</tr>
<tr>
<th>38</th>
<td>Achrekar, Abinash P.</td>
<td>IM Div of Cardiology</td>
<td>x</td>
</tr>
<tr>
<th>47</th>
<td>Acosta, Sylvia J.</td>
<td>Pediatrics Center for Development</td>
<td>f</td>
</tr>
<tr>
<th>74</th>
<td>Adler, William M.</td>
<td>Medical Oncology</td>
<td>m</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Here's where things get fun: let's scrape the web a bit to help narrow down the lack of data for foreign names. I found a nice site -- <a href="http://www.gpeters.com/names/baby-names.php">geoff's baby name guesser</a> -- that can help with this. Using beautifulsoup, we can get the name: gender mapping we need. The webpage returns a result like:</p>
<pre><code>It's a girl!</code></pre>
<p>And we can easily pop out the gender from the resulting webpage to get what we need.</p>
<p>The beautifulsoup code is a bit dense, but i find using lots of lambdas, maps, and list comprehensions when using it to be really helpful.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [25]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">ungendered</span> <span class="o">=</span> <span class="n">profs</span><span class="p">[</span><span class="n">profs</span><span class="o">.</span><span class="n">gender</span> <span class="o">==</span> <span class="s1">'x'</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
<span class="c1"># this is nasty</span>
<span class="n">ungen_first_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">','</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">ungendered</span><span class="p">]</span>
<span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">ungendered</span><span class="p">,</span> <span class="n">ungen_first_names</span><span class="p">))[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[25]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>[('Abrams, Swala K.', 'swala'),
('Achrekar, Abinash P.', 'abinash'),
('Ahmed, Shozab', 'shozab'),
('Ayoubieh, Houriya S.', 'houriya'),
('Cline Parhamovich, Karen', 'karen'),
('Dayao, Zoneddy R.', 'zoneddy'),
('Del Campo de Gonzalez, Sara M.', 'sara'),
('Del Fabbro, Anilla', 'anilla'),
('Hedna, Vishnumurthy S.', 'vishnumurthy'),
('Howard Moran, Rebecca', 'rebecca')]</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [26]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">from</span> <span class="nn">bs4</span> <span class="k">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">import</span> <span class="nn">urllib.request</span> <span class="k">as</span> <span class="nn">req</span>
<span class="kn">import</span> <span class="nn">requests</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [27]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># this is dense but it does the job</span>

<span class="n">ungendered</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">profs</span><span class="p">[</span><span class="n">profs</span><span class="o">.</span><span class="n">gender</span> <span class="o">==</span> <span class="s1">'x'</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

<span class="c1"># helper functions to find and clean what we need from the html results</span>
<span class="n">gender</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">findAll</span><span class="p">(</span><span class="s2">"td"</span><span class="p">,</span> <span class="p">{</span><span class="s1">'valign'</span><span class="p">:</span> <span class="s1">'top'</span><span class="p">})[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">'b'</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s1">'!'</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">2</span><span class="p">]</span>
<span class="c1"># nice helper to get correct gender</span>
<span class="n">g</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s1">'m'</span> <span class="k">if</span> <span class="n">gender</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="s1">'boy'</span> <span class="k">else</span> <span class="s1">'f'</span> <span class="k">if</span> <span class="n">gender</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="s1">'girl'</span> <span class="k">else</span> <span class="s1">'x'</span>

<span class="n">url_base</span> <span class="o">=</span> <span class="s1">'http://www.gpeters.com/names/baby-names.php?name='</span>
<span class="n">url_end</span> <span class="o">=</span> <span class="s1">'&amp;button=Go'</span>
<span class="n">urls</span> <span class="o">=</span> <span class="p">[</span><span class="n">url_base</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="n">url_end</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">ungen_first_names</span><span class="p">]</span>

<span class="n">soup_getter</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span>  <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s1">'lxml'</span><span class="p">)</span>

<span class="c1"># scrape</span>
<span class="n">pages</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">soup_getter</span><span class="p">,</span> <span class="n">urls</span><span class="p">))</span>

<span class="c1"># test our results</span>
<span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">ungen_first_names</span><span class="p">,</span> <span class="p">[</span><span class="n">gender</span><span class="p">(</span><span class="n">page</span><span class="p">)</span> <span class="k">for</span> <span class="n">page</span> <span class="ow">in</span> <span class="n">pages</span><span class="p">],</span> <span class="p">[</span><span class="n">g</span><span class="p">(</span><span class="n">page</span><span class="p">)</span> <span class="k">for</span> <span class="n">page</span> <span class="ow">in</span> <span class="n">pages</span><span class="p">]))[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[27]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>[('swala', 'Guesser', 'x'),
('abinash', 'boy', 'm'),
('shozab', 'boy', 'm'),
('houriya', 'girl', 'f'),
('karen', 'girl', 'f'),
('zoneddy', 'Guesser', 'x'),
('sara', 'girl', 'f'),
('anilla', 'girl', 'f'),
('vishnumurthy', 'boy', 'm'),
('rebecca', 'girl', 'f')]</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [28]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">new_genders</span> <span class="o">=</span> <span class="p">[</span><span class="n">g</span><span class="p">(</span><span class="n">page</span><span class="p">)</span> <span class="k">for</span> <span class="n">page</span> <span class="ow">in</span> <span class="n">pages</span><span class="p">]</span>
<span class="n">profs</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">profs</span><span class="p">[</span><span class="s1">'gender'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'x'</span><span class="p">,</span> <span class="s1">'gender'</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_genders</span>
<span class="nb">print</span><span class="p">(</span><span class="n">profs</span><span class="o">.</span><span class="n">gender</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>m    872
f    761
x     37
Name: gender, dtype: int64
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>It worked, but let's examine a department I know pretty well.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [29]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">profs</span><span class="p">[</span><span class="n">profs</span><span class="o">.</span><span class="n">department</span> <span class="o">==</span> <span class="s2">"Computer Science"</span><span class="p">][[</span><span class="s2">"name"</span><span class="p">,</span> <span class="s2">"department"</span><span class="p">,</span> <span class="s2">"job_title"</span><span class="p">,</span> <span class="s2">"gender"</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[29]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>name</th>
<th>department</th>
<th>job_title</th>
<th>gender</th>
</tr>
</thead>
<tbody>
<tr>
<th>42</th>
<td>Ackley, David H.</td>
<td>Computer Science</td>
<td>Associate Professor</td>
<td>m</td>
</tr>
<tr>
<th>442</th>
<td>Arnold, Dorian</td>
<td>Computer Science</td>
<td>Associate Professor</td>
<td>m</td>
</tr>
<tr>
<th>1334</th>
<td>Bridges, Patrick G.</td>
<td>Computer Science</td>
<td>Associate Professor</td>
<td>m</td>
</tr>
<tr>
<th>2407</th>
<td>Crandall, Jedidiah R.</td>
<td>Computer Science</td>
<td>Associate Professor</td>
<td>m</td>
</tr>
<tr>
<th>3181</th>
<td>Estrada-Piedra, Trilce P.</td>
<td>Computer Science</td>
<td>Assistant Professor</td>
<td>f</td>
</tr>
<tr>
<th>3454</th>
<td>Forrest, Stephanie</td>
<td>Computer Science</td>
<td>Distinguished Professor</td>
<td>f</td>
</tr>
<tr>
<th>4579</th>
<td>Hayes, Thomas</td>
<td>Computer Science</td>
<td>Associate Professor</td>
<td>m</td>
</tr>
<tr>
<th>5448</th>
<td>Kapur, Deepak</td>
<td>Computer Science</td>
<td>Distinguished Professor</td>
<td>m</td>
</tr>
<tr>
<th>5523</th>
<td>Kelley, Patrick</td>
<td>Computer Science</td>
<td>Assistant Professor</td>
<td>m</td>
</tr>
<tr>
<th>6372</th>
<td>Luan, Shuang</td>
<td>Computer Science</td>
<td>Associate Professor</td>
<td>f</td>
</tr>
<tr>
<th>7576</th>
<td>Moses, Melanie</td>
<td>Computer Science</td>
<td>Associate Professor</td>
<td>f</td>
</tr>
<tr>
<th>7600</th>
<td>Mueen, Abdullah</td>
<td>Computer Science</td>
<td>Assistant Professor</td>
<td>m</td>
</tr>
<tr>
<th>9192</th>
<td>Roman, Gruia-Catalin</td>
<td>Computer Science</td>
<td>Professor</td>
<td>x</td>
</tr>
<tr>
<th>10414</th>
<td>Stefanovic, Darko</td>
<td>Computer Science</td>
<td>Professor</td>
<td>m</td>
</tr>
<tr>
<th>10669</th>
<td>Tapia, Lydia E.</td>
<td>Computer Science</td>
<td>Assistant Professor</td>
<td>f</td>
</tr>
<tr>
<th>11743</th>
<td>Williams, Lance R.</td>
<td>Computer Science</td>
<td>Associate Professor</td>
<td>m</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>There are two errors here: Shaung and Gruia are both men. That isn't the best success rate, but let's forge onward. I'll correct these two people, but be wary of the future results.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [30]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">profs</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">profs</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">'Roman, Gruia-Catalin'</span><span class="p">,</span> <span class="s1">'gender'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'m'</span>
<span class="n">profs</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">profs</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">'Luan, Shuang'</span><span class="p">,</span> <span class="s1">'gender'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'m'</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Onward-to-Plotting">Onward to Plotting<a class="anchor-link" href="#Onward-to-Plotting">¶</a></h2><p>Now let's group by estimated gender and department and aggregate some stats.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [31]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">genderdf</span> <span class="o">=</span> <span class="n">profs</span><span class="p">[</span><span class="n">profs</span><span class="o">.</span><span class="n">gender</span> <span class="o">!=</span> <span class="s1">'x'</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">'gender'</span><span class="p">)[</span><span class="s1">'annual'</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">aggfuncs</span><span class="p">)</span>
<span class="n">error</span> <span class="o">=</span> <span class="n">genderdf</span><span class="p">[</span><span class="s1">'std'</span><span class="p">]</span>
<span class="n">genderdf</span><span class="p">[[</span><span class="s1">'mean'</span><span class="p">]]</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">yerr</span><span class="o">=</span><span class="n">error</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">title</span><span class="o">=</span><span class="s2">"Annual Salary by gender"</span><span class="p">)</span>
<span class="n">genderdf</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[31]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>mean</th>
<th>median</th>
<th>std</th>
<th>count_nonzero</th>
<th>amin</th>
<th>amax</th>
</tr>
<tr>
<th>gender</th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<th>f</th>
<td>121001</td>
<td>99526</td>
<td>62788.035668</td>
<td>760</td>
<td>38000</td>
<td>407650</td>
</tr>
<tr>
<th>m</th>
<td>134459</td>
<td>111523</td>
<td>75760.686903</td>
<td>874</td>
<td>44000</td>
<td>484800</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="output_area"><div class="prompt"></div>
<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYcAAAGMCAYAAAAx2W69AAAABHNCSVQICAgIfAhkiAAAAAlwSFlz
AAALEgAACxIB0t1+/AAAIABJREFUeJzt3XuUXnV97/H3N8GIgKYEiSngQBTBiJF0UMR2PBkdubYF
tQuI2hIRsaK2ntZCwXqMl3YRWFbx1CpqEJASEVOr8RYCgTntUOQWIqlJMbXcohEsgVCgApLv+WPv
SZ7M78nMhExmTzLv11qz8uzfvn33zM58nv377f1MZCaSJLWa0HQBkqSxx3CQJBUMB0lSwXCQJBUM
B0lSwXCQJBUMB+20IuLSiFg6SvvaGBFvH419tdn37Hr/+zWx/x0pIm6IiC81XYdKhoM2iYj9IuLJ
iFgbEbvEuRERHRFxeUTcFxG/ioh1EXFtRPQ0Xds28oEkjapd4heARswZwGLgEeD3G65lu0XEbsAy
YH9gDvAyquO6BtinoXo0wiLiOU3XsCsyHARARARVOFwGfBX44zbL3B0RH4+IiyLioYj4RUR8uvUq
o+4m+HJEfKR+l/5Q/c59j5Zliu6giPjDiNjYMn1QRPxjRPwsIh6PiDsj4g+38bAOA14K/Glm/mtm
3p+Zt2XmpzLz6pZ9vS0ifhgRj0TELyPiuxHxsiG+X38aEXdExH/Xx/m1iJjWMr+/K+iEiPiXiHgC
eG9EPBoRcwZs66CIeCYifmeI4+mMiJsj4n8iYmVEvKFlGz+NiHMHbHePiNgQEe8Y5Dh+KyJuqre5
OiLeUv+cP9yyzJ4R8dn6ivLxiLg9It7SMv/A+lhPjojv1Mv8NCLmDthXR0QsiYgnIuLeiPhAm3p2
i4iPRcR/thznewYsszEi/iQiroyIR6jOV40ww0H9TgAmAT8ArgB6IqKjzXIfAH4OHFm//gAwd8Ay
fwDsDcwGTgV+D/jLIfafbNl1shfVu/5jgVcCXwS+EhGzh39IPAg8A5w8xLvLScAngVnAm4BfA98b
4p1+Ah+qa3sz8GLga22W+xQwH5gBfBO4EjhzwDJnAKsz88ZB9hfA3wIfq+u8GfhORLyonv/lejut
3gY8DXyj7QYjngd8D3gAeDXVz/EvgH0HLPpdYCZwMlXgfgH4Wms41c6nenMxE7gKWBARB7fM/xbV
efG/qK7gTgQ6B2xjAdX380zg5cAngPkRcfqA5T4K3Aj8FvCRdsen7ZSZfvkF1X/cC1umvw98YsAy
dwPfGtD2feDKlukbgDsGLPN54MaW6UuBpQOWeQfwzDBq/OJg22mzznuAR4EngD6qX9SvHmKdKcBG
4HUtbRuBtw+yzm9RBdFv1tOz263TstxL6+kJwP1UVzdb23b/tt7Z0jYRuAf4eD09FXgSeGPLMv8K
fHqQ7Z5Zf2/2amk7tN7Xh+vp7vp79/wB614CfLN+fWC9zgdb5k+ot31mPf2m1uOu215Yb/tL9fT0
eplDBuzr/7SeU/W+vtT0/5ld/csrBxER+wO/C1ze0nwFcEabgekVA6Z/DrxoQNuPhrHMUDU9LyLm
R8S/1V1T/w0cT/WLaNgy80vANOCtwFKqd603R8TZLfuaFRHfrLsyHgXupboy2Oq+IqK77iK5r17n
X+pZreskcOuAeu4AbgfeXTedQDX+ccVQhwL8sGU7zwC3UL2TJzMfBL5NfVUSEa8EXkt1RbE1M6iu
WB5r2e5dVGNO/V4NPBf4ed2F9t/1z+IdwMFsadPPPTM3Ul259f/cZwD/lZk/bVnmv4C7WtY/guoK
6bYB+/owVfdgq1vRDuUAmaDqjpgA3FGPPfSbQHX5/+2WtqcGrJuU3ZNDLbOR6pdAq4HdPp+q9/1n
wE+Ax4FPAy/Y6lFsRWY+ASypvz4REV+u//1Mvd9rqH65v5OqiwVgFVV3UyEiXkzVHXM58HHgv6i6
la5rs87jbTZxMfA3EfERqpD4ZmY+vK3HtZXtfi8iptTbvSkzVw+xzlB3QU2gCotXU/7MBv6ch3Nu
DLWvBF4H/E+bbbVq933VCPLKYZyrw+BdwN9Q9WUf3vJ1FVW3zEh7EBh4z/4RA6ZfT9Vd9Y+ZuZKq
S+uQEdr/v1P9Ep9M9Y52X+CvMvOf63fO+1D+Imz1GmB34M8y86bMXEN1dTLc202vqtd/L9WVw3Du
8w/gqE0TEROpxn1+3N+WmdcD99Xb/cNhbHcVMCMint+y3UOB32hZ5rZ6+nmZ+Z8DvtYOo+7Wfb0w
IjZdAUTEC6m6sfrdXv97YJt93b0N+9IIMBx0AnAAVR/uqtYvqsHFY7cyML09rgNeHhHvi4iXRMS7
qQY7W90FnBQRr4mIV1D9otumh8Dq7qLF9V00h0XE9Ig4FTgb6MvMh6i6kH4F/GldSw9wEdXVzdas
oQqCv6jvNHozVb94UUK7lesrmSupBpj/MzP/eZiHdG5EHB8RL6e6Sngh1eBwqy9TDdZOAK5mcFdS
vQO/IiJmRsRrqQaEn6AOujpwrgO+GREn1d/Dzoj4QEQMHADfqsxcBtwJ/EP9M50F/AMtVxt1l9Ol
wJejunvtpRHxqog4PSLOGe6+NDIMB50J/HAr7wKvBx5ic//4cN4ZD7lM/YviI8B5VGMYb6Dqnmn1
Z1S/uK8HrgXWspW7bgZxP9Uv8vOoBqPvrPdzKXBSXctDVO+y3wT8G3Ah1V1IA8Nh03HVVzJ/QnVV
9WPgz4EPtjvUQWr7EtXVy3CfDk6qO4k+CdxB1fVyYmb+YsByl1KF0j9k5q8G3WDm/1CN40ylGr/4
KlUwPk4VmP1OpLrT6tPAaqq7l04Aftq6ua3U3OokYAPw/6iep/kesHzAMmcCn6EaZ/gxVTCdNox9
aYRF5uDf54g4gOqkeRGb7xL4u4iYR/WDfLBe9MOZuaRe5zyqropfU93BsLRu76R6N7o78P3M/N91
+6R6H0dQ9d+empn31fPmAn9FdUL8TWZ6T7N2ehFxAvCPwIvrgdmR2u5hVCF4eGb+27NY/0CqLrzf
z8zvjVRd2vkMJxymAdMyc0VE7EXVL3gS1f3r/52Znx6w/AxgIVW/7AFUyf+yzMyIuBn4QGbeGhHf
Bz6bmddExFnAzMx8X33Z/5bMnBMRe1P1eXZSvRu6HejMzA0j9y2QRk/9bMGLgK8Dd2bmwGcenu12
J1GNnXyBanzg6GGu9w7gZ1SBcBBwQb2dl2fm0yNRm3ZOQ3YrZeYvMnNF/foxqsvK/evZ7fpUTwKu
ysxfZ+Y9VJf1R9Yh8/zM7L8F7atUD7v0r9N/G+Ui4I3162Op7mPfkJmPUN2KeNw2HJ801pxD9X/i
KeDcIZbdFm+jGozuAN63DevtQzXOsJpqDOIeYLbBoG0ac4iIg9j8dCbAByJiRUQsiIjJddv+VH29
/X5Wt+1P1W/cby2bQ2bTOvX92xvq2/G2ti1pp5SZH8/M52Tm6+vxjpHa7uWZOTEzZ9V3Tw13vf+b
mQdn5h6ZeUBmztnGu5C0ixr2cw51l9IiqjGExyLi81RP0GZE/DXVnRfvHnQjwzfYbYSFs846K3/6
058ybVr10TZ77rknBx98MLNmzQJgxYrquS2nhze9aNEiv39Oj9lpz89nP71ixQquueYaAKZNm8bh
hx/Ohz70oba/b4ccc4BNnyb5XeAHmfnZNvMPBL6Tma+K6sO/MjMvqOctAeZR3XlyQ2bOqNvnUF2+
ntW/TGbeXN+/vS4zp9bLdGfme+t1Lq638fXW/S9btiw7Owd+RIuerfnz53PuuSPZ4yGNHM/PkbN8
+XJ6enrahsNwu5W+AqxqDYZo+QRKqo8m6L8zYjEwJyImRcR0qkfsb6lvudsQEUfWD16dxuYnbxez
+cPbTqa6fRGqJ1ePjojJ9eD00XWbdqD77ruv6RKkrfL8HB1DditF9THC7wBWRsQdVLeUfhh4e/0g
y0aqQaw/BsjMVRFxNdUTkU8D78vNlyfvZ8tbWZfU7ZdQPYizhuq++jn1th6OiE9S3bGUVB8y9sj2
HrQkaXBDhkNWHyM8sc2sJW3a+tc5n+rjewe23071cb4D258ETtnKti6jChSNkre/vZG/hikNi+fn
6PAJaRW6urqaLkHaKs/P0eGnsqrQ19fnf0CNWX19fcyYMYMnn3yy6VJ2Cs997nPZZ59t/6u4hoOk
ncrEiVUv9377bdPnMI5bDz30EI899hh77bXXNq1nt5IKXjVoLOvo6GDKlClNl7HTmDJlChs2bPsn
DhkOknYqEcGWf5NKg3m23y/DQYW+vr6mS5C26tm8C9a2MxwkSQXDQQXHHDSWTZ48eeiFtN28W0nS
Tu+eeyawdu2OG4c44IDkoIMG+8uxux7DQQWfc9BYtmHDhuI21rVrgxNPfMEO2+fixY9y0EE7bPNj
kt1KkjRCZs2axd/93d/x+te/no6ODj74wQ/yy1/+klNOOYWOjg7e+ta38uijjwJw6623ctxxxzF9
+nRmz57NjTfeuGk7Cxcu5KijjqKjo4MjjjiCyy67bNO8G2+8kVe+8pX8/d//PYceeiiHHXYYCxcu
HPFjMRxU8KpBY9lYH3P47ne/y7e+9S1uueUWlixZwqmnnsq8efP4j//4DzZu3MgXv/hF1q1bx9ve
9jbOPvts7r77bj7xiU8wd+5c1q9fD8C+++7L1VdfzX333cfnPvc5PvKRj7By5cpN+3jwwQd57LHH
WLVqFRdddBHnnHPOptAZKYaDJI2g97znPeyzzz5MmzaNo446iiOOOILDDjuMSZMm8bu/+7vceeed
fOMb3+CYY46hp6cHgNmzZzNr1iyuvfZaAI4++mg6OjoAeN3rXscb3vAGbrrppk37mDRpEmeffTYT
J07k6KOPZs8992TNmmH/AcBhMRxU8DkHjWVj/TmHfffdd9Pr5z3veVtM77777jz22GPcf//9fOtb
3+IlL3kJL3nJS5g+fTq33HILDzzwAADXXnstxxxzDC996UuZPn061113HQ89tPmvyu69995MmDBh
i/08/vjjI3ocDkhL0iiKCA444ABOPfVUPvOZzxTzn3rqKU4//XQuvvhiTjjhBCZMmMAf/dEfMZy/
2jmSvHJQwTEHjWVjfcxhOE4++WSWLFnC9ddfz8aNG/nVr37FjTfeyLp163jqqad46qmn2GeffZgw
YQLXXnstN9xww6jX6JWDpJ3eAQckixeP7IDswO0Px8DPMNraZxrtt99+XHnllcybN48zzzyT3Xbb
jc7OTj71qU+x1157MX/+fE4//XSeeuopjjvuOI4//vht2u9IiNG+VNkRli1blp2dnU2XscvwOQeN
ZatXr2bGjBlNl7FT+fnPf972I86XL19OT09P22SxW0mSVDAcVPCqQWPZrjDmsDMwHCRJBcNBBZ9z
0Fg21p9z2FUYDpJ2KrvCTTQ7A8NBBcccNJbts88+PPHEE02XsdN44oknmDhx4jav53MOknYqU6dO
5cEHH+SRRx5pupSdwsSJE5k6deo2r2c4qOBzDhrLbrzxRs/PUWC3kiSpYDio4LsyjWWen6PDcJAk
FQwHFXzOQWOZ5+foMBwkSQXDQQX7dDWWeX6ODsNBklQwHFSwT1djmefn6DAcJEkFw0EF+3Q1lnl+
jg7DQZJUMBxUsE9XY5nn5+gwHCRJBcNBBft0NZZ5fo4Ow0GSVDAcVLBPV2OZ5+foMBwkSQXDQQX7
dDWWeX6ODsNBklQwHFSwT1djmefn6DAcJEkFw0EF+3Q1lnl+jg7DQZJUMBxUsE9XY01fXx/z589n
ypQpTJkyhfnz5zN//nzP1R1ot6YLkKShdHV10dXVxYUXXgjAueee23BFuz6vHFSwT1eS4SBJKhgO
KtiPK8lwkCQVDAcVHHOQZDhIkgqGgwqOOUgaMhwi4oCIuD4ifhwRKyPiT+v2vSNiaUTcFRHXRMTk
lnXOi4g1EbE6Io5pae+MiDsj4icRcVFL+6SIuKpe56aI6GiZN7de/q6IOG3kDl2StDXDuXL4NfDn
mXkY8Drg/RHxcuBc4LrMPBS4HjgPICJeAZwCzACOBz4fEVFv6wvAGZl5CHBIRBxbt58BrM/MlwEX
ARfW29ob+CjwGuC1wLzWENKO4ZiDpCHDITN/kZkr6tePAauBA4CTgMvrxS4H3ly/PhG4KjN/nZn3
AGuAIyNiGvD8zLy1Xu6rLeu0bmsR8Mb69bHA0szckJmPAEuB457NgUqShm+bxhwi4iBgFvBD4EWZ
+QBUAQJMrRfbH7i/ZbWf1W37A2tb2tfWbVusk5nPABsiYsog29IO5JiDpGF/tlJE7EX1rv6DmflY
ROSARQZOb48YepHNFi1axIIFC+joqIYqJk+ezMyZMzd1j/T/snN6eNMrV64cU/U47XTrdH/bWKln
Z5ru6+tj4cKFAHR0dDB16lR6enpoJzKH/p0eEbsB3wV+kJmfrdtWA92Z+UDdZXRDZs6IiHOBzMwL
6uWWAPOAe/uXqdvnALMz86z+ZTLz5oiYCKzLzKn1Mt2Z+d56nYvrbXy9tb5ly5ZlZ2fnkMchaec2
ZcoUANavX99wJbuG5cuX09PT0/bN+HC7lb4CrOoPhtpi4J3167nAt1va59R3IE0HDgZuqbueNkTE
kfUA9WkD1plbvz6ZaoAb4Brg6IiYXA9OH123SZJ2oCG7lSLid4B3ACsj4g6q7qMPAxcAV0fEu6iu
Ck4ByMxVEXE1sAp4Gnhfbr48eT9wGbA78P3MXFK3XwJcERFrgIeAOfW2Ho6ITwK31fv9eD0wrR2o
9ZJd0vg0ZDhk5o3AxK3MftNW1jkfOL9N++3AzDbtT1KHS5t5l1EFiiRplPiEtApeNUgyHCRJBcNB
BZ9zkGQ4SJIKhoMKjjlIMhwkSQXDQQXHHCQZDpKkguGggmMOkgwHSVLBcFDBMQdJhoMkqWA4qOCY
gyTDQZJUMBxUcMxBkuEgSSoYDio45iBpyL8Ep/Ghr6+Pvr4+LrzwQgDOOeccoAoKw0Iaf2Lzn3fe
eS1btiw7OzubLmOXMGXKFADWr1/fcCVSyfNzZC1fvpyenp5oN89uJUlSwXCQJBUMB0lSwXCQJBUM
B0lSwXCQJBUMB0lSwXCQJBUMB0lSwXCQJBUMB0lSwXCQJBUMB0lSwXCQJBUMB0lSwXCQJBUMB0lS
wXCQJBUMB0lSwXCQJBUMB0lSwXCQJBUMB0lSwXCQJBUMB0lSwXCQJBUMB0lSwXCQJBUMB0lSwXCQ
JBUMB0lSwXCQJBUMB0lSwXCQJBUMB0lSwXCQJBUMB0lSwXCQJBUMB0lSYchwiIhLIuKBiLizpW1e
RKyNiOX113Et886LiDURsToijmlp74yIOyPiJxFxUUv7pIi4ql7npojoaJk3t17+rog4bWQOWZI0
lOFcOVwKHNum/dOZ2Vl/LQGIiBnAKcAM4Hjg8xER9fJfAM7IzEOAQyKif5tnAOsz82XARcCF9bb2
Bj4KvAZ4LTAvIiY/m4OUJG2bIcMhM/uAh9vMijZtJwFXZeavM/MeYA1wZERMA56fmbfWy30VeHPL
OpfXrxcBb6xfHwsszcwNmfkIsBTYdIUiSdpxtmfM4QMRsSIiFrS8o98fuL9lmZ/VbfsDa1va19Zt
W6yTmc8AGyJiyiDbkiTtYLs9y/U+D3wiMzMi/hr4W+DdI1RTuyuSQS1atIgFCxbQ0VENV0yePJmZ
M2fS1dUFQF9fH4DTw5zubxsr9TjtdOt0f9tYqWdnmu7r62PhwoUAdHR0MHXqVHp6emgnMrPtjC0W
ijgQ+E5mvmqweRFxLpCZeUE9bwkwD7gXuCEzZ9Ttc4DZmXlW/zKZeXNETATWZebUepnuzHxvvc7F
9Ta+PrCGZcuWZWdn55DHoaFNmTIFgPXr1zdciVTy/BxZy5cvp6enp+0b8uF2KwUt7+jrMYR+bwX+
rX69GJhT34E0HTgYuCUzf0HVXXRkPUB9GvDtlnXm1q9PBq6vX18DHB0Rk+vB6aPrNknSDjZkt1JE
LAS6gX0i4j6qK4E3RMQsYCNwD/DHAJm5KiKuBlYBTwPvy82XJu8HLgN2B77ff4cTcAlwRUSsAR4C
5tTbejgiPgncBiTw8XpgWpK0gw0ZDpn59jbNlw6y/PnA+W3abwdmtml/kur213bbuowqUCRJo8gn
pCVJBcNBklQwHCRJBcNBklQwHCRJBcNBklQwHCRJBcNBklQwHCRJBcNBklQwHCRJBcNBklQwHCRJ
BcNBklQwHCRJBcNBklQY8o/9SBof7rlnAmvXtv1zwmNOX9/EpksY1AEHJAcdtLHpMraL4SAJgLVr
gxNPfEHTZQzLWK9z8eJHOeigpqvYPnYrSZIKhoMkqWA4SJIKhoMkqWA4SJIKhoMkqWA4SJIKhoMk
qWA4SJIKhoMkqWA4SJIKhoMkqWA4SJIKhoMkqWA4SJIKhoMkqeAf+xlF/qWtkbUr/LUtaawyHEaR
f2lrZO0Kf21LGqvsVpIkFQwHSVLBcJAkFQwHSVLBcJAkFQwHSVLBcJAkFQwHSVLBcJAkFQwHSVLB
cJAkFQwHSVLBcJAkFQwHSVLBcJAkFQwHSVLBcJAkFQwHSVLBcJAkFQwHSVLBcJAkFQwHSVJhyHCI
iEsi4oGIuLOlbe+IWBoRd0XENRExuWXeeRGxJiJWR8QxLe2dEXFnRPwkIi5qaZ8UEVfV69wUER0t
8+bWy98VEaeNzCFLkoYynCuHS4FjB7SdC1yXmYcC1wPnAUTEK4BTgBnA8cDnIyLqdb4AnJGZhwCH
RET/Ns8A1mfmy4CLgAvrbe0NfBR4DfBaYF5rCEmSdpwhwyEz+4CHBzSfBFxev74ceHP9+kTgqsz8
dWbeA6wBjoyIacDzM/PWermvtqzTuq1FwBvr18cCSzNzQ2Y+AiwFjtuGY5MkPUvPdsxhamY+AJCZ
vwCm1u37A/e3LPezum1/YG1L+9q6bYt1MvMZYENETBlkW5KkHWy3EdpOjtB2AGLoRba0aNEiFixY
QEdHNVwxefJkZs6cSVdXFwB9fX0AjU/D7Prf3vrf7jE63d82VurZ2nQnMHZ+vjv7tOfnyE2vXPk4
XV2/DYydn29XVxd9fX0sXLgQgI6ODqZOnUpPTw/tRObQv9cj4kDgO5n5qnp6NdCdmQ/UXUY3ZOaM
iDgXyMy8oF5uCTAPuLd/mbp9DjA7M8/qXyYzb46IicC6zJxaL9Odme+t17m43sbXB9a3bNmy7Ozs
HPI4mtbXN5ETT3xB02UMoT+bRzLvd4zFix+lq+uZpsvYZXh+jpyd5dxcvnw5PT09bd+QD7dbKdjy
Hf1i4J3167nAt1va59R3IE0HDgZuqbueNkTEkfUA9WkD1plbvz6ZaoAb4Brg6IiYXA9OH123SZJ2
sCG7lSJiIdX10j4RcR/VlcB84BsR8S6qq4JTADJzVURcDawCngbel5svTd4PXAbsDnw/M5fU7ZcA
V0TEGuAhYE69rYcj4pPAbVRvEz5eD0xLknawIcMhM9++lVlv2sry5wPnt2m/HZjZpv1J6nBpM+8y
qkCRJI0in5CWJBUMB0lSwXCQJBUMB0lSwXCQJBUMB0lSwXCQJBUMB0lSwXCQJBUMB0lSwXCQJBUM
B0lSwXCQJBUMB0lSwXCQJBUMB0lSwXCQJBUMB0lSwXCQJBUMB0lSwXCQJBUMB0lSwXCQJBUMB0lS
wXCQJBUMB0lSwXCQJBUMB0lSwXCQJBUMB0lSwXCQJBUMB0lSwXCQJBUMB0lSwXCQJBUMB0lSwXCQ
JBUMB0lSwXCQJBUMB0lSwXCQJBUMB0lSwXCQJBUMB0lSwXCQJBUMB0lSwXCQJBUMB0lSwXCQJBUM
B0lSwXCQJBV2a7oAjRW99de8evpj9b/d9ZfUpF48P0eX4aBaN5v/k/XifziNLd14fo4uu5UkSQXD
QW10N12ANIjupgsYFwwHSVLBcFAbvU0XIA2it+kCxgXDQZJU2K5wiIh7IuJHEXFHRNxSt+0dEUsj
4q6IuCYiJrcsf15ErImI1RFxTEt7Z0TcGRE/iYiLWtonRcRV9To3RUTH9tSr4epuugBpEN1NFzAu
bO+Vw0agOzN/KzOPrNvOBa7LzEOB64HzACLiFcApwAzgeODzERH1Ol8AzsjMQ4BDIuLYuv0MYH1m
vgy4CLhwO+uVJA3D9oZDtNnGScDl9evLgTfXr08ErsrMX2fmPcAa4MiImAY8PzNvrZf7ass6rdta
BPRsZ70alt6mC5AG0dt0AePC9oZDAtdGxK0R8e667UWZ+QBAZv4CmFq37w/c37Luz+q2/YG1Le1r
67Yt1snMZ4BHImLKdtYsSRrC9j4h/TuZuS4i9gWWRsRdVIHRauD09oh2jYsWLWLBggV0dFRDEpMn
T2bmzJl0dXUB0NfXB9D4NMyu/+2t/+0eo9P9bWOlnq1NdwJj5+e7s097fo7c9MqVj9PV9dvA2Pn5
dnV10dfXx8KFCwHo6Ohg6tSp9PS075CJzJH53R0R84DHgHdTjUM8UHcZ3ZCZMyLiXCAz84J6+SVU
H5Ryb/8ydfscYHZmntW/TGbeHBETgXWZOXXgvpctW5adnZ0jchw7Ul/fRE488QVNl7HLWLz4Ubq6
nmm6jF2G5+fI2VnOzeXLl9PT09P2Tfez7laKiD0iYq/69Z7AMcBKYDHwznqxucC369eLgTn1HUjT
gYOBW+qupw0RcWQ9QH3agHXm1q9Pphrg1g7X23QB0iB6my5gXNiebqUXAf8UEVlv58rMXBoRtwFX
R8S7qK4KTgHIzFURcTWwCngaeF9uvmx5P3AZsDvw/cxcUrdfAlwREWuAh4A521GvJGmYnnU4ZObd
wKw27euBN21lnfOB89u03w7MbNP+JHW4aDR1N12ANIjupgsYF3xCWpJUMBzURm/TBUiD6G26gHHB
cJAkFQwHtdHddAHSILqbLmBcMBwkSQXDQW30Nl2ANIjepgsYFwwHSVLBcFAb3U0XIA2iu+kCxgXD
QZJUMBzURm/TBUiD6G26gHHBcJAkFQwHtdHddAHSILqbLmBcMBwkSQXDQW30Nl2ANIjepgsYFwwH
SVLBcFAb3U0XIA2iu+kCxgXDQZJUMBzURm/TBUiD6G26gHHBcJAkFQwHtdHddAHSILqbLmBcMBwk
SQXDQW3WTgwqAAAF6ElEQVT0Nl2ANIjepgsYFwwHSVLBcFAb3U0XIA2iu+kCxgXDQZJUMBzURm/T
BUiD6G26gHHBcJAkFQwHtdHddAHSILqbLmBcMBwkSQXDQW30Nl2ANIjepgsYFwwHSVLBcFAb3U0X
IA2iu+kCxgXDQZJUMBzURm/TBUiD6G26gHHBcJAkFQwHtdHddAHSILqbLmBcMBwkSQXDQW30Nl2A
NIjepgsYFwwHSVLBcFAb3U0XIA2iu+kCxgXDQZJUMBzURm/TBUiD6G26gHHBcJAkFQwHtdHddAHS
ILqbLmBcMBwkSQXDQW30Nl2ANIjepgsYFwwHSVLBcFAb3U0XIA2iu+kCxgXDQZJUMBzURm/TBUiD
6G26gHHBcJAkFQwHtdHddAHSILqbLmBcMBwkSQXDQW30Nl2ANIjepgsYFwwHSVLBcFAb3U0XIA2i
u+kCxgXDQZJUMBzURm/TBUiD6G26gHFhpwiHiDguIv49In4SEX/ZdD27vhVNFyANwvNzNIz5cIiI
CcDngGOBw4C3RcTLm61qV/dI0wVIg/D8HA1jPhyAI4E1mXlvZj4NXAWc1HBNkrRL2xnCYX/g/pbp
tXWbdph7mi5AGsQ9TRcwLuzWdAEjYcWKFVx++eWbpg8//HBmzZrVYEXt7bEHXHdd01UMbcWKmcya
tazpMoZl+fKmK9h1eH6OrLF4bq5YsYIf/ehHm6YPP/xwenp62i4bmTladT0rEXEU8LHMPK6ePhfI
zLyg2cokade1M3Qr3QocHBEHRsQkYA6wuOGaJGmXNua7lTLzmYj4ALCUKswuyczVDZclSbu0Md+t
JEkafTtDt5IkaZQZDuNYRFxR//vBpmuRNLbYrTSORcQq4E3AD6g+6jJa52fm+gbKkrYQEa8G/go4
kGqcNKjuWHxVo4Xt4sb8gLR2qIuBZcBLgNvZMhyybpeadiVwNrAS2NhwLeOGVw4iIr6QmWc1XYfU
TkT0ZWZX03WMN4aDpDEtInqAt1Fd5T7Z356Z32ysqHHAbiVJY93pwMuB57C5WykBw2EH8spB0pgW
EXdl5qFN1zHeeCurpLHuXyPiFU0XMd545SBpTIuI1cBLgbupxhy8lXUUGA6SxrSIOLBde2beO9q1
jCeGgySp4JiDJKlgOEiSCoaDJKlgOEgNiYiNEeHnV2lMMhyk5ng3iMYsw0FqTgy9SJuVIiaOdCHS
QIaDNEBEdEbE8ojYEBFXR8RVEfGJet7vRcQdEfFwRPRFxMyW9e6OiA9FxI/q+V+LiEkt88+OiJ9H
xNqIOJ2WK4eImBQRn4qIeyNiXUR8PiKeW8+bHRH3R8Q5EbEO+MrofTc0XhkOUouIeA7VB7p9BZgC
fA14Sz1vFnAJcGY974vA4nqdficDxwDTgcOBd9brHgf8OdADvIzqjyy1ugA4GHhV/e/+wEdb5k8D
fgPoAN4zEscqDcZwkLZ0FDAxMz+Xmc9k5j8Bt9Tz3gNcnJm3ZeUKqo9zOKpl/c9m5gOZ+QjwHWBW
3X4ycGlmrs7M/wE+xpbdSmcCf5aZGzLzcWA+1cdU93sGmJeZT2fmk0g7mB/ZLW1pP+BnA9rur/89
EJgbEX9STwfVx0jv17LsAy2vnwB+s2W7t7XM2/TRDxGxL7AHcHvEpryYwJbh8cvMfHqbjkTaDoaD
tKV1VF06rV4M/AdwH/DXmXn+s9zui1umD2TzmMN/UQXJYZm5bivre2eTRpXdStKWbgKeiYj3R8TE
iDgJOLKetwA4KyKOBIiIPSPihIjYcxjbvRp4Z0TMiIg9aBlPyOoDzr4MXFRfRRAR+0fEMSN4XNI2
MRykFnXXzVuBdwMPA2+nGjt4MjNvr9s/FxHrgZ8Ac1tXH2S7S4CLgOvr9ZYNWOQvqa5OfhgRjwBL
gUNG4pikZ8NPZZWGEBE/BL6QmZc3XYs0WrxykAaIiP8VES+qu5XmAjOBJU3XJY0mB6Sl0qFUYwR7
AP8J/EFmPjD4KtKuxW4lSVLBbiVJUsFwkCQVDAdJUsFwkCQVDAdJUuH/AxNgNC/x/+lRAAAAAElF
TkSuQmCC
"/>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Overall, there is about a \$13,000 difference between men and women's pay, with clearly very wide ranges in pay across both genders.</p>
<h2 id="playing-with-bokeh">playing with bokeh<a class="anchor-link" href="#playing-with-bokeh">¶</a></h2><p>It took a bit to get used to Bokeh's syntax and how to manipulate plot objects, but moving down to a low-level plotting option gave me the control that i was looking for (more for the 2nd example that will come soon, but this was a good way of trying it out).</p>
<p>In the interest of saving space, I'll make all of the plots and combine them into an interactive set of Tabs that I will show at the bottom.</p>
<p>On to the code.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [32]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">from</span> <span class="nn">bokeh.io</span> <span class="k">import</span> <span class="n">output_notebook</span><span class="p">,</span> <span class="n">show</span>
<span class="kn">from</span> <span class="nn">bokeh.models.glyphs</span> <span class="k">import</span> <span class="n">Circle</span><span class="p">,</span> <span class="n">Text</span>
<span class="kn">from</span> <span class="nn">bokeh.models</span> <span class="k">import</span> <span class="n">ColumnDataSource</span><span class="p">,</span> <span class="n">Range1d</span><span class="p">,</span> <span class="n">DataRange1d</span><span class="p">,</span> <span class="n">Plot</span>
<span class="kn">from</span> <span class="nn">bokeh.plotting</span> <span class="k">import</span> <span class="n">figure</span>
<span class="kn">from</span> <span class="nn">bokeh.models</span> <span class="k">import</span> <span class="n">Grid</span><span class="p">,</span> <span class="n">LinearAxis</span><span class="p">,</span> <span class="n">SingleIntervalTicker</span>
<span class="kn">from</span> <span class="nn">bokeh.models</span> <span class="k">import</span> <span class="n">NumeralTickFormatter</span>
<span class="kn">from</span> <span class="nn">bokeh.models</span> <span class="k">import</span> <span class="n">PrintfTickFormatter</span>
<span class="kn">from</span> <span class="nn">bokeh.models</span> <span class="k">import</span> <span class="n">HoverTool</span><span class="p">,</span> <span class="n">BoxSelectTool</span>
<span class="kn">from</span> <span class="nn">bokeh.charts</span> <span class="k">import</span> <span class="n">Bar</span><span class="p">,</span> <span class="n">output_file</span>
<span class="c1"># this allows the plot to be displayed in the notebook</span>
<span class="n">output_notebook</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_html rendered_html output_subarea ">
<script type="text/javascript">

(function(global) {
function now() {
return new Date();
}

if (typeof (window._bokeh_onload_callbacks) === "undefined") {
window._bokeh_onload_callbacks = [];
}

function run_callbacks() {
window._bokeh_onload_callbacks.forEach(function(callback) { callback() });
delete window._bokeh_onload_callbacks
console.info("Bokeh: all callbacks have finished");
}

function load_libs(js_urls, callback) {
window._bokeh_onload_callbacks.push(callback);
if (window._bokeh_is_loading > 0) {
console.log("Bokeh: BokehJS is being loaded, scheduling callback at", now());
return null;
}
if (js_urls == null || js_urls.length === 0) {
run_callbacks();
return null;
}
console.log("Bokeh: BokehJS not loaded, scheduling load and callback at", now());
window._bokeh_is_loading = js_urls.length;
for (var i = 0; i < js_urls.length; i++) {
var url = js_urls[i];
var s = document.createElement('script');
s.src = url;
s.async = false;
s.onreadystatechange = s.onload = function() {
window._bokeh_is_loading--;
if (window._bokeh_is_loading === 0) {
console.log("Bokeh: all BokehJS libraries loaded");
run_callbacks()
}
};
s.onerror = function() {
console.warn("failed to load library " + url);
};
console.log("Bokeh: injecting script tag for BokehJS library: ", url);
document.getElementsByTagName("head")[0].appendChild(s);
}
};var js_urls = ['https://cdn.pydata.org/bokeh/release/bokeh-0.11.0.min.js', 'https://cdn.pydata.org/bokeh/release/bokeh-widgets-0.11.0.min.js', 'https://cdn.pydata.org/bokeh/release/bokeh-compiler-0.11.0.min.js'];

var inline_js = [
function(Bokeh) {
Bokeh.set_log_level("info");
},
function(Bokeh) {
console.log("Bokeh: injecting CSS: https://cdn.pydata.org/bokeh/release/bokeh-0.11.0.min.css");
Bokeh.embed.inject_css("https://cdn.pydata.org/bokeh/release/bokeh-0.11.0.min.css");
console.log("Bokeh: injecting CSS: https://cdn.pydata.org/bokeh/release/bokeh-widgets-0.11.0.min.css");
Bokeh.embed.inject_css("https://cdn.pydata.org/bokeh/release/bokeh-widgets-0.11.0.min.css");
}
];

function run_inline_js() {
for (var i = 0; i < inline_js.length; i++) {
inline_js[i](window.Bokeh);
}
}

if (window._bokeh_is_loading === 0) {
console.log("Bokeh: BokehJS loaded, going straight to plotting");
run_inline_js();
} else {
load_libs(js_urls, function() {
console.log("Bokeh: BokehJS plotting callback run at", now());
run_inline_js();
});
}
}(this));
</script>
<div>
<a class="bk-logo bk-logo-small bk-logo-notebook" href="http://bokeh.pydata.org" target="_blank"></a>
<span>BokehJS successfully loaded.</span>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Defining a few functions that make life easier:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [33]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">PLOT_HEIGHT</span> <span class="o">=</span> <span class="mi">1500</span>
<span class="n">PLOT_WIDTH</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">RESPONSIVE</span> <span class="o">=</span> <span class="kc">False</span>

<span class="n">PLOT_OPTIONS</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">plot_width</span><span class="o">=</span><span class="n">PLOT_WIDTH</span><span class="p">,</span>
<span class="n">plot_height</span><span class="o">=</span><span class="n">PLOT_HEIGHT</span><span class="p">,</span>
<span class="n">responsive</span><span class="o">=</span><span class="n">RESPONSIVE</span><span class="p">,</span>
<span class="n">title</span> <span class="o">=</span> <span class="s2">"PLOT"</span><span class="p">,</span>
<span class="p">)</span>

<span class="k">def</span> <span class="nf">make_error_bars</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">plot</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="sd">"""Returns data to plot error bars</span>
<span class="sd">    Args:</span>
<span class="sd">        df: pandas dataframe with columns "index", "mean", and "std"</span>
<span class="sd">        plot: the plot on which to draw the bars</span>
<span class="sd">    """</span>

<span class="n">bar_args</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">'black'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.55</span><span class="p">,</span> <span class="n">line_cap</span><span class="o">=</span><span class="s1">'round'</span><span class="p">)</span>
<span class="k">if</span> <span class="n">kwargs</span><span class="p">:</span>
<span class="n">bar_args</span> <span class="o">=</span> <span class="n">kwargs</span>

<span class="c1">### error bars ###</span>
<span class="c1"># http://stackoverflow.com/questions/29166353/how-do-you-add-error-bars-to-bokeh-plots-in-python</span>
<span class="n">err_x</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">err_y</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># yay for python</span>
<span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">yerr</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">df</span><span class="p">[</span><span class="s1">'mean'</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">'std'</span><span class="p">]):</span>
<span class="n">err_x</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span>
<span class="n">err_y</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">y</span> <span class="o">-</span> <span class="n">yerr</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="n">yerr</span><span class="p">))</span>

<span class="k">if</span> <span class="n">plot</span><span class="p">:</span>
<span class="n">plot</span><span class="o">.</span><span class="n">multi_line</span><span class="p">(</span><span class="n">err_y</span><span class="p">,</span> <span class="n">err_x</span><span class="p">,</span> <span class="o">**</span><span class="n">bar_args</span><span class="p">)</span>
<span class="k">return</span>
<span class="k">return</span> <span class="n">err_x</span><span class="p">,</span> <span class="n">err_y</span>



<span class="k">def</span> <span class="nf">add_formatting_opts</span><span class="p">(</span><span class="n">plot</span><span class="p">):</span>
<span class="c1"># strictly convenience</span>
<span class="c1"># in radians</span>
<span class="n">plot</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">major_label_orientation</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="c1"># format the x axis labels</span>
<span class="n">plot</span><span class="o">.</span><span class="n">xaxis</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">formatter</span> <span class="o">=</span> <span class="n">NumeralTickFormatter</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s1">'$ 0,0[.]00'</span><span class="p">)</span>

<span class="n">plot</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">axis_label_text_alpha</span> <span class="o">=</span> <span class="mf">0.75</span>
<span class="n">plot</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">axis_label_text_font_size</span> <span class="o">=</span> <span class="s1">'12pt'</span>
<span class="c1"># remove gridlines </span>
<span class="n">plot</span><span class="o">.</span><span class="n">ygrid</span><span class="o">.</span><span class="n">grid_line_color</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">plot</span><span class="o">.</span><span class="n">xgrid</span><span class="o">.</span><span class="n">grid_line_alpha</span> <span class="o">=</span> <span class="mf">0.4</span>
<span class="c1"># make a lightly dashed line</span>
<span class="n">plot</span><span class="o">.</span><span class="n">xgrid</span><span class="o">.</span><span class="n">grid_line_dash</span> <span class="o">=</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="n">plot</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">axis_line_alpha</span> <span class="o">=</span> <span class="mf">0.2</span>
<span class="n">plot</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">major_tick_line_alpha</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">plot</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">major_label_text_font_size</span> <span class="o">=</span> <span class="s1">'10pt'</span>
<span class="n">plot</span><span class="o">.</span><span class="n">legend</span><span class="o">.</span><span class="n">location</span><span class="o">=</span> <span class="s2">"top_right"</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [34]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">df</span> <span class="o">=</span> <span class="n">gbdept</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">'mean'</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># this is a hack to help index the dataframe for sorting data</span>
<span class="c1"># in the plot. could be made a bit easier, i suppose.</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The code for the first plot, displaying pay by department.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [35]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># defines the type of tips we want to have on the chart</span>
<span class="n">hover</span> <span class="o">=</span> <span class="n">HoverTool</span><span class="p">(</span>
<span class="n">tooltips</span><span class="o">=</span><span class="p">[</span>
<span class="p">(</span><span class="s2">"Department"</span><span class="p">,</span> <span class="s2">"@department"</span><span class="p">),</span>
<span class="p">(</span><span class="s2">"Salary Mean"</span><span class="p">,</span> <span class="s2">"@mean{$int:,}"</span><span class="p">),</span>
<span class="p">(</span><span class="s2">"Salary STD "</span><span class="p">,</span> <span class="s2">"@std{$int:,}"</span><span class="p">),</span>
<span class="p">(</span><span class="s2">"Salary Min "</span><span class="p">,</span> <span class="s2">"@amin{$int:,}"</span><span class="p">),</span>
<span class="p">(</span><span class="s2">"Salary Max "</span><span class="p">,</span> <span class="s2">"@amax{$int:,}"</span><span class="p">),</span>
<span class="p">(</span><span class="s2">"Dept Size"</span><span class="p">,</span> <span class="s2">"@count_nonzero"</span><span class="p">)</span>
<span class="p">]</span>
<span class="p">)</span>

<span class="n">tools</span> <span class="o">=</span> <span class="p">[</span><span class="n">hover</span><span class="p">,</span> <span class="s2">"pan"</span><span class="p">,</span> <span class="s2">"wheel_zoom"</span><span class="p">,</span> <span class="s2">"reset"</span><span class="p">,</span> <span class="s2">"resize"</span><span class="p">]</span>

<span class="c1"># allows us to get hovertips easily</span>
<span class="n">source</span> <span class="o">=</span> <span class="n">ColumnDataSource</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

<span class="n">PLOT_OPTIONS</span><span class="p">[</span><span class="s1">'tools'</span><span class="p">]</span> <span class="o">=</span> <span class="n">tools</span>
<span class="c1"># make the figure</span>
<span class="n">dept_plot</span> <span class="o">=</span> <span class="n">figure</span><span class="p">(</span><span class="n">y_range</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">'department'</span><span class="p">]),</span> <span class="o">**</span><span class="n">PLOT_OPTIONS</span><span class="p">)</span>
<span class="c1">#dept_plot.title = "Professor Pay at UNM by department"</span>
<span class="c1"># draw bars first to have circle on top</span>
<span class="n">make_error_bars</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">plot</span><span class="o">=</span><span class="n">dept_plot</span><span class="p">)</span>

<span class="c1"># draw means</span>
<span class="n">dept_plot</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">'mean'</span><span class="p">,</span>
<span class="n">y</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
<span class="n">size</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">'count_nonzero'</span><span class="p">])</span> <span class="o">+</span> <span class="mi">5</span><span class="p">,</span>
<span class="n">fill_alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="n">legend</span><span class="o">=</span><span class="s1">'size increases with department size'</span><span class="p">,</span>
<span class="n">source</span><span class="o">=</span><span class="n">source</span><span class="p">)</span>

<span class="n">dept_plot</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">'amin'</span><span class="p">,</span>
<span class="n">y</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
<span class="n">size</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="n">color</span><span class="o">=</span><span class="s1">'grey'</span><span class="p">,</span>
<span class="n">fill_alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="n">legend</span><span class="o">=</span><span class="s2">"Max and Min pay"</span><span class="p">,</span>
<span class="n">source</span><span class="o">=</span><span class="n">source</span><span class="p">)</span>

<span class="n">dept_plot</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">'amax'</span><span class="p">,</span>
<span class="n">y</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
<span class="n">size</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="n">color</span><span class="o">=</span><span class="s1">'grey'</span><span class="p">,</span>
<span class="n">fill_alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="n">source</span><span class="o">=</span><span class="n">source</span><span class="p">)</span>

<span class="n">dept_plot</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">"UNM Professor Pay per Department"</span>

<span class="n">add_formatting_opts</span><span class="p">(</span><span class="n">dept_plot</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>And now the code for a similar plot, but using rank instead of department.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [36]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># defines the type of tips we want to have on the chart</span>
<span class="n">ranks</span> <span class="o">=</span> <span class="n">profs</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">"job_title"</span><span class="p">)[</span><span class="s1">'annual'</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">aggfuncs</span><span class="p">)</span>
<span class="n">ranks</span> <span class="o">=</span> <span class="n">ranks</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">'mean'</span><span class="p">)</span>
<span class="n">ranks</span> <span class="o">=</span> <span class="n">ranks</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>

<span class="n">hover</span> <span class="o">=</span> <span class="n">HoverTool</span><span class="p">(</span>
<span class="n">tooltips</span><span class="o">=</span><span class="p">[</span>
<span class="p">(</span><span class="s2">"Title"</span><span class="p">,</span> <span class="s2">"@job_title"</span><span class="p">),</span>
<span class="p">(</span><span class="s2">"Salary Mean"</span><span class="p">,</span> <span class="s2">"@mean{$int:,}"</span><span class="p">),</span>
<span class="p">(</span><span class="s2">"Salary STD "</span><span class="p">,</span> <span class="s2">"@std{$int:,}"</span><span class="p">),</span>
<span class="p">(</span><span class="s2">"Total Number"</span><span class="p">,</span> <span class="s2">"@count_nonzero"</span><span class="p">)</span>
<span class="p">]</span>
<span class="p">)</span>

<span class="n">tools</span> <span class="o">=</span> <span class="p">[</span><span class="n">hover</span><span class="p">,</span> <span class="s2">"pan"</span><span class="p">,</span> <span class="s2">"wheel_zoom"</span><span class="p">,</span> <span class="s2">"reset"</span><span class="p">,</span> <span class="s2">"resize"</span><span class="p">]</span>

<span class="c1"># allows us to get hovertips easily</span>
<span class="n">source</span> <span class="o">=</span> <span class="n">ColumnDataSource</span><span class="p">(</span><span class="n">ranks</span><span class="p">)</span>

<span class="n">PLOT_OPTIONS</span><span class="p">[</span><span class="s1">'tools'</span><span class="p">]</span> <span class="o">=</span> <span class="n">tools</span>


<span class="c1"># make the figure</span>
<span class="n">rank_plot</span> <span class="o">=</span> <span class="n">figure</span><span class="p">(</span><span class="n">y_range</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">ranks</span><span class="p">[</span><span class="s1">'job_title'</span><span class="p">]),</span> <span class="o">**</span><span class="n">PLOT_OPTIONS</span><span class="p">)</span>

<span class="c1"># draw bars first to have circle on top</span>
<span class="n">make_error_bars</span><span class="p">(</span><span class="n">ranks</span><span class="p">,</span> <span class="n">plot</span><span class="o">=</span><span class="n">rank_plot</span><span class="p">)</span>

<span class="c1"># draw means</span>
<span class="n">rank_plot</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">'mean'</span><span class="p">,</span>
<span class="n">y</span><span class="o">=</span><span class="n">ranks</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
<span class="n">size</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">ranks</span><span class="p">[</span><span class="s1">'count_nonzero'</span><span class="p">])</span> <span class="o">+</span> <span class="mi">5</span><span class="p">,</span>
<span class="n">fill_alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="n">legend</span><span class="o">=</span><span class="s1">'point size increases with sample size'</span><span class="p">,</span>
<span class="n">source</span><span class="o">=</span><span class="n">source</span><span class="p">)</span>

<span class="c1"># draw min </span>
<span class="n">rank_plot</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">'amin'</span><span class="p">,</span>
<span class="n">y</span><span class="o">=</span><span class="n">ranks</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
<span class="n">size</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="n">fill_alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="n">color</span><span class="o">=</span><span class="s1">'grey'</span><span class="p">,</span>
<span class="n">source</span><span class="o">=</span><span class="n">source</span><span class="p">)</span>

<span class="c1"># draw max</span>
<span class="n">rank_plot</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">'amax'</span><span class="p">,</span>
<span class="n">y</span><span class="o">=</span><span class="n">ranks</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
<span class="n">size</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="n">fill_alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="n">color</span><span class="o">=</span><span class="s1">'grey'</span><span class="p">,</span>
<span class="n">legend</span><span class="o">=</span><span class="s1">'Max and Min Salary'</span><span class="p">,</span>
<span class="n">source</span><span class="o">=</span><span class="n">source</span><span class="p">)</span>


<span class="n">add_formatting_opts</span><span class="p">(</span><span class="n">rank_plot</span><span class="p">)</span>
<span class="n">rank_plot</span><span class="o">.</span><span class="n">legend</span><span class="o">.</span><span class="n">location</span><span class="o">=</span> <span class="s2">"bottom_right"</span>
<span class="n">rank_plot</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">"UNM Professor Pay By Rank"</span>

<span class="n">rank_plot</span><span class="o">.</span><span class="n">plot_height</span> <span class="o">=</span> <span class="mi">600</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>And let's look at pay overall in departments by gender. We'll include only departments that have three or more professors <em>of each</em> gender. I realize this is a small sample.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [37]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">df</span> <span class="o">=</span> <span class="n">profs</span><span class="p">[</span><span class="n">profs</span><span class="o">.</span><span class="n">gender</span> <span class="o">!=</span> <span class="s1">'x'</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">'department'</span><span class="p">,</span> <span class="s1">'gender'</span><span class="p">])[</span><span class="s1">'annual'</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">aggfuncs</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">count_nonzero</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">'department'</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">depts</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">gender</span> <span class="o">==</span><span class="mi">2</span><span class="p">,</span> <span class="s1">'department'</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>

<span class="n">gb</span> <span class="o">=</span> <span class="n">profs</span><span class="p">[</span><span class="n">profs</span><span class="o">.</span><span class="n">gender</span> <span class="o">!=</span> <span class="s1">'x'</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">'department'</span><span class="p">,</span> <span class="s1">'gender'</span><span class="p">])[</span><span class="s1">'annual'</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">aggfuncs</span><span class="p">)</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">gb</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="n">depts</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[37]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th></th>
<th>mean</th>
<th>median</th>
<th>std</th>
<th>count_nonzero</th>
<th>amin</th>
<th>amax</th>
</tr>
<tr>
<th>department</th>
<th>gender</th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<th rowspan="2" valign="top">AS Biology General Administrative</th>
<th>f</th>
<td>83524.090909</td>
<td>80240.0</td>
<td>14564.160295</td>
<td>11</td>
<td>65000</td>
<td>117478</td>
</tr>
<tr>
<th>m</th>
<td>89785.909091</td>
<td>87719.0</td>
<td>22563.834262</td>
<td>33</td>
<td>44500</td>
<td>153434</td>
</tr>
<tr>
<th rowspan="2" valign="top">ASM Department of Accounting</th>
<th>f</th>
<td>129213.500000</td>
<td>124895.5</td>
<td>15709.406704</td>
<td>4</td>
<td>116031</td>
<td>151032</td>
</tr>
<tr>
<th>m</th>
<td>130948.166667</td>
<td>126777.5</td>
<td>18784.059864</td>
<td>6</td>
<td>112146</td>
<td>165948</td>
</tr>
<tr>
<th rowspan="2" valign="top">ASM Finance Intl Tech Mngt FIT</th>
<th>f</th>
<td>136278.000000</td>
<td>137248.0</td>
<td>1952.906552</td>
<td>3</td>
<td>134030</td>
<td>137556</td>
</tr>
<tr>
<th>m</th>
<td>131192.500000</td>
<td>130616.0</td>
<td>12075.174284</td>
<td>8</td>
<td>117436</td>
<td>153599</td>
</tr>
<tr>
<th rowspan="2" valign="top">ASM Mrkting Info Decision Sci MIDS</th>
<th>f</th>
<td>121107.500000</td>
<td>119981.5</td>
<td>6462.042118</td>
<td>4</td>
<td>115128</td>
<td>129339</td>
</tr>
<tr>
<th>m</th>
<td>123455.666667</td>
<td>116200.0</td>
<td>21499.969680</td>
<td>9</td>
<td>102468</td>
<td>176459</td>
</tr>
<tr>
<th rowspan="2" valign="top">ASM Organizational Studies</th>
<th>f</th>
<td>129259.666667</td>
<td>130000.0</td>
<td>12619.544693</td>
<td>9</td>
<td>114665</td>
<td>159219</td>
</tr>
<tr>
<th>m</th>
<td>125647.666667</td>
<td>124056.0</td>
<td>5955.224121</td>
<td>3</td>
<td>120650</td>
<td>132237</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's introduce some logic to find the difference between aggregates for each gender in each department. As there are plenty of departments that do not meet our critiera or have only one gender, those will be discarded in the analysis and given a null value.
Pandas <a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.xs.html">cross-section</a>:</p>
<pre><code>df.xs()

</code></pre>
<p>is a beautiful, beautiful thing.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [38]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">dept_diffs</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">xs</span><span class="p">(</span><span class="s1">'m'</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">'gender'</span><span class="p">)</span> <span class="o">-</span>  <span class="n">df</span><span class="o">.</span><span class="n">xs</span><span class="p">(</span><span class="s1">'f'</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">'gender'</span><span class="p">))</span>
<span class="c1"># rename columns </span>
<span class="n">dept_diffs</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="s1">'diff'</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">dept_diffs</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
<span class="n">display</span><span class="p">(</span><span class="n">dept_diffs</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>

<span class="c1"># this left join will spread the diffs out to the right department </span>
<span class="n">_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(),</span> <span class="n">right</span><span class="o">=</span><span class="n">dept_diffs</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(),</span>
<span class="n">on</span><span class="o">=</span><span class="s1">'department'</span><span class="p">,</span>
<span class="n">how</span><span class="o">=</span><span class="s1">'left'</span><span class="p">)</span>

<span class="n">_df</span> <span class="o">=</span> <span class="n">_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s1">'meandiff'</span><span class="p">,</span> <span class="s1">'gender'</span><span class="p">])</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="c1"># hack to get a nicely labeled tick marker</span>
<span class="n">_df</span><span class="p">[</span><span class="s1">'dept'</span><span class="p">]</span> <span class="o">=</span> <span class="n">_df</span><span class="p">[</span><span class="s1">'department'</span><span class="p">]</span> <span class="o">+</span> <span class="s1">', '</span> <span class="o">+</span> <span class="n">_df</span><span class="p">[</span><span class="s1">'gender'</span><span class="p">]</span>
<span class="n">_df</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span> <span class="o">=</span> <span class="n">_df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">display</span><span class="p">(</span><span class="n">_df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_html rendered_html output_subarea ">
<div>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>meandiff</th>
<th>mediandiff</th>
<th>stddiff</th>
<th>count_nonzerodiff</th>
<th>amindiff</th>
<th>amaxdiff</th>
</tr>
<tr>
<th>department</th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<th>AS Biology General Administrative</th>
<td>6261.818182</td>
<td>7479.0</td>
<td>7999.673967</td>
<td>22</td>
<td>-20500</td>
<td>35956</td>
</tr>
<tr>
<th>ASM Department of Accounting</th>
<td>1734.666667</td>
<td>1882.0</td>
<td>3074.653160</td>
<td>2</td>
<td>-3885</td>
<td>14916</td>
</tr>
<tr>
<th>ASM Finance Intl Tech Mngt FIT</th>
<td>-5085.500000</td>
<td>-6632.0</td>
<td>10122.267733</td>
<td>5</td>
<td>-16594</td>
<td>16043</td>
</tr>
<tr>
<th>ASM Mrkting Info Decision Sci MIDS</th>
<td>2348.166667</td>
<td>-3781.5</td>
<td>15037.927562</td>
<td>5</td>
<td>-12660</td>
<td>47120</td>
</tr>
<tr>
<th>ASM Organizational Studies</th>
<td>-3612.000000</td>
<td>-5944.0</td>
<td>-6664.320571</td>
<td>-6</td>
<td>5985</td>
<td>-26982</td>
</tr>
<tr>
<th>American Studies Department</th>
<td>-11361.933333</td>
<td>-5962.0</td>
<td>-16134.322266</td>
<td>-1</td>
<td>7554</td>
<td>-39931</td>
</tr>
<tr>
<th>Anesthesiology</th>
<td>2538.895105</td>
<td>7600.5</td>
<td>9419.315746</td>
<td>9</td>
<td>-15857</td>
<td>58619</td>
</tr>
<tr>
<th>Anthropology Department</th>
<td>10004.113636</td>
<td>16413.5</td>
<td>-1862.220402</td>
<td>1</td>
<td>-59</td>
<td>-12950</td>
</tr>
<tr>
<th>Architecture and Planning</th>
<td>10052.214286</td>
<td>3672.0</td>
<td>11147.243376</td>
<td>7</td>
<td>-1682</td>
<td>47154</td>
</tr>
<tr>
<th>Art Art History</th>
<td>-1956.159091</td>
<td>-6625.0</td>
<td>5298.976508</td>
<td>-13</td>
<td>0</td>
<td>11841</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="output_area"><div class="prompt"></div>
<div class="output_html rendered_html output_subarea ">
<div>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>index</th>
<th>department</th>
<th>gender</th>
<th>mean</th>
<th>median</th>
<th>std</th>
<th>count_nonzero</th>
<th>amin</th>
<th>amax</th>
<th>meandiff</th>
<th>mediandiff</th>
<th>stddiff</th>
<th>count_nonzerodiff</th>
<th>amindiff</th>
<th>amaxdiff</th>
<th>dept</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>0</td>
<td>Surgical Oncology</td>
<td>f</td>
<td>260012.500000</td>
<td>262600</td>
<td>21136.988709</td>
<td>4</td>
<td>232300</td>
<td>282550</td>
<td>-51255.500000</td>
<td>-5050</td>
<td>113372.230072</td>
<td>-1</td>
<td>-175639</td>
<td>29510</td>
<td>Surgical Oncology, f</td>
</tr>
<tr>
<th>1</th>
<td>1</td>
<td>Surgical Oncology</td>
<td>m</td>
<td>208757.000000</td>
<td>257550</td>
<td>134509.218781</td>
<td>3</td>
<td>56661</td>
<td>312060</td>
<td>-51255.500000</td>
<td>-5050</td>
<td>113372.230072</td>
<td>-1</td>
<td>-175639</td>
<td>29510</td>
<td>Surgical Oncology, m</td>
</tr>
<tr>
<th>2</th>
<td>2</td>
<td>IM Div of Epidemiology</td>
<td>f</td>
<td>150271.071429</td>
<td>150490</td>
<td>48652.293915</td>
<td>14</td>
<td>84820</td>
<td>248766</td>
<td>-30166.871429</td>
<td>-35108</td>
<td>-15552.820925</td>
<td>-9</td>
<td>20</td>
<td>-83289</td>
<td>IM Div of Epidemiology, f</td>
</tr>
<tr>
<th>3</th>
<td>3</td>
<td>IM Div of Epidemiology</td>
<td>m</td>
<td>120104.200000</td>
<td>115382</td>
<td>33099.472990</td>
<td>5</td>
<td>84840</td>
<td>165477</td>
<td>-30166.871429</td>
<td>-35108</td>
<td>-15552.820925</td>
<td>-9</td>
<td>20</td>
<td>-83289</td>
<td>IM Div of Epidemiology, m</td>
</tr>
<tr>
<th>4</th>
<td>4</td>
<td>Neurosciences</td>
<td>f</td>
<td>142949.666667</td>
<td>159297</td>
<td>28665.867444</td>
<td>3</td>
<td>109850</td>
<td>159702</td>
<td>-29018.095238</td>
<td>-51778</td>
<td>310.855075</td>
<td>4</td>
<td>-29850</td>
<td>-5561</td>
<td>Neurosciences, f</td>
</tr>
<tr>
<th>5</th>
<td>5</td>
<td>Neurosciences</td>
<td>m</td>
<td>113931.571429</td>
<td>107519</td>
<td>28976.722519</td>
<td>7</td>
<td>80000</td>
<td>154141</td>
<td>-29018.095238</td>
<td>-51778</td>
<td>310.855075</td>
<td>4</td>
<td>-29850</td>
<td>-5561</td>
<td>Neurosciences, m</td>
</tr>
<tr>
<th>6</th>
<td>6</td>
<td>Pathology</td>
<td>f</td>
<td>187313.269231</td>
<td>190353</td>
<td>70434.711250</td>
<td>26</td>
<td>54000</td>
<td>372553</td>
<td>-22698.690283</td>
<td>-18653</td>
<td>-17119.528719</td>
<td>-7</td>
<td>1233</td>
<td>-117553</td>
<td>Pathology, f</td>
</tr>
<tr>
<th>7</th>
<td>7</td>
<td>Pathology</td>
<td>m</td>
<td>164614.578947</td>
<td>171700</td>
<td>53315.182530</td>
<td>19</td>
<td>55233</td>
<td>255000</td>
<td>-22698.690283</td>
<td>-18653</td>
<td>-17119.528719</td>
<td>-7</td>
<td>1233</td>
<td>-117553</td>
<td>Pathology, m</td>
</tr>
<tr>
<th>8</th>
<td>8</td>
<td>Organization Info Learning Sci-OILS</td>
<td>f</td>
<td>89500.000000</td>
<td>97303</td>
<td>19318.923598</td>
<td>3</td>
<td>67500</td>
<td>103697</td>
<td>-16021.250000</td>
<td>-28365</td>
<td>-7187.904257</td>
<td>1</td>
<td>-2500</td>
<td>-12658</td>
<td>Organization Info Learning Sci-OILS, f</td>
</tr>
<tr>
<th>9</th>
<td>9</td>
<td>Organization Info Learning Sci-OILS</td>
<td>m</td>
<td>73478.750000</td>
<td>68938</td>
<td>12131.019341</td>
<td>4</td>
<td>65000</td>
<td>91039</td>
<td>-16021.250000</td>
<td>-28365</td>
<td>-7187.904257</td>
<td>1</td>
<td>-2500</td>
<td>-12658</td>
<td>Organization Info Learning Sci-OILS, m</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Pay-by-department-and-estimated-gender">Pay by department and estimated gender<a class="anchor-link" href="#Pay-by-department-and-estimated-gender">¶</a></h2><p>And now the fun...</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [39]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">hover</span> <span class="o">=</span> <span class="n">HoverTool</span><span class="p">(</span>
<span class="n">tooltips</span><span class="o">=</span><span class="p">[</span>
<span class="p">(</span><span class="s2">"Department"</span><span class="p">,</span> <span class="s2">"@dept"</span><span class="p">),</span>
<span class="p">(</span><span class="s2">"Estimated Gender"</span><span class="p">,</span> <span class="s2">"@gender"</span><span class="p">),</span>
<span class="p">(</span><span class="s2">"Mean Annual Salary"</span><span class="p">,</span> <span class="s2">"@mean{$int:,}"</span><span class="p">),</span>
<span class="p">(</span><span class="s2">"Mean Annual Salary STD"</span><span class="p">,</span> <span class="s2">"@std{$int:,}"</span><span class="p">),</span>
<span class="p">(</span><span class="s2">"Median Annual Salary"</span><span class="p">,</span> <span class="s2">"@median{$int:,}"</span><span class="p">),</span>
<span class="p">(</span><span class="s2">"# in department"</span><span class="p">,</span> <span class="s2">"@count_nonzero"</span><span class="p">)</span>
<span class="p">]</span>
<span class="p">)</span>
<span class="n">tools</span> <span class="o">=</span> <span class="p">[</span><span class="n">hover</span><span class="p">,</span> <span class="s2">"pan"</span><span class="p">,</span> <span class="s2">"wheel_zoom"</span><span class="p">,</span> <span class="s2">"reset"</span> <span class="p">,</span><span class="s2">"resize"</span><span class="p">]</span>
<span class="n">PLOT_OPTIONS</span><span class="p">[</span><span class="s1">'tools'</span><span class="p">]</span> <span class="o">=</span> <span class="n">tools</span>

<span class="n">dept_gender</span> <span class="o">=</span> <span class="n">figure</span><span class="p">(</span><span class="n">y_range</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">_df</span><span class="p">[</span><span class="s1">'dept'</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">),</span> <span class="o">**</span><span class="n">PLOT_OPTIONS</span><span class="p">)</span>

<span class="c1"># easier to plot colors by separating these out</span>
<span class="n">boys</span> <span class="o">=</span> <span class="n">_df</span><span class="p">[</span><span class="n">_df</span><span class="p">[</span><span class="s1">'gender'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'m'</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">girls</span> <span class="o">=</span> <span class="n">_df</span><span class="p">[</span><span class="n">_df</span><span class="p">[</span><span class="s1">'gender'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'f'</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># set the column data sources for the hovertips</span>
<span class="n">_boys</span> <span class="o">=</span> <span class="n">ColumnDataSource</span><span class="p">(</span><span class="n">boys</span><span class="p">)</span>
<span class="n">_girls</span> <span class="o">=</span> <span class="n">ColumnDataSource</span><span class="p">(</span><span class="n">girls</span><span class="p">)</span>
<span class="n">bar_width</span> <span class="o">=</span> <span class="mf">0.3</span>

<span class="c1"># manually draw the bars on the plot</span>

<span class="c1">## boys</span>
<span class="n">dept_gender</span><span class="o">.</span><span class="n">quad</span><span class="p">(</span><span class="n">right</span><span class="o">=</span><span class="n">boys</span><span class="p">[</span><span class="s1">'mean'</span><span class="p">],</span>
<span class="n">left</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<span class="n">bottom</span><span class="o">=</span> <span class="n">boys</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">bar_width</span> <span class="p">,</span>
<span class="n">top</span><span class="o">=</span> <span class="n">boys</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">bar_width</span><span class="p">,</span>
<span class="n">fill_color</span><span class="o">=</span><span class="s1">'blue'</span><span class="p">,</span>
<span class="n">fill_alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span>
<span class="n">legend</span><span class="o">=</span><span class="s2">"Men's pay"</span><span class="p">,</span>
<span class="n">source</span><span class="o">=</span><span class="n">_boys</span><span class="p">)</span>

<span class="c1">## girls</span>
<span class="n">dept_gender</span><span class="o">.</span><span class="n">quad</span><span class="p">(</span><span class="n">right</span><span class="o">=</span><span class="n">girls</span><span class="p">[</span><span class="s1">'mean'</span><span class="p">],</span>
<span class="n">left</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<span class="n">bottom</span><span class="o">=</span> <span class="n">girls</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>  <span class="o">-</span> <span class="n">bar_width</span> <span class="p">,</span>
<span class="n">top</span><span class="o">=</span> <span class="n">girls</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">bar_width</span> <span class="p">,</span>
<span class="n">fill_color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">,</span>
<span class="n">fill_alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span>
<span class="n">legend</span><span class="o">=</span><span class="s2">"Women's pay"</span><span class="p">,</span>
<span class="n">source</span><span class="o">=</span><span class="n">_girls</span><span class="p">)</span>

<span class="n">add_formatting_opts</span><span class="p">(</span><span class="n">dept_gender</span><span class="p">)</span>
<span class="n">make_error_bars</span><span class="p">(</span><span class="n">_df</span><span class="p">,</span> <span class="n">plot</span><span class="o">=</span><span class="n">dept_gender</span><span class="p">)</span>
<span class="n">dept_gender</span><span class="o">.</span><span class="n">plot_height</span> <span class="o">=</span> <span class="mi">2300</span>
<span class="n">dept_gender</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">"UNM Professor Pay by Department and Estimated Gender"</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The plot is sorted by the greatest difference in pay between men and women in a department. In some departments, women earn more than men.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Pay-by-rank-and-estimated-gender">Pay by rank and estimated gender<a class="anchor-link" href="#Pay-by-rank-and-estimated-gender">¶</a></h2><p>Now let's do the same for rank and gender.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [40]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">gender_rank</span> <span class="o">=</span> <span class="n">profs</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">profs</span><span class="o">.</span><span class="n">gender</span> <span class="o">==</span> <span class="s1">'x'</span><span class="p">)]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">'job_title'</span><span class="p">,</span> <span class="s1">'gender'</span><span class="p">])[</span><span class="s1">'annual'</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">aggfuncs</span><span class="p">)</span>
<span class="n">gender_rank</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="n">g_diffs</span> <span class="o">=</span> <span class="p">(</span><span class="n">gender_rank</span><span class="o">.</span><span class="n">xs</span><span class="p">(</span><span class="s1">'m'</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">'gender'</span><span class="p">)</span> <span class="o">-</span>  <span class="n">gender_rank</span><span class="o">.</span><span class="n">xs</span><span class="p">(</span><span class="s1">'f'</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">'gender'</span><span class="p">))</span>
<span class="c1"># rename columns </span>
<span class="n">g_diffs</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="s1">'diff'</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">g_diffs</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
<span class="n">g_diffs</span>

<span class="c1"># this left join will spread the diffs out to the right department </span>
<span class="n">gender_rank</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="n">gender_rank</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(),</span> <span class="n">right</span><span class="o">=</span><span class="n">g_diffs</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(),</span>
<span class="n">on</span><span class="o">=</span><span class="s1">'job_title'</span><span class="p">,</span>
<span class="n">how</span><span class="o">=</span><span class="s1">'left'</span><span class="p">)</span>

<span class="n">gender_rank</span> <span class="o">=</span> <span class="n">gender_rank</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s1">'meandiff'</span><span class="p">,</span> <span class="s1">'gender'</span><span class="p">])</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="c1"># hack to get a nicely labeled tick marker</span>
<span class="n">gender_rank</span><span class="p">[</span><span class="s1">'rank'</span><span class="p">]</span> <span class="o">=</span> <span class="n">gender_rank</span><span class="p">[</span><span class="s1">'job_title'</span><span class="p">]</span> <span class="o">+</span> <span class="s1">', '</span> <span class="o">+</span> <span class="n">gender_rank</span><span class="p">[</span><span class="s1">'gender'</span><span class="p">]</span>

<span class="n">gender_rank</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span> <span class="o">=</span> <span class="n">gender_rank</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">gender_rank</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[40]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>index</th>
<th>job_title</th>
<th>gender</th>
<th>mean</th>
<th>median</th>
<th>std</th>
<th>count_nonzero</th>
<th>amin</th>
<th>amax</th>
<th>meandiff</th>
<th>mediandiff</th>
<th>stddiff</th>
<th>count_nonzerodiff</th>
<th>amindiff</th>
<th>amaxdiff</th>
<th>rank</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>0</td>
<td>Research Professor</td>
<td>f</td>
<td>142329.333333</td>
<td>139481</td>
<td>37784.105971</td>
<td>3</td>
<td>106050</td>
<td>181457</td>
<td>-14253.250000</td>
<td>-36242</td>
<td>19328.104799</td>
<td>9</td>
<td>-24180</td>
<td>105643</td>
<td>Research Professor, f</td>
</tr>
<tr>
<th>1</th>
<td>1</td>
<td>Research Professor</td>
<td>m</td>
<td>128076.083333</td>
<td>103239</td>
<td>57112.210770</td>
<td>12</td>
<td>81870</td>
<td>287100</td>
<td>-14253.250000</td>
<td>-36242</td>
<td>19328.104799</td>
<td>9</td>
<td>-24180</td>
<td>105643</td>
<td>Research Professor, m</td>
</tr>
<tr>
<th>2</th>
<td>2</td>
<td>Research Assoc Professor</td>
<td>f</td>
<td>98995.777778</td>
<td>93566</td>
<td>18885.104501</td>
<td>9</td>
<td>71054</td>
<td>124836</td>
<td>-12609.177778</td>
<td>-18134</td>
<td>12151.125957</td>
<td>6</td>
<td>-15990</td>
<td>63911</td>
<td>Research Assoc Professor, f</td>
</tr>
<tr>
<th>3</th>
<td>3</td>
<td>Research Assoc Professor</td>
<td>m</td>
<td>86386.600000</td>
<td>75432</td>
<td>31036.230457</td>
<td>15</td>
<td>55064</td>
<td>188747</td>
<td>-12609.177778</td>
<td>-18134</td>
<td>12151.125957</td>
<td>6</td>
<td>-15990</td>
<td>63911</td>
<td>Research Assoc Professor, m</td>
</tr>
<tr>
<th>4</th>
<td>4</td>
<td>Distinguished Professor</td>
<td>f</td>
<td>138184.750000</td>
<td>136381</td>
<td>25385.266396</td>
<td>8</td>
<td>103697</td>
<td>174776</td>
<td>2496.308824</td>
<td>9115</td>
<td>-2991.255009</td>
<td>9</td>
<td>-7697</td>
<td>1683</td>
<td>Distinguished Professor, f</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [41]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># hovertools are cool -- you have to define a "source" for the data and can access the columns with @</span>
<span class="n">hover</span> <span class="o">=</span> <span class="n">HoverTool</span><span class="p">(</span>
<span class="n">tooltips</span><span class="o">=</span><span class="p">[</span>
<span class="p">(</span><span class="s2">"Title"</span><span class="p">,</span> <span class="s2">"@job_title"</span><span class="p">),</span>
<span class="p">(</span><span class="s2">"Estimated Gender"</span><span class="p">,</span> <span class="s2">"@gender"</span><span class="p">),</span>
<span class="p">(</span><span class="s2">"Mean Annual Salary"</span><span class="p">,</span> <span class="s2">"@mean{$int:,}"</span><span class="p">),</span>
<span class="p">(</span><span class="s2">"Annual Salary STD"</span><span class="p">,</span> <span class="s2">"@std{$int:,}"</span><span class="p">),</span>
<span class="p">(</span><span class="s2">"Median Annual Salary"</span><span class="p">,</span> <span class="s2">"@median{$int:,}"</span><span class="p">),</span>
<span class="p">(</span><span class="s2">"Amount men make over women"</span><span class="p">,</span> <span class="s2">"@meandiff{$int:,}"</span><span class="p">),</span>
<span class="p">(</span><span class="s2">"Sample Size"</span><span class="p">,</span> <span class="s2">"@count_nonzero"</span><span class="p">)</span>
<span class="p">]</span>
<span class="p">)</span>
<span class="n">tools</span> <span class="o">=</span> <span class="p">[</span><span class="n">hover</span><span class="p">,</span> <span class="s2">"pan"</span><span class="p">,</span> <span class="s2">"wheel_zoom"</span><span class="p">,</span> <span class="s2">"reset"</span> <span class="p">,</span><span class="s2">"resize"</span><span class="p">]</span>

<span class="n">PLOT_OPTIONS</span><span class="p">[</span><span class="s1">'tools'</span><span class="p">]</span> <span class="o">=</span> <span class="n">tools</span>
<span class="c1">## make the figure</span>
<span class="n">p_rank_gender</span> <span class="o">=</span> <span class="n">figure</span><span class="p">(</span><span class="n">y_range</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">gender_rank</span><span class="p">[</span><span class="s1">'rank'</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">),</span>
<span class="o">**</span><span class="n">PLOT_OPTIONS</span><span class="p">)</span>


<span class="c1"># easier to plot colors by separating these out</span>
<span class="n">boys</span> <span class="o">=</span> <span class="n">gender_rank</span><span class="p">[</span><span class="n">gender_rank</span><span class="p">[</span><span class="s1">'gender'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'m'</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">girls</span> <span class="o">=</span> <span class="n">gender_rank</span><span class="p">[</span><span class="n">gender_rank</span><span class="p">[</span><span class="s1">'gender'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'f'</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># set the column data sources for the hovertips</span>
<span class="n">_boys</span> <span class="o">=</span> <span class="n">ColumnDataSource</span><span class="p">(</span><span class="n">boys</span><span class="p">)</span>
<span class="n">_girls</span> <span class="o">=</span> <span class="n">ColumnDataSource</span><span class="p">(</span><span class="n">girls</span><span class="p">)</span>
<span class="n">bar_width</span> <span class="o">=</span> <span class="mf">0.3</span>

<span class="c1"># manually draw the bars on the plot</span>

<span class="c1">## boys</span>
<span class="n">p_rank_gender</span><span class="o">.</span><span class="n">quad</span><span class="p">(</span><span class="n">right</span><span class="o">=</span><span class="n">boys</span><span class="p">[</span><span class="s1">'mean'</span><span class="p">],</span>
<span class="n">left</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<span class="n">bottom</span><span class="o">=</span> <span class="n">boys</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">bar_width</span> <span class="p">,</span>
<span class="n">top</span><span class="o">=</span> <span class="n">boys</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">bar_width</span><span class="p">,</span>
<span class="n">fill_color</span><span class="o">=</span><span class="s1">'blue'</span><span class="p">,</span>
<span class="n">fill_alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span>
<span class="n">legend</span><span class="o">=</span><span class="s2">"Men's pay"</span><span class="p">,</span>
<span class="n">source</span><span class="o">=</span><span class="n">_boys</span><span class="p">)</span>

<span class="c1">## girls</span>
<span class="n">p_rank_gender</span><span class="o">.</span><span class="n">quad</span><span class="p">(</span><span class="n">right</span><span class="o">=</span><span class="n">girls</span><span class="p">[</span><span class="s1">'mean'</span><span class="p">],</span>
<span class="n">left</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<span class="n">bottom</span><span class="o">=</span> <span class="n">girls</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>  <span class="o">-</span> <span class="n">bar_width</span> <span class="p">,</span>
<span class="n">top</span><span class="o">=</span> <span class="n">girls</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">bar_width</span> <span class="p">,</span>
<span class="n">fill_color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">,</span>
<span class="n">fill_alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span>
<span class="n">legend</span><span class="o">=</span><span class="s2">"Women's pay"</span><span class="p">,</span>
<span class="n">source</span><span class="o">=</span><span class="n">_girls</span><span class="p">)</span>

<span class="n">add_formatting_opts</span><span class="p">(</span><span class="n">p_rank_gender</span><span class="p">)</span>
<span class="n">make_error_bars</span><span class="p">(</span><span class="n">gender_rank</span><span class="p">,</span> <span class="n">plot</span><span class="o">=</span><span class="n">p_rank_gender</span><span class="p">)</span>
<span class="n">p_rank_gender</span><span class="o">.</span><span class="n">plot_height</span> <span class="o">=</span> <span class="mi">600</span>
<span class="n">p_rank_gender</span><span class="o">.</span><span class="n">plot_width</span> <span class="o">=</span> <span class="mi">800</span>
<span class="n">p_rank_gender</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">"UNM Professor Pay By Rank and Estimated Gender"</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Deducing-Just-the-Differences-In-Pay">Deducing Just the Differences In Pay<a class="anchor-link" href="#Deducing-Just-the-Differences-In-Pay">¶</a></h2><p>We can plot the data to better show the differences in pay between our estimated genders, but these plots will obscure some information and perhaps exaggerates the differences between departments more than the above plots. The code to manipulate the data is a bit ugly.</p>
<h2 id="Estimated-Gender-Difference-in-pay-per-department">Estimated Gender Difference in pay per department<a class="anchor-link" href="#Estimated-Gender-Difference-in-pay-per-department">¶</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [42]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">diffdf</span> <span class="o">=</span> <span class="n">_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">'meandiff'</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">diffdf</span> <span class="o">=</span> <span class="n">diffdf</span><span class="p">[</span><span class="n">diffdf</span><span class="o">.</span><span class="n">gender</span> <span class="o">==</span> <span class="s1">'m'</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>

<span class="n">diffdf</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">'level_0'</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">diffdf</span> <span class="o">=</span> <span class="n">diffdf</span><span class="p">[</span><span class="o">~</span><span class="n">diffdf</span><span class="o">.</span><span class="n">meandiff</span><span class="o">.</span><span class="n">isnull</span><span class="p">()]</span>
<span class="n">diffdf</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span> <span class="o">=</span> <span class="n">diffdf</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>


<span class="c1"># I really don't like this, but put up with it so we can get the correct department size info from</span>
<span class="c1"># the original data frame</span>
<span class="n">tmp</span> <span class="o">=</span> <span class="n">gbdept</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">tmp</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">tmp</span><span class="p">,</span> <span class="n">diffdf</span><span class="p">[[</span><span class="s1">'department'</span><span class="p">,</span> <span class="s1">'meandiff'</span><span class="p">]],</span> <span class="n">how</span><span class="o">=</span><span class="s1">'inner'</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s2">"department"</span><span class="p">,</span>
<span class="n">sort</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="n">suffixes</span><span class="o">=</span><span class="p">(</span><span class="s1">'_x'</span><span class="p">,</span> <span class="s1">'_y'</span><span class="p">),</span> <span class="n">copy</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">indicator</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">diffdf</span> <span class="o">=</span> <span class="n">tmp</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">'meandiff'</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">diffdf</span> <span class="o">=</span> <span class="n">diffdf</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">diffdf</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">'index'</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">diffdf</span> <span class="o">=</span> <span class="n">diffdf</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>...and the plot</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [43]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">hover</span> <span class="o">=</span> <span class="n">HoverTool</span><span class="p">(</span>
<span class="n">tooltips</span><span class="o">=</span><span class="p">[</span>
<span class="p">(</span><span class="s2">"Department"</span><span class="p">,</span> <span class="s2">"@department"</span><span class="p">),</span>
<span class="p">(</span><span class="s2">"Difference in Pay"</span><span class="p">,</span> <span class="s2">"@meandiff{$int:,}"</span><span class="p">),</span>
<span class="p">(</span><span class="s2">"Dept Size"</span><span class="p">,</span> <span class="s2">"@count_nonzero"</span><span class="p">)</span>
<span class="p">]</span>
<span class="p">)</span>

<span class="n">tools</span> <span class="o">=</span> <span class="p">[</span><span class="n">hover</span><span class="p">,</span> <span class="s2">"pan"</span><span class="p">,</span> <span class="s2">"wheel_zoom"</span><span class="p">,</span> <span class="s2">"reset"</span><span class="p">,</span> <span class="s2">"resize"</span><span class="p">]</span>
<span class="n">source</span> <span class="o">=</span> <span class="n">ColumnDataSource</span><span class="p">(</span><span class="n">diffdf</span><span class="p">)</span>

<span class="n">PLOT_OPTIONS</span><span class="p">[</span><span class="s1">'tools'</span><span class="p">]</span> <span class="o">=</span> <span class="n">tools</span>
<span class="c1"># make the figure</span>
<span class="n">diffplot</span> <span class="o">=</span> <span class="n">figure</span><span class="p">(</span><span class="n">y_range</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">diffdf</span><span class="p">[</span><span class="s1">'department'</span><span class="p">]),</span> <span class="o">**</span><span class="n">PLOT_OPTIONS</span><span class="p">)</span>


<span class="n">women</span> <span class="o">=</span> <span class="n">diffdf</span><span class="p">[</span><span class="n">diffdf</span><span class="o">.</span><span class="n">meandiff</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">]</span>
<span class="n">men</span> <span class="o">=</span> <span class="n">diffdf</span><span class="p">[</span><span class="n">diffdf</span><span class="o">.</span><span class="n">meandiff</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>

<span class="n">diffplot</span><span class="o">.</span><span class="n">quad</span><span class="p">(</span><span class="n">right</span><span class="o">=</span><span class="n">men</span><span class="p">[</span><span class="s1">'meandiff'</span><span class="p">],</span>
<span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<span class="n">bottom</span> <span class="o">=</span> <span class="n">men</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">-</span> <span class="mf">0.2</span> <span class="p">,</span>
<span class="n">top</span> <span class="o">=</span> <span class="n">men</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="mf">0.2</span><span class="p">,</span>
<span class="n">fill_color</span><span class="o">=</span><span class="s1">'blue'</span><span class="p">,</span>
<span class="n">fill_alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span>
<span class="n">legend</span><span class="o">=</span><span class="s2">"Men make more"</span><span class="p">,</span>
<span class="n">source</span><span class="o">=</span><span class="n">source</span><span class="p">)</span>

<span class="n">diffplot</span><span class="o">.</span><span class="n">quad</span><span class="p">(</span><span class="n">right</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<span class="n">left</span> <span class="o">=</span><span class="n">women</span><span class="p">[</span><span class="s1">'meandiff'</span><span class="p">],</span>
<span class="n">bottom</span> <span class="o">=</span> <span class="n">women</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">-</span> <span class="mf">0.2</span> <span class="p">,</span>
<span class="n">top</span> <span class="o">=</span> <span class="n">women</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="mf">0.2</span><span class="p">,</span>
<span class="n">fill_color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">,</span>
<span class="n">fill_alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span>
<span class="n">legend</span><span class="o">=</span><span class="s2">"Women make more"</span><span class="p">,</span>
<span class="n">source</span><span class="o">=</span><span class="n">source</span><span class="p">)</span>

<span class="c1">## I honestly have no damn clue why i have to plot the whole thing to get it to display properly.</span>
<span class="c1">## I will bug the bokeh people about this.</span>
<span class="n">diffplot</span><span class="o">.</span><span class="n">quad</span><span class="p">(</span><span class="n">right</span><span class="o">=</span><span class="n">diffdf</span><span class="p">[</span><span class="s1">'meandiff'</span><span class="p">],</span>
<span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<span class="n">bottom</span> <span class="o">=</span> <span class="n">diffdf</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">-</span> <span class="mf">0.2</span> <span class="p">,</span>
<span class="n">top</span> <span class="o">=</span> <span class="n">diffdf</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="mf">0.2</span><span class="p">,</span>
<span class="n">fill_color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">,</span>
<span class="n">fill_alpha</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
<span class="n">source</span><span class="o">=</span><span class="n">source</span><span class="p">)</span>

<span class="n">add_formatting_opts</span><span class="p">(</span><span class="n">diffplot</span><span class="p">)</span>
<span class="n">diffplot</span><span class="o">.</span><span class="n">legend</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="s1">'top_left'</span>
<span class="n">diffplot</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">"Estimated Gender Difference In Pay by Department"</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Estimated-gender-difference-in-pay-per-rank">Estimated gender difference in pay per rank<a class="anchor-link" href="#Estimated-gender-difference-in-pay-per-rank">¶</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [44]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># I really don't like this, but put up with it so we can get the correct department size info from</span>
<span class="c1"># the original data frame</span>
<span class="n">tmp</span> <span class="o">=</span> <span class="n">ranks</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">tmp</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">tmp</span><span class="p">,</span> <span class="n">g_diffs</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()[[</span><span class="s1">'job_title'</span><span class="p">,</span> <span class="s1">'meandiff'</span><span class="p">]],</span> <span class="n">how</span><span class="o">=</span><span class="s1">'inner'</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s2">"job_title"</span><span class="p">,</span>
<span class="n">sort</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="n">suffixes</span><span class="o">=</span><span class="p">(</span><span class="s1">'_x'</span><span class="p">,</span> <span class="s1">'_y'</span><span class="p">),</span> <span class="n">copy</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">indicator</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">rdiffdf</span> <span class="o">=</span> <span class="n">tmp</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">'meandiff'</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="n">rdiffdf</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">'level_0'</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">rdiffdf</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">'index'</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">rdiffdf</span> <span class="o">=</span> <span class="n">rdiffdf</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">rdiffdf</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">'index'</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">rdiffdf</span> <span class="o">=</span> <span class="n">rdiffdf</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Plotting the rank differences in pay:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [45]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">hover</span> <span class="o">=</span> <span class="n">HoverTool</span><span class="p">(</span>
<span class="n">tooltips</span><span class="o">=</span><span class="p">[</span>
<span class="p">(</span><span class="s2">"Title"</span><span class="p">,</span> <span class="s2">"@job_title"</span><span class="p">),</span>
<span class="p">(</span><span class="s2">"Difference in Pay"</span><span class="p">,</span> <span class="s2">"@meandiff{$int:,}"</span><span class="p">),</span>
<span class="p">(</span><span class="s2">"Sample Size"</span><span class="p">,</span> <span class="s2">"@count_nonzero"</span><span class="p">)</span>
<span class="p">]</span>
<span class="p">)</span>

<span class="n">tools</span> <span class="o">=</span> <span class="p">[</span><span class="n">hover</span><span class="p">,</span> <span class="s2">"pan"</span><span class="p">,</span> <span class="s2">"wheel_zoom"</span><span class="p">,</span> <span class="s2">"reset"</span><span class="p">,</span> <span class="s2">"resize"</span><span class="p">]</span>
<span class="n">source</span> <span class="o">=</span> <span class="n">ColumnDataSource</span><span class="p">(</span><span class="n">rdiffdf</span><span class="p">)</span>

<span class="n">PLOT_OPTIONS</span><span class="p">[</span><span class="s1">'tools'</span><span class="p">]</span> <span class="o">=</span> <span class="n">tools</span>
<span class="c1"># make the figure</span>
<span class="n">rdiffplot</span> <span class="o">=</span> <span class="n">figure</span><span class="p">(</span><span class="n">y_range</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">rdiffdf</span><span class="p">[</span><span class="s1">'job_title'</span><span class="p">]),</span> <span class="o">**</span><span class="n">PLOT_OPTIONS</span><span class="p">)</span>


<span class="n">women</span> <span class="o">=</span> <span class="n">rdiffdf</span><span class="p">[</span><span class="n">rdiffdf</span><span class="o">.</span><span class="n">meandiff</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">]</span>
<span class="n">men</span> <span class="o">=</span> <span class="n">rdiffdf</span><span class="p">[</span><span class="n">rdiffdf</span><span class="o">.</span><span class="n">meandiff</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>

<span class="n">rdiffplot</span><span class="o">.</span><span class="n">quad</span><span class="p">(</span><span class="n">right</span><span class="o">=</span><span class="n">men</span><span class="p">[</span><span class="s1">'meandiff'</span><span class="p">],</span>
<span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<span class="n">bottom</span> <span class="o">=</span> <span class="n">men</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">-</span> <span class="mf">0.2</span> <span class="p">,</span>
<span class="n">top</span> <span class="o">=</span> <span class="n">men</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="mf">0.2</span><span class="p">,</span>
<span class="n">fill_color</span><span class="o">=</span><span class="s1">'blue'</span><span class="p">,</span>
<span class="n">fill_alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span>
<span class="n">legend</span><span class="o">=</span><span class="s2">"Men make more"</span><span class="p">,</span>
<span class="n">source</span><span class="o">=</span><span class="n">source</span><span class="p">)</span>

<span class="n">rdiffplot</span><span class="o">.</span><span class="n">quad</span><span class="p">(</span><span class="n">right</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<span class="n">left</span> <span class="o">=</span><span class="n">women</span><span class="p">[</span><span class="s1">'meandiff'</span><span class="p">],</span>
<span class="n">bottom</span> <span class="o">=</span> <span class="n">women</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">-</span> <span class="mf">0.2</span> <span class="p">,</span>
<span class="n">top</span> <span class="o">=</span> <span class="n">women</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="mf">0.2</span><span class="p">,</span>
<span class="n">fill_color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">,</span>
<span class="n">fill_alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span>
<span class="n">legend</span><span class="o">=</span><span class="s2">"Women make more"</span><span class="p">,</span>
<span class="n">source</span><span class="o">=</span><span class="n">source</span><span class="p">)</span>

<span class="c1">## I honestly have no damn clue why i have to plot the whole thing to get it to display properly.</span>
<span class="c1">## I will bug the bokeh people about this.</span>
<span class="n">rdiffplot</span><span class="o">.</span><span class="n">quad</span><span class="p">(</span><span class="n">right</span><span class="o">=</span><span class="n">rdiffdf</span><span class="p">[</span><span class="s1">'meandiff'</span><span class="p">],</span>
<span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<span class="n">bottom</span> <span class="o">=</span> <span class="n">rdiffdf</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">-</span> <span class="mf">0.2</span> <span class="p">,</span>
<span class="n">top</span> <span class="o">=</span> <span class="n">rdiffdf</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="mf">0.2</span><span class="p">,</span>
<span class="n">fill_color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">,</span>
<span class="n">fill_alpha</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
<span class="n">source</span><span class="o">=</span><span class="n">source</span><span class="p">)</span>

<span class="n">add_formatting_opts</span><span class="p">(</span><span class="n">rdiffplot</span><span class="p">)</span>
<span class="n">rdiffplot</span><span class="o">.</span><span class="n">plot_height</span> <span class="o">=</span> <span class="mi">700</span>
<span class="n">rdiffplot</span><span class="o">.</span><span class="n">legend</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="s1">'top_left'</span>
<span class="n">rdiffplot</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">"Estimated Gender Difference In Pay by Rank"</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now let's put the plots into one nice bundle using bokeh's <code>Tabs</code> functionality.
This is a really cool feature.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [46]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">from</span> <span class="nn">bokeh.models.widgets</span> <span class="k">import</span> <span class="n">Panel</span><span class="p">,</span> <span class="n">Tabs</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [47]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">def</span> <span class="nf">setter</span><span class="p">(</span><span class="n">plots</span><span class="p">):</span>
<span class="sd">"""Removing responsiveness saves the constraint issues</span>
<span class="sd">    inherent with the plots."""</span>
<span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="n">x</span><span class="o">.</span><span class="n">responsive</span> <span class="o">=</span> <span class="kc">False</span> <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">responsive</span> <span class="ow">is</span> <span class="kc">True</span> <span class="k">else</span> <span class="kc">True</span>
<span class="k">return</span> <span class="n">x</span>
<span class="k">return</span> <span class="p">[</span><span class="n">close</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">plots</span><span class="p">]</span>


<span class="n">plots</span> <span class="o">=</span> <span class="p">[</span><span class="n">dept_plot</span><span class="p">,</span> <span class="n">rank_plot</span><span class="p">,</span> <span class="n">dept_gender</span><span class="p">,</span> <span class="n">p_rank_gender</span><span class="p">,</span> <span class="n">diffplot</span><span class="p">,</span> <span class="n">rdiffplot</span><span class="p">]</span>
<span class="n">responsive</span> <span class="o">=</span> <span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">responsive</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">plots</span><span class="p">)</span>
<span class="k">if</span> <span class="kc">True</span> <span class="ow">in</span> <span class="n">responsive</span><span class="p">:</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"setting plots to be non responsive"</span><span class="p">)</span>
<span class="n">setter</span><span class="p">(</span><span class="n">plots</span><span class="p">)</span>


<span class="n">tabs</span> <span class="o">=</span> <span class="n">Tabs</span><span class="p">(</span><span class="n">tabs</span><span class="o">=</span><span class="p">[</span><span class="n">Panel</span><span class="p">(</span><span class="n">child</span><span class="o">=</span><span class="n">p</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">p</span><span class="o">.</span><span class="n">title</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">plots</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Results">Results<a class="anchor-link" href="#Results">¶</a></h2><p>Here's the plots.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [48]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">show</span><span class="p">(</span><span class="n">tabs</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_html rendered_html output_subarea ">
<div class="plotdiv" id="718c6705-4719-4ba0-9e82-b7b2855cd76a"></div>
<script type="text/javascript">

(function(global) {
function now() {
return new Date();
}

if (typeof (window._bokeh_onload_callbacks) === "undefined") {
window._bokeh_onload_callbacks = [];
}

function run_callbacks() {
window._bokeh_onload_callbacks.forEach(function(callback) { callback() });
delete window._bokeh_onload_callbacks
console.info("Bokeh: all callbacks have finished");
}

function load_libs(js_urls, callback) {
window._bokeh_onload_callbacks.push(callback);
if (window._bokeh_is_loading > 0) {
console.log("Bokeh: BokehJS is being loaded, scheduling callback at", now());
return null;
}
if (js_urls == null || js_urls.length === 0) {
run_callbacks();
return null;
}
console.log("Bokeh: BokehJS not loaded, scheduling load and callback at", now());
window._bokeh_is_loading = js_urls.length;
for (var i = 0; i < js_urls.length; i++) {
var url = js_urls[i];
var s = document.createElement('script');
s.src = url;
s.async = false;
s.onreadystatechange = s.onload = function() {
window._bokeh_is_loading--;
if (window._bokeh_is_loading === 0) {
console.log("Bokeh: all BokehJS libraries loaded");
run_callbacks()
}
};
s.onerror = function() {
console.warn("failed to load library " + url);
};
console.log("Bokeh: injecting script tag for BokehJS library: ", url);
document.getElementsByTagName("head")[0].appendChild(s);
}
};var element = document.getElementById("718c6705-4719-4ba0-9e82-b7b2855cd76a");
if (element == null) {
console.log("Bokeh: ERROR: autoload.js configured with elementid '718c6705-4719-4ba0-9e82-b7b2855cd76a' but no matching script tag was found. ")
return false;
}var js_urls = [];

var inline_js = [
function(Bokeh) {
Bokeh.$(function() {
var docs_json = {"a9eaa360-2ccf-44ae-9f8b-57c79a48cffb": {"version": "0.11.0", "roots": {"root_ids": ["b3b1f252-7ba2-4a7f-8d00-2bf5310155bf", "749217fd-0b5c-4d31-a55a-689425d1d3e5", "c0b28fce-5025-4698-838e-ab629b27644b", "3c8b08e3-324c-4ab7-ac07-5d87e8208218", "8115cb33-8d8f-4d27-9378-7fb0ca750213", "ca544ff8-0734-4f45-8a60-bb71a6b65ad4", "fbb340d1-7267-4245-9235-a1a73d4f1c04"], "references": [{"type": "GlyphRenderer", "attributes": {"data_source": {"type": "ColumnDataSource", "id": "cafe40bc-1e3d-4bae-bd0a-fca3c17d41c0"}, "selection_glyph": null, "nonselection_glyph": {"type": "Circle", "id": "f7a7f576-d2b6-4253-89e9-0b7957108573"}, "hover_glyph": null, "glyph": {"type": "Circle", "id": "a9497541-5dda-445c-9f35-3a7a79306ea1"}}, "id": "6b3dc559-497f-489b-9039-0f639db4cc43"}, {"type": "CategoricalAxis", "attributes": {"axis_label_text_alpha": {"value": 0.75}, "major_tick_line_alpha": {"value": 0}, "ticker": {"type": "CategoricalTicker", "id": "b93f841f-aed7-4f00-bc8a-69a215db326e"}, "plot": {"type": "Plot", "subtype": "Figure", "id": "3c8b08e3-324c-4ab7-ac07-5d87e8208218"}, "axis_label_text_font_size": {"value": "12pt"}, "axis_line_alpha": {"value": 0.2}, "formatter": {"type": "CategoricalTickFormatter", "id": "f76f6ee6-ee8f-4ef2-9b78-157dea36e2ac"}}, "id": "1c6f220f-3ede-4be0-b842-5aa49ac1837b"}, {"type": "Tabs", "attributes": {"tabs": [{"type": "Panel", "id": "9b177853-5d1e-408a-ad32-6948413065c4"}, {"type": "Panel", "id": "4c78bebe-7135-4179-b21f-e52b4dfe7d16"}, {"type": "Panel", "id": "b6cd6072-54ee-41bd-a39a-b3f3260d5dbc"}, {"type": "Panel", "id": "1a602f96-a298-43da-9d1a-f51f9a8b6f82"}, {"type": "Panel", "id": "6e69d12d-c373-470b-8ae0-5e5e7efdee0d"}, {"type": "Panel", "id": "dbaaffe6-c25a-4387-9d5f-d8d349e0239b"}], "callback": null}, "id": "fbb340d1-7267-4245-9235-a1a73d4f1c04"}, {"type": "ToolEvents", "attributes": {}, "id": "11a1e6a3-ddda-426c-be5e-ea565e95e3b4"}, {"type": "ResizeTool", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "3c8b08e3-324c-4ab7-ac07-5d87e8208218"}}, "id": "f22f5e8a-f36a-433c-914d-7ce217c03d8a"}, {"type": "MultiLine", "attributes": {"line_cap": "round", "xs": {"field": "xs"}, "line_alpha": {"value": 0.55}, "ys": {"field": "ys"}}, "id": "a89ec0d4-930f-4584-b509-6d84bfc485b5"}, {"type": "Quad", "attributes": {"fill_color": {"value": "red"}, "left": {"value": 0}, "fill_alpha": {"value": 0.0}, "line_color": {"value": "#1f77b4"}, "right": {"field": "right"}, "bottom": {"field": "bottom"}, "top": {"field": "top"}}, "id": "7c9b0887-fa42-491c-9f24-d3671f3d917d"}, {"type": "Quad", "attributes": {"fill_color": {"value": "#1f77b4"}, "left": {"value": 0}, "fill_alpha": {"value": 0.1}, "line_alpha": {"value": 0.1}, "line_color": {"value": "#1f77b4"}, "right": {"field": "right"}, "bottom": {"field": "bottom"}, "top": {"field": "top"}}, "id": "bca5654c-9034-4bb9-9f9f-9703669f5da6"}, {"type": "ToolEvents", "attributes": {}, "id": "201988d3-5406-4ea0-9606-077f5876dac4"}, {"type": "CategoricalTickFormatter", "attributes": {}, "id": "bc313441-0141-45c5-8de1-5061db79cca4"}, {"type": "Legend", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "b3b1f252-7ba2-4a7f-8d00-2bf5310155bf"}, "legends": [["size increases with department size", [{"type": "GlyphRenderer", "id": "9fcc01da-8448-4390-a876-3a9c66aa416b"}]], ["Max and Min pay", [{"type": "GlyphRenderer", "id": "6b3dc559-497f-489b-9039-0f639db4cc43"}]]]}, "id": "4a2d3eed-6eb7-410d-a094-46371d25af71"}, {"type": "NumeralTickFormatter", "attributes": {"format": "$ 0,0[.]00"}, "id": "87434815-80e4-4564-a5b1-a8fcb46e7d61"}, {"type": "WheelZoomTool", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "c0b28fce-5025-4698-838e-ab629b27644b"}}, "id": "13c85d93-8243-4dbf-bf03-7124068a7f41"}, {"type": "ToolEvents", "attributes": {}, "id": "f26e764b-45cb-4b78-b1cb-28ffb547287f"}, {"type": "Circle", "attributes": {"line_color": {"value": "#1f77b4"}, "fill_color": {"value": "#1f77b4"}, "size": {"field": "size", "units": "screen"}, "y": {"field": "y"}, "x": {"field": "mean"}}, "id": "20eabf41-e567-4626-bccd-f16fbf1930e7"}, {"type": "ColumnDataSource", "attributes": {"column_names": ["xs", "ys"], "data": {"ys": [[1, 1], [2, 2], [3, 3], [4, 4], [5, 5], [6, 6], [7, 7], [8, 8], [9, 9], [10, 10], [11, 11], [12, 12], [13, 13], [14, 14], [15, 15], [16, 16], [17, 17], [18, 18], [19, 19], [20, 20], [21, 21], [22, 22], [23, 23], [24, 24], [25, 25], [26, 26], [27, 27], [28, 28], [29, 29], [30, 30], [31, 31], [32, 32], [33, 33], [34, 34], [35, 35], [36, 36], [37, 37], [38, 38], [39, 39], [40, 40], [41, 41], [42, 42], [43, 43], [44, 44], [45, 45], [46, 46], [47, 47], [48, 48], [49, 49], [50, 50], [51, 51], [52, 52], [53, 53], [54, 54], [55, 55], [56, 56], [57, 57], [58, 58], [59, 59], [60, 60], [61, 61], [62, 62], [63, 63], [64, 64], [65, 65], [66, 66], [67, 67], [68, 68], [69, 69], [70, 70], [71, 71], [72, 72], [73, 73], [74, 74], [75, 75], [76, 76], [77, 77], [78, 78], [79, 79], [80, 80], [81, 81], [82, 82], [83, 83], [84, 84], [85, 85], [86, 86], [87, 87], [88, 88], [89, 89], [90, 90], [91, 91], [92, 92], [93, 93], [94, 94], [95, 95], [96, 96], [97, 97], [98, 98], [99, 99], [100, 100], [101, 101]], "xs": [[304649.7966793236, 341955.7033206764], [277696.41816883814, 346305.8126003926], [258597.0968337916, 296269.569832875], [215154.07660089867, 322628.7469285131], [229192.1839492973, 308309.8160507027], [210201.71882811518, 314027.28117188485], [227812.3094705312, 292090.23598401423], [102691.37931279512, 412242.7635443477], [219155.0451305167, 286570.5548694833], [209808.7365357411, 294310.1206071161], [198845.5680994605, 279299.9319005395], [154350.55480469606, 321741.1594810182], [201912.17668652695, 260255.32331347305], [200753.8821544884, 248142.78451217827], [161911.9532104871, 231319.5603030264], [178956.35240301513, 208628.44759698486], [171439.45742546103, 200902.04257453897], [149591.86276710333, 219313.47056622998], [151312.95418035166, 210838.04581964834], [133932.24168626824, 223824.64720262063], [139884.03508757876, 216952.46491242124], [113605.75414880377, 240955.69265970687], [141481.5640355812, 210228.4359644188], [132090.70370362172, 213238.29629637828], [135766.76375506894, 200351.86782387842], [126776.06522063969, 205907.50620793173], [122893.79767481149, 206302.9474232277], [66041.02767941619, 259310.97232058382], [100331.01623714462, 215735.92493932598], [117222.6528272625, 194549.66975338265], [133301.60040142594, 170426.39959857406], [108746.12760181085, 183704.6520592061], [96080.28955662399, 188584.55254863916], [106710.943401247, 166875.14355527473], [90675.5334756038, 180106.1331910629], [121856.72411176735, 142128.94255489932], [113548.40394800686, 146960.19605199315], [117179.1430400201, 139534.19029331324], [113045.33325293171, 142892.20520860676], [77483.58227012352, 169048.8177298765], [91996.3021402362, 153277.69785976378], [105385.0449295669, 139771.52649900454], [73580.56959170997, 165468.8849537446], [89352.96841096728, 146344.42552842665], [98441.03505309104, 131682.49435867366], [65935.49860970513, 160828.62639029487], [93718.82336294983, 132863.358455232], [73248.7479714331, 151177.5377428526], [79925.3630542179, 139168.0369457821], [33891.90398306296, 182501.42935027037], [72238.32890172719, 143738.87109827282], [88147.06032963315, 121740.67300370018], [83718.87143281914, 125560.62856718086], [59503.15828935344, 149504.84171064655], [84763.33939922457, 118047.53560077543], [63701.26374185326, 138966.83149624197], [73753.61340580367, 126624.38659419633], [79580.26443151262, 117390.73556848738], [70796.91520714379, 123877.16171593315], [42725.817647436095, 151654.1823525639], [75740.51593383664, 116771.60171322219], [67907.987947228, 119823.324552772], [54740.67441622811, 130938.46844091476], [64745.778153302075, 120142.6504181265], [59909.764727692236, 123282.90193897442], [68442.08813938388, 113795.7300424343], [69661.30016622848, 109715.69983377152], [64874.11399028533, 113409.38600971467], [67346.14357846158, 109094.76551244751], [74932.98786490996, 101053.70444278236], [63496.885149863636, 110317.28876317985], [64683.210730867635, 105853.12260246571], [38027.52106446102, 132139.63683027582], [67776.8999826466, 101704.87779513118], [75956.02914179351, 89155.63752487315], [65282.118892827304, 95937.54777383935], [63873.053444315294, 96816.9465556847], [69650.20129020215, 90349.79870979785], [66754.33990196646, 92740.46009803352], [60348.02506962177, 98242.74416114745], [54982.595606044735, 96324.67106062193], [46697.600358816635, 103390.8611796449], [59512.06657563897, 87731.30842436104], [65096.33956558509, 81517.91043441491], [66453.04177402703, 79887.15822597298], [58990.78786412018, 86759.65658032426], [61514.689774094644, 80712.36904943475], [57531.668534729055, 84671.62558291799], [58337.22677993293, 83664.37322006708], [61418.49101198833, 80193.50898801167], [51133.937348314736, 88277.22931835192], [56942.96838918294, 81647.96494415037], [56056.82060083878, 78213.17939916122], [61409.35079390909, 68548.64920609091], [51066.52725930964, 75382.54416926179], [37107.68263837624, 87182.31736162376], [39380.631671913856, 79212.03499475282], [47215.73845295359, 70559.26154704641], [52405.73659994063, 62856.26340005937], [42452.720306684685, 72064.21719331531], [41277.26279001605, 57227.20779821925]]}, "callback": null}, "id": "7a1c91ef-ecc3-4bda-9c0e-f115ad0eb381"}, {"type": "Legend", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "749217fd-0b5c-4d31-a55a-689425d1d3e5"}, "location": "bottom_right", "legends": [["point size increases with sample size", [{"type": "GlyphRenderer", "id": "c44c3b85-bed4-4bc4-be95-fd31e28c213a"}]], ["Max and Min Salary", [{"type": "GlyphRenderer", "id": "1587bea3-19e7-4524-bd2e-c5a601a51191"}]]]}, "id": "85b431e9-6518-4aef-a5b6-b5fbb35e1ea3"}, {"type": "Legend", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "ca544ff8-0734-4f45-8a60-bb71a6b65ad4"}, "location": "top_left", "legends": [["Men make more", [{"type": "GlyphRenderer", "id": "bcf65065-4214-4a11-a7e4-be3e9912a413"}]], ["Women make more", [{"type": "GlyphRenderer", "id": "ca8e9555-bdbb-4f78-afad-679a0c79a49f"}]]]}, "id": "145cff6b-b468-4cbb-9291-3455eba64762"}, {"type": "Circle", "attributes": {"line_color": {"value": "grey"}, "fill_color": {"value": "grey"}, "size": {"units": "screen", "value": 2}, "y": {"field": "y"}, "x": {"field": "amax"}}, "id": "b96fb6d4-0f14-468b-ac18-ca9fbb93be7d"}, {"type": "Grid", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "3c8b08e3-324c-4ab7-ac07-5d87e8208218"}, "ticker": {"type": "CategoricalTicker", "id": "b93f841f-aed7-4f00-bc8a-69a215db326e"}, "dimension": 1, "grid_line_color": {"value": null}}, "id": "94130f7a-1441-4e0f-a16f-4368d9372860"}, {"type": "GlyphRenderer", "attributes": {"data_source": {"type": "ColumnDataSource", "id": "f7932721-91cd-4fde-b4f2-752c682c4b23"}, "selection_glyph": null, "nonselection_glyph": {"type": "Circle", "id": "11bd5432-cd41-43de-9755-6428c3536e7e"}, "hover_glyph": null, "glyph": {"type": "Circle", "id": "b96fb6d4-0f14-468b-ac18-ca9fbb93be7d"}}, "id": "1587bea3-19e7-4524-bd2e-c5a601a51191"}, {"type": "Circle", "attributes": {"fill_color": {"value": "#1f77b4"}, "size": {"units": "screen", "value": 2}, "fill_alpha": {"value": 0.1}, "line_alpha": {"value": 0.1}, "line_color": {"value": "#1f77b4"}, "y": {"field": "y"}, "x": {"field": "amax"}}, "id": "11bd5432-cd41-43de-9755-6428c3536e7e"}, {"type": "ColumnDataSource", "attributes": {"column_names": ["mean", "department", "count_nonzero", "index", "amax", "std", "amin", "median", "size", "y", "y", "y"], "data": {"mean": [323302.75, 312001.1153846154, 277433.3333333333, 268891.4117647059, 268751.0, 262114.5, 259951.27272727274, 257467.07142857142, 252862.8, 252059.42857142858, 239072.75, 238045.85714285713, 231083.75, 224448.33333333334, 196615.75675675675, 193792.4, 186170.75, 184452.66666666666, 181075.5, 178878.44444444444, 178418.25, 177280.72340425532, 175855.0, 172664.5, 168059.31578947368, 166341.7857142857, 164598.3725490196, 162676.0, 158033.4705882353, 155886.16129032258, 151864.0, 146225.38983050847, 142332.42105263157, 136793.04347826086, 135390.83333333334, 131992.83333333334, 130254.3, 128356.66666666667, 127968.76923076923, 123266.2, 122637.0, 122578.28571428571, 119524.72727272728, 117848.69696969698, 115061.76470588235, 113382.0625, 113291.09090909091, 112213.14285714286, 109546.7, 108196.66666666667, 107988.6, 104943.86666666667, 104639.75, 104504.0, 101405.4375, 101334.04761904762, 100189.0, 98485.5, 97337.03846153847, 97190.0, 96256.05882352941, 93865.65625, 92839.57142857143, 92444.21428571429, 91596.33333333333, 91118.90909090909, 89688.5, 89141.75, 88220.45454545454, 87993.34615384616, 86907.08695652174, 85268.16666666667, 85083.57894736843, 84740.88888888889, 82555.83333333333, 80609.83333333333, 80345.0, 80000.0, 79747.4, 79295.38461538461, 75653.63333333333, 75044.23076923077, 73621.6875, 73307.125, 73170.1, 72875.22222222222, 71113.5294117647, 71101.64705882352, 71000.8, 70806.0, 69705.58333333333, 69295.46666666666, 67135.0, 64979.0, 63224.53571428572, 62145.0, 59296.333333333336, 58887.5, 57631.0, 57258.46875, 49252.23529411765], "size": [7.0, 10.099019513592784, 7.449489742783178, 9.123105625617661, 7.0, 7.0, 8.3166247903554, 8.74165738677394, 10.916079783099615, 8.74165738677394, 8.464101615137753, 7.645751311064591, 7.0, 7.449489742783178, 11.082762530298218, 7.23606797749979, 7.0, 8.872983346207416, 7.0, 9.242640687119284, 7.0, 11.855654600401044, 7.0, 7.449489742783178, 9.358898943540673, 8.74165738677394, 12.14142842854285, 8.3166247903554, 9.123105625617661, 10.567764362830022, 7.82842712474619, 12.681145747868609, 9.358898943540673, 9.79583152331272, 7.449489742783178, 8.464101615137753, 8.16227766016838, 8.464101615137753, 10.099019513592784, 7.23606797749979, 8.16227766016838, 8.74165738677394, 8.3166247903554, 10.744562646538029, 9.123105625617661, 9.0, 10.744562646538029, 7.645751311064591, 8.16227766016838, 7.449489742783178, 8.16227766016838, 8.872983346207416, 8.464101615137753, 7.0, 9.0, 9.582575694955839, 10.196152422706632, 7.449489742783178, 10.099019513592784, 7.0, 9.123105625617661, 10.65685424949238, 9.582575694955839, 8.74165738677394, 9.242640687119284, 9.69041575982343, 8.464101615137753, 9.898979485566356, 11.6332495807108, 10.099019513592784, 9.79583152331272, 8.464101615137753, 9.358898943540673, 8.0, 7.449489742783178, 8.464101615137753, 7.645751311064591, 7.0, 8.16227766016838, 8.60555127546399, 10.477225575051662, 10.099019513592784, 9.0, 9.0, 8.16227766016838, 8.0, 9.123105625617661, 10.8309518948453, 7.23606797749979, 8.3166247903554, 11.0, 8.872983346207416, 9.0, 8.464101615137753, 10.291502622129181, 7.0, 7.449489742783178, 8.16227766016838, 7.449489742783178, 10.65685424949238, 9.123105625617661], "y": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101], "department": ["Radiation Oncology", "Radiology General", "Surgery Urology", "Medical Oncology", "Surgery Vascular", "Surgery Div of Plastic Surgery", "Surgery Head Neck Reconstructive", "SOM Neurosurgery", "Anesthesiology", "IM Div of Cardiology", "SOM Surgery General", "Surgical Oncology", "Pediatrics Cardiology", "Pediatrics Neonatology Division", "Emergency Medicine", "Emerg Med Intensive Care Unit", "OB GYN General OB GYN", "IM Div of Pulmonary CC and Sleep", "SOM Surgery Opthalmology", "Pediatrics Critical Care", "IM Div of Endocrinology", "Pathology", "Pediatrics Nephrology", "Pediatrics Hematology Oncology", "IM Div of General Internal Medicine", "IM Div of Nephrology", "Psychiatry Combined", "IM Div of Gastroenterology", "Neurology", "Pediatrics General", "IM Div of Infectious Diseases", "Family Community Medicine FCM", "IM Div of Epidemiology", "Orthopaedics Combined", "Dental Services", "ASM Finance Intl Tech Mngt FIT", "ASM Department of Accounting", "ASM Organizational Studies", "IM Division of Hospital Medicine", "IM Div of Translational Informatics", "Neurosciences", "ASM Mrkting Info Decision Sci MIDS", "Cell Biology", "School of Law", "COP Pharmacy Practice & Admin Scien", "Computer Science", "College of Nursing", "Nuclear Engineering", "Molecular Genetics Microbiology", "Experimental Therapeutics", "Biochemistry Molecular Biology", "Economics Department", "Mechanical Engineering", "Office of Pediatric Research", "Earth and Planetary Sciences E PS", "Chemistry Department", "Electrical Computer Engineering", "Pediatrics Occupational Therapy", "Psychology Department", "IM Global Health", "Civil Engineering Civil Engr", "Physics Astronomy Department", "COP Pharmaceutical Sciences", "Political Science", "Chemical and Biological Engineering", "Sociology", "School of Public Administration", "Anthropology Department", "AS Biology General Administrative", "Mathematics Statistics", "Architecture and Planning", "Pediatrics Center for Development", "University Libraries", "Orthopaedics Physical Therapy", "Speech and Hearing Sciences", "Philosophy Department", "Organization Info Learning Sci-OILS", "Ctr for Education Policy Research", "Linguistics Department", "American Studies Department", "History Department", "Dept Teacher Ed, Ed Lead & Policy", "Individual Family Comm Educ IFCE", "Language Literacy Sociocultural LL", "Honors College Admin", "Geography", "Health Exercise & Sports Science", "English Department", "Center for High Tech Materials CHTM", "Educational Specialties Ed Spec", "Art Art History", "Communication Journalism", "Foreign Languages Literatures", "Spanish Portuguese", "Music", "LosAlamos Branch", "Cinematic Arts Department", "Theatre and Dance", "Taos Branch", "Gallup Branch", "Valencia County Branch"], "count_nonzero": [4, 26, 6, 17, 4, 4, 11, 14, 35, 14, 12, 7, 4, 6, 37, 5, 4, 15, 4, 18, 4, 47, 4, 6, 19, 14, 51, 11, 17, 31, 8, 59, 19, 23, 6, 12, 10, 12, 26, 5, 10, 14, 11, 33, 17, 16, 33, 7, 10, 6, 10, 15, 12, 4, 16, 21, 27, 6, 26, 4, 17, 32, 21, 14, 18, 22, 12, 24, 44, 26, 23, 12, 19, 9, 6, 12, 7, 4, 10, 13, 30, 26, 16, 16, 10, 9, 17, 34, 5, 11, 36, 15, 16, 12, 28, 4, 6, 10, 6, 32, 17], "index": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100], "median": [325096, 312090, 269969, 262095, 269334, 236946, 246946, 231391, 249753, 239269, 215602, 257550, 233600, 219650, 179780, 191415, 187638, 171812, 189390, 157030, 174754, 173417, 172560, 164344, 150476, 176295, 167074, 200000, 159401, 144430, 150124, 150913, 140250, 124836, 144929, 133640, 126777, 127798, 121200, 113120, 121291, 118306, 115184, 120581, 111298, 92901, 109606, 105715, 105044, 78022, 97812, 96129, 101526, 82204, 96802, 95000, 93266, 99490, 87196, 74007, 88460, 86904, 94299, 87794, 82977, 86933, 77713, 75000, 84210, 82293, 86176, 74824, 73858, 75861, 80451, 76000, 72100, 79775, 75912, 72637, 70842, 67650, 68959, 68959, 70180, 71143, 68866, 66805, 73000, 65920, 63139, 65810, 63595, 66066, 61683, 51170, 57257, 52350, 55808, 52581, 46680], "std": [18652.953320676406, 34304.69721577723, 18836.23649954169, 53737.33516380723, 39558.8160507027, 51912.78117188483, 32138.963256741525, 154775.6921157763, 33707.75486948331, 42250.69203568748, 40227.18190053948, 83695.30233816108, 29171.57331347305, 23694.451178844945, 34703.80354626965, 14836.04759698485, 14731.292574538958, 34860.80389956333, 29762.545819648334, 44946.202758176194, 38534.21491242123, 63674.96925545156, 34373.43596441881, 40573.796296378285, 32292.552034404725, 39565.72049364601, 41704.57487420812, 96634.97232058381, 57702.45435109068, 38663.508463060076, 18562.39959857407, 37479.26222869763, 46252.13149600759, 30082.10007701387, 44715.29985772954, 10136.109221565988, 16705.89605199314, 11177.523626646573, 14923.435977837524, 45782.61772987648, 30640.69785976379, 17193.24078471882, 45944.15768101731, 28495.72855872969, 16620.729652791317, 47446.56389029487, 19572.26754614108, 38964.39488570975, 29621.3369457821, 74304.76268360371, 35750.27109827281, 16796.806337033522, 20920.878567180855, 45000.84171064656, 16642.098100775434, 37632.78387719436, 26435.386594196334, 18905.23556848737, 26540.123254394686, 54464.182352563905, 20515.54288969277, 25957.668302771996, 38098.897012343325, 27698.43613241222, 31686.568605641096, 22676.820951525202, 20027.199833771523, 24267.636009714668, 20874.310966992973, 13060.358288936202, 23410.20180665811, 20584.955935799033, 47056.05788290741, 16963.98890624228, 6599.804191539824, 15327.714440506028, 16471.946555684706, 10349.798709797855, 12993.060098033535, 18947.35954576284, 20671.037727288596, 28346.630410414135, 14109.62092436103, 8210.78543441491, 6717.058225972966, 13884.434358102038, 9598.839637670058, 13569.978524094468, 12663.573220067075, 9387.508988011672, 18571.64598501859, 12352.498277483717, 11078.17939916122, 3569.649206090907, 12158.00845497608, 25037.317361623762, 19915.70166141948, 11671.761547046406, 5225.26340005937, 14805.748443315315, 7974.972504101596], "amin": [302900, 208060, 267852, 202859, 233335, 234600, 226644, 83224, 176750, 202000, 204626, 56661, 193045, 196900, 179780, 179780, 169000, 153308, 139481, 136000, 141400, 54000, 137310, 133320, 141481, 75750, 77212, 52015, 40400, 106050, 132310, 75035, 84820, 90900, 55477, 117436, 112146, 114665, 115150, 86002, 80000, 102468, 52015, 50000, 98542, 85202, 91809, 62000, 55500, 72720, 70740, 87343, 79568, 81608, 75000, 38000, 50000, 77528, 69459, 62418, 77250, 55000, 55000, 43000, 56650, 70000, 72000, 68488, 44500, 75000, 60000, 71000, 55000, 72720, 73657, 60150, 65000, 67750, 64125, 60501, 52500, 55000, 62000, 62593, 67830, 59700, 62593, 52500, 49440, 62000, 45000, 59352, 54000, 58526, 48500, 46680, 32754, 50000, 53495, 45000, 44000], "amax": [340118, 368998, 315696, 386486, 303000, 339966, 310963, 484800, 364105, 348540, 304939, 312060, 264090, 261440, 344000, 212151, 200406, 296326, 206040, 267450, 222765, 372553, 220990, 219020, 254811, 218623, 246038, 349490, 247844, 300000, 187254, 265937, 248766, 218022, 182374, 153599, 165948, 159219, 181142, 202400, 159702, 176459, 233290, 197273, 154615, 256798, 165870, 162178, 144904, 259269, 199738, 146282, 155073, 172000, 132470, 171866, 162900, 122328, 180353, 178327, 146667, 153053, 181457, 140460, 163000, 141494, 124959, 155000, 153434, 113739, 152154, 131593, 270530, 124686, 90627, 102800, 103697, 92700, 102580, 129932, 137917, 170911, 110000, 85754, 86000, 106851, 92392, 106712, 81113, 93335, 122154, 100010, 92986, 70000, 101183, 99560, 94037, 80167, 67761, 123691, 76381]}, "callback": null}, "id": "cafe40bc-1e3d-4bae-bd0a-fca3c17d41c0"}, {"type": "Plot", "subtype": "Figure", "attributes": {"plot_height": 1500, "x_range": {"type": "DataRange1d", "id": "5f4b1fb5-d5e2-4b3f-813b-3b5acb531d76"}, "left": [{"type": "CategoricalAxis", "id": "b0ac7083-6a99-4bdc-b29d-bd5952e22c46"}], "tool_events": {"type": "ToolEvents", "id": "f26e764b-45cb-4b78-b1cb-28ffb547287f"}, "renderers": [{"type": "LinearAxis", "id": "c1f367c3-aa1c-463d-8d0d-0e4470ae5e84"}, {"type": "Grid", "id": "62e8d75c-9f8f-42a4-8365-0e815894f6d4"}, {"type": "CategoricalAxis", "id": "b0ac7083-6a99-4bdc-b29d-bd5952e22c46"}, {"type": "Grid", "id": "2fd63f19-d024-43e4-95f2-d34b045e7772"}, {"type": "Legend", "id": "a34b20dd-73c5-4ec8-8261-f5568ea87fd2"}, {"type": "GlyphRenderer", "id": "183acb4d-fde7-461d-9b67-a5d7ecd92f12"}, {"type": "GlyphRenderer", "id": "aef90c97-7372-4114-8ed2-2749d9c9fb26"}, {"type": "GlyphRenderer", "id": "6fdd1765-9fe8-4b7f-9e96-bf324ba919db"}], "tools": [{"type": "HoverTool", "id": "d433a4bf-7d9c-46a5-aafb-dff58045714d"}, {"type": "PanTool", "id": "b17ff135-04dc-4489-9fd1-dfe04eede73f"}, {"type": "WheelZoomTool", "id": "2155e009-4806-422d-abec-3dc6e4a0dcde"}, {"type": "ResetTool", "id": "a32424a4-1a11-4e56-ab8e-1ac3651615c6"}, {"type": "ResizeTool", "id": "aea63c0b-9c33-43c8-ace9-ce4e4bf80af0"}], "below": [{"type": "LinearAxis", "id": "c1f367c3-aa1c-463d-8d0d-0e4470ae5e84"}], "plot_width": 1000, "title": "Estimated Gender Difference In Pay by Department", "y_range": {"type": "FactorRange", "id": "7cc0d708-5877-40ef-9768-df48f7b47561"}}, "id": "8115cb33-8d8f-4d27-9378-7fb0ca750213"}, {"type": "FactorRange", "attributes": {"callback": null, "factors": ["Research Asst Professor", "Associate Professor", "Research Assoc Professor", "Assistant Professor", "Research Professor", "Professor", "Distinguished Professor", "Clinician Ed-Assist Prof", "Clinician Ed-Assoc Prof", "Clinician Ed - Professor"]}, "id": "6caf7433-c1fb-4093-bb9f-dc45893d7453"}, {"type": "ResetTool", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "c0b28fce-5025-4698-838e-ab629b27644b"}}, "id": "8bb728f3-7d32-4c53-aa65-c1f167d2befe"}, {"type": "GlyphRenderer", "attributes": {"data_source": {"type": "ColumnDataSource", "id": "db4a9878-637a-44fc-afd5-5230d911570e"}, "selection_glyph": null, "nonselection_glyph": {"type": "Quad", "id": "902923e8-2237-4626-86e6-590382f3ded6"}, "hover_glyph": null, "glyph": {"type": "Quad", "id": "71831d04-9913-4578-acbb-4250a57716bf"}}, "id": "823f63c7-7374-4ee3-81c4-a8842e5c6b04"}, {"type": "GlyphRenderer", "attributes": {"data_source": {"type": "ColumnDataSource", "id": "20c196bc-a79a-4b05-8af0-29b7f3339c06"}, "selection_glyph": null, "nonselection_glyph": {"type": "Quad", "id": "01ac127b-c38e-4883-b201-2260a835a9fb"}, "hover_glyph": null, "glyph": {"type": "Quad", "id": "7c9b0887-fa42-491c-9f24-d3671f3d917d"}}, "id": "6fdd1765-9fe8-4b7f-9e96-bf324ba919db"}, {"type": "MultiLine", "attributes": {"line_cap": "round", "xs": {"field": "xs"}, "line_alpha": {"value": 0.55}, "ys": {"field": "ys"}}, "id": "ed668137-1fe1-4f9b-9c23-3ddce09d3295"}, {"type": "Circle", "attributes": {"fill_color": {"value": "#1f77b4"}, "size": {"units": "screen", "value": 2}, "fill_alpha": {"value": 0.1}, "line_alpha": {"value": 0.1}, "line_color": {"value": "#1f77b4"}, "y": {"field": "y"}, "x": {"field": "amin"}}, "id": "5f6a6e36-316a-45fe-b9c0-399151434a9b"}, {"type": "CategoricalTickFormatter", "attributes": {}, "id": "f76f6ee6-ee8f-4ef2-9b78-157dea36e2ac"}, {"type": "LinearAxis", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "ca544ff8-0734-4f45-8a60-bb71a6b65ad4"}, "ticker": {"type": "BasicTicker", "id": "a5de2547-f549-4c5f-aa3e-946c350ae111"}, "major_label_orientation": 1.0, "formatter": {"type": "NumeralTickFormatter", "id": "92bf6bb4-63a3-432d-ac4c-5e28275572da"}}, "id": "9833c5e2-233e-4ed4-8ca4-9cf82e7b2c06"}, {"type": "Grid", "attributes": {"grid_line_dash": [6, 4], "plot": {"type": "Plot", "subtype": "Figure", "id": "749217fd-0b5c-4d31-a55a-689425d1d3e5"}, "grid_line_alpha": {"value": 0.4}, "ticker": {"type": "BasicTicker", "id": "8f07287e-8826-47ac-8bb8-b57dd1414e1f"}}, "id": "a3a0c326-2bc6-4446-b8a0-1556347759c0"}, {"type": "ResizeTool", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "ca544ff8-0734-4f45-8a60-bb71a6b65ad4"}}, "id": "d1ca2f4a-14be-4d0d-8ae3-205118266499"}, {"type": "Grid", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "c0b28fce-5025-4698-838e-ab629b27644b"}, "ticker": {"type": "CategoricalTicker", "id": "da8aa8ee-325f-4def-ad57-1cef1589ec46"}, "dimension": 1, "grid_line_color": {"value": null}}, "id": "4bbda9f7-8998-463e-97b2-9cedd9bbae32"}, {"type": "Plot", "subtype": "Figure", "attributes": {"plot_height": 600, "x_range": {"type": "DataRange1d", "id": "c1b18915-321f-4f29-a9b0-92244b95d36a"}, "left": [{"type": "CategoricalAxis", "id": "1c6f220f-3ede-4be0-b842-5aa49ac1837b"}], "tool_events": {"type": "ToolEvents", "id": "045a86a7-546a-4fe3-9e9d-10925de10eb2"}, "renderers": [{"type": "LinearAxis", "id": "9c741988-44f2-4fbf-8a2e-e7c140e22ea8"}, {"type": "Grid", "id": "64bd394b-ab46-4ddb-8e01-2465eb66b623"}, {"type": "CategoricalAxis", "id": "1c6f220f-3ede-4be0-b842-5aa49ac1837b"}, {"type": "Grid", "id": "94130f7a-1441-4e0f-a16f-4368d9372860"}, {"type": "Legend", "id": "85820d66-58a4-41d0-b1d7-59c12b22cb35"}, {"type": "GlyphRenderer", "id": "afc6b9f2-af29-4637-8408-de6e3544aea2"}, {"type": "GlyphRenderer", "id": "823f63c7-7374-4ee3-81c4-a8842e5c6b04"}, {"type": "GlyphRenderer", "id": "e609c4b6-0aad-4b58-a5d1-88a7750fc4b4"}], "tools": [{"type": "HoverTool", "id": "b5d98526-9240-492b-a034-848a1c9aaea9"}, {"type": "PanTool", "id": "4190fdde-478f-47ac-b4fc-63d3092eee56"}, {"type": "WheelZoomTool", "id": "088bd31b-c294-4189-9c06-c87663e5aed6"}, {"type": "ResetTool", "id": "4120c270-39b9-4c99-8fc0-04a39fce24ba"}, {"type": "ResizeTool", "id": "f22f5e8a-f36a-433c-914d-7ce217c03d8a"}], "below": [{"type": "LinearAxis", "id": "9c741988-44f2-4fbf-8a2e-e7c140e22ea8"}], "plot_width": 800, "title": "UNM Professor Pay By Rank and Estimated Gender", "y_range": {"type": "FactorRange", "id": "757c7b91-c588-4482-9ad7-9f2998c8abdd"}}, "id": "3c8b08e3-324c-4ab7-ac07-5d87e8208218"}, {"type": "HoverTool", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "749217fd-0b5c-4d31-a55a-689425d1d3e5"}, "callback": null, "tooltips": [["Title", "@job_title"], ["Salary Mean", "@mean{$int:,}"], ["Salary STD ", "@std{$int:,}"], ["Total Number", "@count_nonzero"]]}, "id": "cdef8f5a-4121-4c10-8380-e991f6732e63"}, {"type": "ResetTool", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "749217fd-0b5c-4d31-a55a-689425d1d3e5"}}, "id": "67d02a7c-a634-4c7d-be1e-93d5280cb2a4"}, {"type": "PanTool", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "3c8b08e3-324c-4ab7-ac07-5d87e8208218"}}, "id": "4190fdde-478f-47ac-b4fc-63d3092eee56"}, {"type": "HoverTool", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "3c8b08e3-324c-4ab7-ac07-5d87e8208218"}, "callback": null, "tooltips": [["Title", "@job_title"], ["Estimated Gender", "@gender"], ["Mean Annual Salary", "@mean{$int:,}"], ["Annual Salary STD", "@std{$int:,}"], ["Median Annual Salary", "@median{$int:,}"], ["Amount men make over women", "@meandiff{$int:,}"], ["Sample Size", "@count_nonzero"]]}, "id": "b5d98526-9240-492b-a034-848a1c9aaea9"}, {"type": "LinearAxis", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "8115cb33-8d8f-4d27-9378-7fb0ca750213"}, "ticker": {"type": "BasicTicker", "id": "d8b49aad-8221-4a3f-a703-f886ee37538c"}, "major_label_orientation": 1.0, "formatter": {"type": "NumeralTickFormatter", "id": "39788714-a968-4199-a0b9-43542b5515a0"}}, "id": "c1f367c3-aa1c-463d-8d0d-0e4470ae5e84"}, {"type": "ResizeTool", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "8115cb33-8d8f-4d27-9378-7fb0ca750213"}}, "id": "aea63c0b-9c33-43c8-ace9-ce4e4bf80af0"}, {"type": "Grid", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "b3b1f252-7ba2-4a7f-8d00-2bf5310155bf"}, "ticker": {"type": "CategoricalTicker", "id": "0ce9a67c-02ec-4610-a5de-40a468186325"}, "dimension": 1, "grid_line_color": {"value": null}}, "id": "4b13e908-43bb-4861-9863-72fcb8844d2b"}, {"type": "GlyphRenderer", "attributes": {"data_source": {"type": "ColumnDataSource", "id": "f7932721-91cd-4fde-b4f2-752c682c4b23"}, "selection_glyph": null, "nonselection_glyph": {"type": "Circle", "id": "68a7afce-c1c7-44fa-b303-175b8d01d9e6"}, "hover_glyph": null, "glyph": {"type": "Circle", "id": "20eabf41-e567-4626-bccd-f16fbf1930e7"}}, "id": "c44c3b85-bed4-4bc4-be95-fd31e28c213a"}, {"type": "NumeralTickFormatter", "attributes": {"format": "$ 0,0[.]00"}, "id": "269a5f89-a350-4330-ac3a-c1cd78dfaf91"}, {"type": "HoverTool", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "c0b28fce-5025-4698-838e-ab629b27644b"}, "callback": null, "tooltips": [["Department", "@dept"], ["Estimated Gender", "@gender"], ["Mean Annual Salary", "@mean{$int:,}"], ["Mean Annual Salary STD", "@std{$int:,}"], ["Median Annual Salary", "@median{$int:,}"], ["# in department", "@count_nonzero"]]}, "id": "3ec0f0ce-b779-4eec-9055-d98aa0c1fc0a"}, {"type": "ColumnDataSource", "attributes": {"column_names": ["mean", "mediandiff", "meandiff", "amindiff", "count_nonzerodiff", "rank", "std", "amin", "amaxdiff", "gender", "stddiff", "count_nonzero", "index", "job_title", "median", "amax", "right", "bottom", "top"], "data": {"mediandiff": [-36242, -18134, 9115, 5200, 4719, 3730, 3000, 28588, 30160, 31430], "mean": [142329.33333333334, 98995.77777777778, 138184.75, 84727.17901234567, 68462.95238095238, 129735.89928057554, 100140.35714285714, 154030.5652173913, 209940.75, 176106.51666666666], "meandiff": [-14253.250000000015, -12609.177777777775, 2496.308823529398, 3332.136139169481, 5172.992063492056, 6034.488384622702, 10701.531182015955, 22806.04453870625, 26429.41071428571, 43587.75199004976], "count_nonzerodiff": [9, 6, 9, 3, -6, 88, 15, -33, 16, 7], "amindiff": [-24180, -15990, -7697, -4267, 6500, 11820, -558, 6528, 5040, -1351], "rank": ["Research Professor, f", "Research Assoc Professor, f", "Distinguished Professor, f", "Associate Professor, f", "Research Asst Professor, f", "Professor, f", "Assistant Professor, f", "Clinician Ed-Assist Prof, f", "Clinician Ed - Professor, f", "Clinician Ed-Assoc Prof, f"], "std": [37784.10597063268, 18885.10450063753, 25385.266396081013, 27761.67125732887, 15598.900922821455, 60609.40981398845, 59608.01934303806, 53795.78832957093, 59215.93982197699, 55262.24431743611], "bottom": [0.7, 2.7, 4.7, 6.7, 8.7, 10.7, 12.7, 14.7, 16.7, 18.7], "top": [1.3, 3.3, 5.3, 7.3, 9.3, 11.3, 13.3, 15.3, 17.3, 19.3], "amin": [106050, 71054, 103697, 48455, 38000, 50000, 44558, 71000, 115150, 77212], "amaxdiff": [105643, 63911, 1683, 7695, 27052, 69433, 188314, 55601, 0, 131454], "gender": ["f", "f", "f", "f", "f", "f", "f", "f", "f", "f"], "stddiff": [19328.10479904424, 12151.125956684438, -2991.2550091052544, 4200.019092213031, 2395.920526695625, 360.74833735637367, 16321.908030824212, 2555.0618769698704, 10956.590002734338, 25095.79068840509], "count_nonzero": [3, 9, 8, 162, 42, 139, 182, 115, 40, 60], "index": [0, 2, 4, 6, 8, 10, 12, 14, 16, 18], "job_title": ["Research Professor", "Research Assoc Professor", "Distinguished Professor", "Associate Professor", "Research Asst Professor", "Professor", "Assistant Professor", "Clinician Ed-Assist Prof", "Clinician Ed - Professor", "Clinician Ed-Assoc Prof"], "right": [142329.33333333334, 98995.77777777778, 138184.75, 84727.17901234567, 68462.95238095238, 129735.89928057554, 100140.35714285714, 154030.5652173913, 209940.75, 176106.51666666666], "median": [139481, 93566, 136381, 75564, 66648, 112624, 75000, 142814, 197510, 172590], "amax": [181457, 124836, 174776, 254400, 104737, 372553, 296486, 327695, 407650, 346786]}, "callback": null}, "id": "db4a9878-637a-44fc-afd5-5230d911570e"}, {"type": "HoverTool", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "8115cb33-8d8f-4d27-9378-7fb0ca750213"}, "callback": null, "tooltips": [["Department", "@department"], ["Difference in Pay", "@meandiff{$int:,}"], ["Dept Size", "@count_nonzero"]]}, "id": "d433a4bf-7d9c-46a5-aafb-dff58045714d"}, {"type": "ColumnDataSource", "attributes": {"column_names": ["xs", "ys"], "data": {"ys": [[1, 1], [2, 2], [3, 3], [4, 4], [5, 5], [6, 6], [7, 7], [8, 8], [9, 9], [10, 10], [11, 11], [12, 12], [13, 13], [14, 14], [15, 15], [16, 16], [17, 17], [18, 18], [19, 19], [20, 20]], "xs": [[104545.22736270067, 180113.439303966], [70963.87256365642, 185188.29410301024], [80110.67327714025, 117880.88227841532], [55350.36954267803, 117422.83045732198], [112799.48360391898, 163570.01639608102], [118287.04743655364, 163075.07021050516], [56965.507755016806, 112488.85026967454], [56097.62480197325, 120021.00550105705], [52864.051458130925, 84061.85330377384], [55641.122994927355, 91630.76589396152], [69126.48946658708, 190345.309094564], [74800.22951385341, 196740.54581654308], [40532.337799819084, 159748.3764858952], [34911.96095101083, 186771.81569873536], [100234.77688782036, 207826.35354696223], [120485.75954955674, 233187.45996263836], [150724.810178023, 269156.689821977], [166197.6308895744, 306542.69053899706], [120844.27234923055, 231368.7609841028], [139336.23365087522, 300052.3036625576]]}, "callback": null}, "id": "fa1ec7ee-8eff-4269-aaa5-14a7864ca362"}, {"type": "Circle", "attributes": {"line_color": {"value": "#1f77b4"}, "fill_color": {"value": "#1f77b4"}, "size": {"field": "size", "units": "screen"}, "y": {"field": "y"}, "x": {"field": "mean"}}, "id": "466d2e4e-92ee-45b1-ad8c-17a69d41959f"}, {"type": "NumeralTickFormatter", "attributes": {"format": "$ 0,0[.]00"}, "id": "92bf6bb4-63a3-432d-ac4c-5e28275572da"}, {"type": "DataRange1d", "attributes": {"callback": null}, "id": "9ed43274-b788-4500-ac33-960dc33d5333"}, {"type": "Panel", "attributes": {"title": "UNM Professor Pay by Department and Estimated Gender", "child": {"type": "Plot", "subtype": "Figure", "id": "c0b28fce-5025-4698-838e-ab629b27644b"}}, "id": "b6cd6072-54ee-41bd-a39a-b3f3260d5dbc"}, {"type": "LinearAxis", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "c0b28fce-5025-4698-838e-ab629b27644b"}, "ticker": {"type": "BasicTicker", "id": "4f69f867-8bfb-40d0-bd27-7ef89f8baa9b"}, "major_label_orientation": 1.0, "formatter": {"type": "NumeralTickFormatter", "id": "269a5f89-a350-4330-ac3a-c1cd78dfaf91"}}, "id": "4aedf4ec-d6a3-4136-847a-09b49273818a"}, {"type": "ColumnDataSource", "attributes": {"column_names": ["mean", "mediandiff", "meandiff", "amindiff", "count_nonzerodiff", "rank", "std", "amin", "amaxdiff", "gender", "stddiff", "count_nonzero", "index", "job_title", "median", "amax", "right", "bottom", "top"], "data": {"mediandiff": [-36242, -18134, 9115, 5200, 4719, 3730, 3000, 28588, 30160, 31430], "mean": [128076.08333333333, 86386.6, 140681.0588235294, 88059.31515151515, 73635.94444444444, 135770.38766519824, 110841.8883248731, 176836.60975609755, 236370.1607142857, 219694.26865671642], "meandiff": [-14253.250000000015, -12609.177777777775, 2496.308823529398, 3332.136139169481, 5172.992063492056, 6034.488384622702, 10701.531182015955, 22806.04453870625, 26429.41071428571, 43587.75199004976], "count_nonzerodiff": [9, 6, 9, 3, -6, 88, 15, -33, 16, 7], "amindiff": [-24180, -15990, -7697, -4267, 6500, 11820, -558, 6528, 5040, -1351], "rank": ["Research Professor, m", "Research Assoc Professor, m", "Distinguished Professor, m", "Associate Professor, m", "Research Asst Professor, m", "Professor, m", "Assistant Professor, m", "Clinician Ed-Assist Prof, m", "Clinician Ed - Professor, m", "Clinician Ed-Assoc Prof, m"], "std": [57112.210769676916, 31036.23045732197, 22394.01138697576, 31961.690349541903, 17994.82144951708, 60970.158151344825, 75929.92737386227, 56350.8502065408, 70172.52982471132, 80358.0350058412], "bottom": [1.7, 3.7, 5.7, 7.7, 9.7, 11.7, 13.7, 15.7, 17.7, 19.7], "top": [2.3, 4.3, 6.3, 8.3, 10.3, 12.3, 14.3, 16.3, 18.3, 20.3], "amin": [81870, 55064, 96000, 44188, 44500, 61820, 44000, 77528, 120190, 75861], "amaxdiff": [105643, 63911, 1683, 7695, 27052, 69433, 188314, 55601, 0, 131454], "gender": ["m", "m", "m", "m", "m", "m", "m", "m", "m", "m"], "stddiff": [19328.10479904424, 12151.125956684438, -2991.2550091052544, 4200.019092213031, 2395.920526695625, 360.74833735637367, 16321.908030824212, 2555.0618769698704, 10956.590002734338, 25095.79068840509], "count_nonzero": [12, 15, 17, 165, 36, 227, 197, 82, 56, 67], "index": [1, 3, 5, 7, 9, 11, 13, 15, 17, 19], "job_title": ["Research Professor", "Research Assoc Professor", "Distinguished Professor", "Associate Professor", "Research Asst Professor", "Professor", "Assistant Professor", "Clinician Ed-Assist Prof", "Clinician Ed - Professor", "Clinician Ed-Assoc Prof"], "right": [128076.08333333333, 86386.6, 140681.0588235294, 88059.31515151515, 73635.94444444444, 135770.38766519824, 110841.8883248731, 176836.60975609755, 236370.1607142857, 219694.26865671642], "median": [103239, 75432, 145496, 80764, 71367, 116354, 78000, 171402, 227670, 204020], "amax": [287100, 188747, 176459, 262095, 131789, 441986, 484800, 383296, 407650, 478240]}, "callback": null}, "id": "8889aab3-c98a-4556-ab3f-a3259222c5f3"}, {"type": "MultiLine", "attributes": {"line_cap": "round", "line_color": {"value": "#1f77b4"}, "xs": {"field": "xs"}, "line_alpha": {"value": 0.1}, "ys": {"field": "ys"}}, "id": "a60aa3e9-34af-4950-8733-3c5d90e4b108"}, {"type": "CategoricalTickFormatter", "attributes": {}, "id": "94564b0f-bf76-4bfc-b4bf-531cde88018b"}, {"type": "Plot", "subtype": "Figure", "attributes": {"plot_height": 600, "x_range": {"type": "DataRange1d", "id": "d4e1d5ce-a852-4200-a123-ca9e1abfdb53"}, "left": [{"type": "CategoricalAxis", "id": "b3be85c6-ec0e-4b22-88e4-83e3bf3adb92"}], "tool_events": {"type": "ToolEvents", "id": "a040d739-1181-4eba-83a6-7ee020791e71"}, "renderers": [{"type": "LinearAxis", "id": "f4ae9911-a45f-45a5-a2b4-ef7275bd90c1"}, {"type": "Grid", "id": "a3a0c326-2bc6-4446-b8a0-1556347759c0"}, {"type": "CategoricalAxis", "id": "b3be85c6-ec0e-4b22-88e4-83e3bf3adb92"}, {"type": "Grid", "id": "480ca794-bb90-421e-ab66-532e0621af1c"}, {"type": "GlyphRenderer", "id": "542a9f00-3cc8-43c7-b1d0-16a157b665fe"}, {"type": "Legend", "id": "85b431e9-6518-4aef-a5b6-b5fbb35e1ea3"}, {"type": "GlyphRenderer", "id": "c44c3b85-bed4-4bc4-be95-fd31e28c213a"}, {"type": "GlyphRenderer", "id": "f42d449e-f39e-449e-8e2c-cfbdee764b5f"}, {"type": "GlyphRenderer", "id": "1587bea3-19e7-4524-bd2e-c5a601a51191"}], "tools": [{"type": "HoverTool", "id": "cdef8f5a-4121-4c10-8380-e991f6732e63"}, {"type": "PanTool", "id": "61101532-1d95-48c5-b802-6c33ffda5dfa"}, {"type": "WheelZoomTool", "id": "6a4a98d0-9370-475b-bfef-d803961bb49a"}, {"type": "ResetTool", "id": "67d02a7c-a634-4c7d-be1e-93d5280cb2a4"}, {"type": "ResizeTool", "id": "3fc35b6b-5033-4272-98c0-78a3c135d9de"}], "below": [{"type": "LinearAxis", "id": "f4ae9911-a45f-45a5-a2b4-ef7275bd90c1"}], "plot_width": 1000, "title": "UNM Professor Pay By Rank", "y_range": {"type": "FactorRange", "id": "6caf7433-c1fb-4093-bb9f-dc45893d7453"}}, "id": "749217fd-0b5c-4d31-a55a-689425d1d3e5"}, {"type": "PanTool", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "b3b1f252-7ba2-4a7f-8d00-2bf5310155bf"}}, "id": "76ac6c4c-a250-49fb-a297-78c7d4fba41e"}, {"type": "PanTool", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "c0b28fce-5025-4698-838e-ab629b27644b"}}, "id": "31c6a635-75e5-4d0a-863d-4adbfad2184c"}, {"type": "GlyphRenderer", "attributes": {"data_source": {"type": "ColumnDataSource", "id": "58dffba4-67c8-49c2-a069-91b353e628e9"}, "selection_glyph": null, "nonselection_glyph": {"type": "Quad", "id": "020dbcf1-8a77-4142-9a88-5dd3d4e61d4a"}, "hover_glyph": null, "glyph": {"type": "Quad", "id": "23da8dcf-490b-41bd-8df3-19df08b93705"}}, "id": "bcf65065-4214-4a11-a7e4-be3e9912a413"}, {"type": "Quad", "attributes": {"fill_color": {"value": "#1f77b4"}, "left": {"value": 0}, "fill_alpha": {"value": 0.1}, "line_alpha": {"value": 0.1}, "line_color": {"value": "#1f77b4"}, "right": {"field": "right"}, "bottom": {"field": "bottom"}, "top": {"field": "top"}}, "id": "48a00723-dad6-4225-9720-18c65294ecb9"}, {"type": "Quad", "attributes": {"fill_color": {"value": "blue"}, "left": {"value": 0}, "fill_alpha": {"value": 0.6}, "line_color": {"value": "#1f77b4"}, "right": {"field": "right"}, "bottom": {"field": "bottom"}, "top": {"field": "top"}}, "id": "b6bc8af5-c1f9-4df6-9d6a-003bdbd06af9"}, {"type": "Grid", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "ca544ff8-0734-4f45-8a60-bb71a6b65ad4"}, "ticker": {"type": "CategoricalTicker", "id": "fd436b87-997b-40f6-abac-771a902aecac"}, "dimension": 1, "grid_line_color": {"value": null}}, "id": "9ca0efdb-9581-43b6-9408-840d8fab2ff9"}, {"type": "ToolEvents", "attributes": {}, "id": "045a86a7-546a-4fe3-9e9d-10925de10eb2"}, {"type": "Quad", "attributes": {"fill_color": {"value": "blue"}, "left": {"value": 0}, "fill_alpha": {"value": 0.6}, "line_color": {"value": "#1f77b4"}, "right": {"field": "right"}, "bottom": {"field": "bottom"}, "top": {"field": "top"}}, "id": "23da8dcf-490b-41bd-8df3-19df08b93705"}, {"type": "GlyphRenderer", "attributes": {"data_source": {"type": "ColumnDataSource", "id": "fa1ec7ee-8eff-4269-aaa5-14a7864ca362"}, "selection_glyph": null, "nonselection_glyph": {"type": "MultiLine", "id": "c6bed00f-cb63-45c4-a030-b97abe05e489"}, "hover_glyph": null, "glyph": {"type": "MultiLine", "id": "a89ec0d4-930f-4584-b509-6d84bfc485b5"}}, "id": "e609c4b6-0aad-4b58-a5d1-88a7750fc4b4"}, {"type": "Quad", "attributes": {"fill_color": {"value": "#1f77b4"}, "left": {"value": 0}, "fill_alpha": {"value": 0.1}, "line_alpha": {"value": 0.1}, "line_color": {"value": "#1f77b4"}, "right": {"field": "right"}, "bottom": {"field": "bottom"}, "top": {"field": "top"}}, "id": "a45c7491-06b1-4cd0-9a4f-71edd68a3f2c"}, {"type": "GlyphRenderer", "attributes": {"data_source": {"type": "ColumnDataSource", "id": "20c196bc-a79a-4b05-8af0-29b7f3339c06"}, "selection_glyph": null, "nonselection_glyph": {"type": "Quad", "id": "d93ec728-dad3-4f8e-8034-dd78b4b2be6e"}, "hover_glyph": null, "glyph": {"type": "Quad", "id": "0e69e681-102b-4f65-a0c4-ee51c5868810"}}, "id": "aef90c97-7372-4114-8ed2-2749d9c9fb26"}, {"type": "ColumnDataSource", "attributes": {"column_names": ["mean", "mediandiff", "meandiff", "amindiff", "count_nonzerodiff", "std", "amin", "amaxdiff", "dept", "gender", "department", "count_nonzero", "index", "median", "stddiff", "amax", "right", "bottom", "top"], "data": {"mediandiff": [-5050.0, -35108.0, -51778.0, -18653.0, -28365.0, -8259.5, -14193.0, -5962.0, -14742.0, -13419.0, 3636.0, -4646.5, -1134.0, 29735.5, -6632.0, 360.0, 2475.0, 1672.0, -1641.5, -5944.0, 4701.5, -6625.0, -3049.0, -408.5, -11245.5, -3998.0, 4531.5, 87.5, -1895.5, -790.0, 1882.0, 482.0, -3781.5, 7600.5, -18548.0, -10403.0, 1899.5, 333.0, 31209.0, 18050.5, 93.0, 7479.0, -1743.0, 16413.5, 3672.0, 9334.0, 2625.5, -4244.0, 16025.0, 11635.0, 5272.5, 21590.0, 8532.5, -662.0, 14214.5, 27455.0, 2525.0, 23256.0, 11145.0, 2859.0, 26755.0, 10565.5, 13870.0, 1818.0, 2913.5, 32258.5, 26238.0, 13751.5, 19322.5, 8131.5, 63435.5, 135264.0, 136200.0], "mean": [208757.0, 120104.2, 113931.57142857143, 164614.57894736843, 73478.75, 157872.33333333334, 106650.6, 73424.4, 55844.8, 87228.66666666667, 124586.64285714286, 72756.71428571429, 55913.357142857145, 88918.875, 131192.5, 71502.5, 101538.68421052632, 110133.33333333333, 71789.25, 125647.66666666667, 69006.33333333333, 69070.09090909091, 64164.0, 73993.85714285714, 89773.5, 88229.78947368421, 72966.58333333333, 69917.5, 50256.0, 67737.5, 130948.16666666667, 113937.58333333333, 123455.66666666667, 253805.81818181818, 122928.76923076923, 252975.8, 98083.8, 64601.15, 314653.1875, 99872.4, 74297.66666666667, 89785.90909090909, 77415.2, 94493.75, 89884.35714285714, 104690.0, 95181.17857142857, 83590.0, 86453.0, 201791.2857142857, 104717.25, 88795.0, 123225.83333333333, 284481.6666666667, 113586.33333333333, 187092.5, 178724.75, 107618.21428571429, 169804.75, 192995.0, 268428.6666666667, 155214.42857142858, 95746.0, 143697.53333333333, 174917.41666666666, 133252.6, 168053.0, 102771.71428571429, 106521.7, 172201.6, 304351.85714285716, 198698.42857142858, 286938.2727272727], "meandiff": [-51255.5, -30166.871428571423, -29018.095238095222, -22698.690283400792, -16021.25, -14888.666666666657, -12056.649999999994, -11361.933333333334, -9067.949999999997, -8558.533333333326, -7327.940476190488, -7144.28571428571, -6816.181318681316, -5312.125, -5085.5, -4069.699999999997, -3952.982456140351, -3859.481481481489, -3729.75, -3612.0, -2474.5416666666715, -1956.1590909090883, -1956.0, -51.642857142855064, 255.0, 878.2180451127788, 1123.7333333333227, 1376.75, 1633.4000000000015, 1645.625, 1734.6666666666715, 2222.0833333333285, 2348.1666666666715, 2538.895104895113, 2865.3076923077024, 3207.2999999999884, 3235.9666666666744, 4818.1500000000015, 5642.965277777752, 5890.274999999994, 6241.809523809527, 6261.8181818181765, 7714.866666666669, 10004.113636363632, 10052.21428571429, 10510.600000000006, 10524.178571428565, 10580.476190476184, 11686.333333333328, 11968.41071428571, 12461.449999999997, 12925.142857142855, 13336.133333333331, 14096.666666666686, 14404.11111111111, 14785.299999999988, 16415.5, 16483.71428571429, 18257.79545454544, 18305.0, 18650.266666666692, 18926.195238095243, 19693.199999999997, 19907.366666666654, 20120.216666666645, 25167.766666666677, 25902.399999999994, 28006.21428571429, 33582.075, 34408.314285714296, 69738.35714285716, 99061.67857142858, 137532.2727272727], "count_nonzerodiff": [-1, -9, 4, -7, 1, -7, 1, -1, 1, 2, 2, -1, 1, -4, 5, -1, 13, -21, 1, -6, -5, -13, 2, -1, 4, 12, -8, -2, -4, -2, 2, 8, 5, 9, 0, 6, 14, 12, 7, -3, 2, 22, 2, 1, 7, 6, 24, -16, 0, 5, -1, -4, -4, 0, -3, -2, 4, 8, -14, 1, 1, -2, -2, 9, -1, -1, -2, -5, 2, 3, -1, 3, 8], "amindiff": [-175639, 20, -29850, 1233, -2500, 5408, -33325, 7554, 0, -2400, 4850, -1581, 0, 64, -16594, 0, 964, 2754, 0, 5985, -1860, 0, -5692, -4000, -2591, -3000, 1551, -1353, -558, 3583, -3885, -2045, -12660, -15857, -2391, -24251, -9514, -1341, -88426, 17654, 407, -20500, 2451, -59, -1682, 15000, -23591, 5000, 4851, 0, 23927, 4654, 5077, 259, -5303, 0, 95977, 33400, 14140, -17786, -7956, 12415, 3141, 29100, 1568, -37985, 19190, -1000, 16848, 40342, 27141, 27985, -10806], "std": [134509.2187807215, 33099.47298976224, 28976.722519159768, 53315.182530469785, 12131.01934092927, 13133.72228527262, 34833.8519948627, 9467.609244154513, 8642.247115189428, 23604.94859647918, 5905.739680203461, 14480.843252266191, 7597.564109706405, 27389.581843350064, 12075.174284456516, 3172.4057642951893, 21180.094276499418, 13763.6622694204, 14281.141678551372, 5955.22412116734, 6558.896274018468, 22131.77261068144, 4522.958766117596, 9307.712365355435, 22432.589519969126, 14056.494179555692, 12100.61358668404, 13613.984380040989, 12860.159672414646, 12527.758342975809, 18784.059863795857, 50809.64894308656, 21499.969680211187, 37314.97140704017, 35933.73625428209, 48767.38374000029, 28624.82514697228, 13746.256643652405, 41915.028541433276, 12969.615214030062, 11829.518830028548, 22563.834261606054, 16885.978568030936, 23777.4881582062, 27579.50964758255, 15862.214996651634, 27477.11534411132, 45464.9314032255, 15535.87870704454, 41770.31093628925, 14676.176849461397, 17741.0800404034, 19857.63926972858, 27043.18558035153, 22375.386983618107, 48532.00144529086, 4247.2761271195905, 31379.346833861604, 56327.264103248825, 47004.927939221736, 36411.666666971825, 39355.78135272628, 25641.078857957596, 33355.86601198541, 38591.021857327825, 65066.751135276456, 18023.486260987356, 75284.09358714559, 34788.40822921081, 57684.91639780907, 59197.44984492877, 92257.98014960936, 159996.25262242297], "bottom": [1.7, 3.7, 5.7, 7.7, 9.7, 11.7, 13.7, 15.7, 17.7, 19.7, 21.7, 23.7, 25.7, 27.7, 29.7, 31.7, 33.7, 35.7, 37.7, 39.7, 41.7, 43.7, 45.7, 47.7, 49.7, 51.7, 53.7, 55.7, 57.7, 59.7, 61.7, 63.7, 65.7, 67.7, 69.7, 71.7, 73.7, 75.7, 77.7, 79.7, 81.7, 83.7, 85.7, 87.7, 89.7, 91.7, 93.7, 95.7, 97.7, 99.7, 101.7, 103.7, 105.7, 107.7, 109.7, 111.7, 113.7, 115.7, 117.7, 119.7, 121.7, 123.7, 125.7, 127.7, 129.7, 131.7, 133.7, 135.7, 137.7, 139.7, 141.7, 143.7, 145.7], "top": [2.3, 4.3, 6.3, 8.3, 10.3, 12.3, 14.3, 16.3, 18.3, 20.3, 22.3, 24.3, 26.3, 28.3, 30.3, 32.3, 34.3, 36.3, 38.3, 40.3, 42.3, 44.3, 46.3, 48.3, 50.3, 52.3, 54.3, 56.3, 58.3, 60.3, 62.3, 64.3, 66.3, 68.3, 70.3, 72.3, 74.3, 76.3, 78.3, 80.3, 82.3, 84.3, 86.3, 88.3, 90.3, 92.3, 94.3, 96.3, 98.3, 100.3, 102.3, 104.3, 106.3, 108.3, 110.3, 112.3, 114.3, 116.3, 118.3, 120.3, 122.3, 124.3, 126.3, 128.3, 130.3, 132.3, 134.3, 136.3, 138.3, 140.3, 142.3, 144.3, 146.3], "amin": [56661, 84840, 80000, 55233, 65000, 146889, 55500, 68055, 50000, 70000, 120000, 57500, 48000, 55064, 117436, 68320, 60964, 94563, 62000, 120650, 62000, 52000, 58526, 64715, 72000, 75000, 59591, 59352, 44000, 59917, 112146, 85202, 102468, 176750, 92485, 202000, 69459, 48500, 208060, 87748, 63000, 44500, 64251, 68488, 60000, 90000, 55000, 60000, 65001, 179780, 94667, 68779, 103619, 268111, 87343, 136000, 174000, 71400, 120190, 153308, 226644, 87450, 75861, 120000, 78780, 52015, 151500, 55000, 73498, 80742, 230000, 80000, 83224], "amaxdiff": [29510, -83289, -5561, -117553, -12658, -77751, 1028, -39931, -10943, 3138, -37581, -28533, -52064, -57603, 16043, -11030, -7900, -37120, -3836, -26982, -18335, 11841, 2750, 880, 17393, 4014, -11231, -4010, 17221, 6428, 14916, 82022, 47120, 58619, 66613, 64659, 47571, 32528, 22212, -25422, 14827, 35956, 32436, -12950, 47154, 15191, 61574, -6111, 2800, 80036, 10044, 12580, 8716, 42693, 26684, 15000, -32667, -261, 87590, 106092, 15163, 77898, 38383, 60253, 5848, 85932, 29037, 171614, 73560, 51155, 105605, 136430, 251812], "dept": ["Surgical Oncology, m", "IM Div of Epidemiology, m", "Neurosciences, m", "Pathology, m", "Organization Info Learning Sci-OILS, m", "IM Div of General Internal Medicine, m", "Molecular Genetics Microbiology, m", "American Studies Department, m", "Theatre and Dance, m", "Sociology, m", "IM Division of Hospital Medicine, m", "History Department, m", "Gallup Branch, m", "COP Pharmaceutical Sciences, m", "ASM Finance Intl Tech Mngt FIT, m", "Honors College Admin, m", "Electrical Computer Engineering, m", "College of Nursing, m", "Individual Family Comm Educ IFCE, m", "ASM Organizational Studies, m", "Educational Specialties Ed Spec, m", "Art Art History, m", "Spanish Portuguese, m", "Language Literacy Sociocultural LL, m", "School of Public Administration, m", "Mathematics Statistics, m", "English Department, m", "Communication Journalism, m", "Valencia County Branch, m", "Foreign Languages Literatures, m", "ASM Department of Accounting, m", "Computer Science, m", "ASM Mrkting Info Decision Sci MIDS, m", "Anesthesiology, m", "School of Law, m", "IM Div of Cardiology, m", "Psychology Department, m", "Music, m", "Radiology General, m", "Political Science, m", "Health Exercise & Sports Science, m", "AS Biology General Administrative, m", "Geography, m", "Anthropology Department, m", "Architecture and Planning, m", "Earth and Planetary Sciences E PS, m", "Physics Astronomy Department, m", "Dept Teacher Ed, Ed Lead & Policy, m", "Philosophy Department, m", "Emergency Medicine, m", "Biochemistry Molecular Biology, m", "Linguistics Department, m", "COP Pharmacy Practice & Admin Scien, m", "Surgery Urology, m", "Economics Department, m", "Pediatrics Critical Care, m", "IM Div of Nephrology, m", "Chemistry Department, m", "Pediatrics General, m", "IM Div of Pulmonary CC and Sleep, m", "Surgery Head Neck Reconstructive, m", "Family Community Medicine FCM, m", "Orthopaedics Physical Therapy, m", "Orthopaedics Combined, m", "Psychiatry Combined, m", "Cell Biology, m", "IM Div of Infectious Diseases, m", "University Libraries, m", "Chemical and Biological Engineering, m", "Neurology, m", "Medical Oncology, m", "IM Div of Gastroenterology, m", "SOM Neurosurgery, m"], "gender": ["m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m", "m"], "department": ["Surgical Oncology", "IM Div of Epidemiology", "Neurosciences", "Pathology", "Organization Info Learning Sci-OILS", "IM Div of General Internal Medicine", "Molecular Genetics Microbiology", "American Studies Department", "Theatre and Dance", "Sociology", "IM Division of Hospital Medicine", "History Department", "Gallup Branch", "COP Pharmaceutical Sciences", "ASM Finance Intl Tech Mngt FIT", "Honors College Admin", "Electrical Computer Engineering", "College of Nursing", "Individual Family Comm Educ IFCE", "ASM Organizational Studies", "Educational Specialties Ed Spec", "Art Art History", "Spanish Portuguese", "Language Literacy Sociocultural LL", "School of Public Administration", "Mathematics Statistics", "English Department", "Communication Journalism", "Valencia County Branch", "Foreign Languages Literatures", "ASM Department of Accounting", "Computer Science", "ASM Mrkting Info Decision Sci MIDS", "Anesthesiology", "School of Law", "IM Div of Cardiology", "Psychology Department", "Music", "Radiology General", "Political Science", "Health Exercise & Sports Science", "AS Biology General Administrative", "Geography", "Anthropology Department", "Architecture and Planning", "Earth and Planetary Sciences E PS", "Physics Astronomy Department", "Dept Teacher Ed, Ed Lead & Policy", "Philosophy Department", "Emergency Medicine", "Biochemistry Molecular Biology", "Linguistics Department", "COP Pharmacy Practice & Admin Scien", "Surgery Urology", "Economics Department", "Pediatrics Critical Care", "IM Div of Nephrology", "Chemistry Department", "Pediatrics General", "IM Div of Pulmonary CC and Sleep", "Surgery Head Neck Reconstructive", "Family Community Medicine FCM", "Orthopaedics Physical Therapy", "Orthopaedics Combined", "Psychiatry Combined", "Cell Biology", "IM Div of Infectious Diseases", "University Libraries", "Chemical and Biological Engineering", "Neurology", "Medical Oncology", "IM Div of Gastroenterology", "SOM Neurosurgery"], "count_nonzero": [3, 5, 7, 19, 4, 6, 5, 5, 5, 12, 14, 14, 14, 8, 8, 4, 19, 6, 8, 3, 3, 11, 7, 7, 8, 19, 12, 6, 6, 6, 6, 12, 9, 22, 13, 10, 20, 20, 16, 5, 9, 33, 5, 12, 14, 11, 28, 5, 6, 21, 4, 3, 6, 3, 6, 8, 8, 14, 8, 8, 6, 28, 3, 15, 24, 5, 3, 7, 10, 10, 7, 7, 11], "index": [1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31, 33, 35, 37, 39, 41, 43, 45, 47, 49, 51, 53, 55, 57, 59, 61, 63, 65, 67, 69, 71, 73, 75, 77, 79, 81, 83, 85, 87, 89, 91, 93, 95, 97, 99, 101, 103, 105, 107, 109, 111, 113, 115, 117, 119, 121, 123, 125, 127, 129, 131, 133, 135, 137, 139, 141, 143, 145], "median": [257550.0, 115382.0, 107519.0, 171700.0, 68938.0, 150440.5, 106871.0, 68320.0, 50000.0, 75656.0, 124836.0, 70702.5, 53789.0, 99240.0, 130616.0, 71360.0, 94000.0, 111278.0, 67317.5, 124056.0, 70019.0, 62136.0, 63560.0, 68959.0, 76713.0, 81617.0, 70598.5, 65434.0, 45011.0, 63171.5, 126777.5, 92901.5, 116200.0, 255050.5, 108398.0, 234068.0, 88654.5, 61683.0, 327695.0, 96930.0, 68959.0, 87719.0, 71143.0, 91175.5, 81118.0, 101452.0, 86904.5, 64715.0, 88750.0, 191415.0, 98838.5, 95026.0, 114752.0, 269638.0, 110112.5, 180900.0, 178820.5, 106756.0, 155540.0, 173953.0, 263701.0, 154095.5, 86691.0, 124836.0, 168321.5, 132195.0, 165405.0, 87000.0, 93842.5, 162661.5, 287100.0, 202000.0, 257400.0], "right": [208757.0, 120104.2, 113931.57142857143, 164614.57894736843, 73478.75, 157872.33333333334, 106650.6, 73424.4, 55844.8, 87228.66666666667, 124586.64285714286, 72756.71428571429, 55913.357142857145, 88918.875, 131192.5, 71502.5, 101538.68421052632, 110133.33333333333, 71789.25, 125647.66666666667, 69006.33333333333, 69070.09090909091, 64164.0, 73993.85714285714, 89773.5, 88229.78947368421, 72966.58333333333, 69917.5, 50256.0, 67737.5, 130948.16666666667, 113937.58333333333, 123455.66666666667, 253805.81818181818, 122928.76923076923, 252975.8, 98083.8, 64601.15, 314653.1875, 99872.4, 74297.66666666667, 89785.90909090909, 77415.2, 94493.75, 89884.35714285714, 104690.0, 95181.17857142857, 83590.0, 86453.0, 201791.2857142857, 104717.25, 88795.0, 123225.83333333333, 284481.6666666667, 113586.33333333333, 187092.5, 178724.75, 107618.21428571429, 169804.75, 192995.0, 268428.6666666667, 155214.42857142858, 95746.0, 143697.53333333333, 174917.41666666666, 133252.6, 168053.0, 102771.71428571429, 106521.7, 172201.6, 304351.85714285716, 198698.42857142858, 286938.2727272727], "stddiff": [113372.23007214084, -15552.82092479385, 310.8550748745074, -17119.528719343798, -7187.904257449602, -24502.766749085175, 7911.229445848894, -16134.322266312947, -6154.420243262159, 1822.3470693683958, -14912.382558314566, -10506.649324735494, -12926.740192816595, -18750.347771996025, 10122.267732672739, -5593.8180065197, -17081.406173256422, -7026.536220099088, -1554.488295234536, -6664.320571490955, -4009.6213871093905, 5298.976508119191, 3271.5161985181076, 2047.2652913602205, 5215.7841930024915, 3225.6114538011752, -1894.3537315869726, 535.745510507697, 8380.578412222276, 3634.7605286839407, 3074.6531595310516, 8560.354160017501, 15037.92756232513, 9419.31574628199, 24165.314456837707, 24457.835033096384, 8660.39692659325, 7556.668219763232, 23771.50888028581, -17646.11058375236, 6906.856019835556, 7999.6739668650935, 10001.509791623179, -1862.2204020435747, 11147.243376324535, -1875.7586982211833, 21275.441967782423, 21623.837781876988, 1623.3064550608433, 19921.1831035816, -2340.0077170035547, 8262.506951086432, 5820.198603583078, 24466.633814909972, 13023.610216904499, 5219.602571783769, -55382.85584419728, -20831.04388580262, 25144.039764821395, 39973.13072940403, 10184.54187602305, 5996.31530155064, 19770.586740596395, 12095.04301364721, -5976.73410012792, 42946.94847416153, 6795.78862077634, 60565.231047718655, 21891.516256585335, 2231.9166361061216, 31454.929993367237, 16242.90782236187, 86348.33840891655], "amax": [312060, 165477, 154141, 255000, 91039, 177060, 144904, 90001, 69224, 141494, 143561, 109384, 71627, 123854, 153599, 74970, 155000, 128750, 106164, 132237, 75000, 122154, 70000, 85754, 124959, 113739, 95481, 96000, 76381, 92986, 165948, 256798, 176459, 364105, 197273, 348540, 180353, 101183, 368998, 115038, 92392, 153434, 106851, 142050, 152154, 132470, 153053, 164800, 102800, 344000, 126525, 102580, 154615, 315696, 146282, 267450, 185956, 171605, 300000, 296326, 310963, 265937, 124686, 218022, 246038, 233290, 187254, 270530, 163000, 247844, 386486, 349490, 484800]}, "callback": null}, "id": "d3b97c79-e0f8-4085-9344-6d42281c225f"}, {"type": "GlyphRenderer", "attributes": {"data_source": {"type": "ColumnDataSource", "id": "58dffba4-67c8-49c2-a069-91b353e628e9"}, "selection_glyph": null, "nonselection_glyph": {"type": "Quad", "id": "bca5654c-9034-4bb9-9f9f-9703669f5da6"}, "hover_glyph": null, "glyph": {"type": "Quad", "id": "2cb5a02a-969b-4334-93bb-fd0661cffbab"}}, "id": "4b398aaf-2eed-4d54-9c78-76f153bfe926"}, {"type": "Circle", "attributes": {"fill_color": {"value": "#1f77b4"}, "size": {"field": "size", "units": "screen"}, "fill_alpha": {"value": 0.1}, "line_alpha": {"value": 0.1}, "line_color": {"value": "#1f77b4"}, "y": {"field": "y"}, "x": {"field": "mean"}}, "id": "68a7afce-c1c7-44fa-b303-175b8d01d9e6"}, {"type": "CategoricalTickFormatter", "attributes": {}, "id": "5c2299e5-f26e-4306-96b2-2ad968d79268"}, {"type": "WheelZoomTool", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "8115cb33-8d8f-4d27-9378-7fb0ca750213"}}, "id": "2155e009-4806-422d-abec-3dc6e4a0dcde"}, {"type": "FactorRange", "attributes": {"callback": null, "factors": ["Research Professor, f", "Research Professor, m", "Research Assoc Professor, f", "Research Assoc Professor, m", "Distinguished Professor, f", "Distinguished Professor, m", "Associate Professor, f", "Associate Professor, m", "Research Asst Professor, f", "Research Asst Professor, m", "Professor, f", "Professor, m", "Assistant Professor, f", "Assistant Professor, m", "Clinician Ed-Assist Prof, f", "Clinician Ed-Assist Prof, m", "Clinician Ed - Professor, f", "Clinician Ed - Professor, m", "Clinician Ed-Assoc Prof, f", "Clinician Ed-Assoc Prof, m"]}, "id": "757c7b91-c588-4482-9ad7-9f2998c8abdd"}, {"type": "Quad", "attributes": {"fill_color": {"value": "#1f77b4"}, "left": {"value": 0}, "fill_alpha": {"value": 0.1}, "line_alpha": {"value": 0.1}, "line_color": {"value": "#1f77b4"}, "right": {"field": "right"}, "bottom": {"field": "bottom"}, "top": {"field": "top"}}, "id": "72d0c517-76cf-4a14-87d1-66b38e8f4e51"}, {"type": "WheelZoomTool", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "ca544ff8-0734-4f45-8a60-bb71a6b65ad4"}}, "id": "096a42b6-3f5c-4187-a598-6f8e1b8e40ee"}, {"type": "HoverTool", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "b3b1f252-7ba2-4a7f-8d00-2bf5310155bf"}, "callback": null, "tooltips": [["Department", "@department"], ["Salary Mean", "@mean{$int:,}"], ["Salary STD ", "@std{$int:,}"], ["Salary Min ", "@amin{$int:,}"], ["Salary Max ", "@amax{$int:,}"], ["Dept Size", "@count_nonzero"]]}, "id": "9b525df5-1b2e-4e81-bd6a-3267291a0e44"}, {"type": "Plot", "subtype": "Figure", "attributes": {"plot_height": 1500, "x_range": {"type": "DataRange1d", "id": "d01269b0-82f0-4c3e-af9e-958059ac4a2b"}, "left": [{"type": "CategoricalAxis", "id": "fb95e75b-3f70-4d59-a40e-ce9666cca865"}], "tool_events": {"type": "ToolEvents", "id": "eefc5068-fdea-42ae-8a4d-f14e03149f8d"}, "renderers": [{"type": "LinearAxis", "id": "3ab5c448-9928-4dc7-b901-443be9351657"}, {"type": "Grid", "id": "b7101ea5-c816-4d04-bdfa-3e9b14246be1"}, {"type": "CategoricalAxis", "id": "fb95e75b-3f70-4d59-a40e-ce9666cca865"}, {"type": "Grid", "id": "4b13e908-43bb-4861-9863-72fcb8844d2b"}, {"type": "GlyphRenderer", "id": "f9a0e5b8-6818-4c99-a54f-feb5d0eb9100"}, {"type": "Legend", "id": "4a2d3eed-6eb7-410d-a094-46371d25af71"}, {"type": "GlyphRenderer", "id": "9fcc01da-8448-4390-a876-3a9c66aa416b"}, {"type": "GlyphRenderer", "id": "6b3dc559-497f-489b-9039-0f639db4cc43"}, {"type": "GlyphRenderer", "id": "49c65a3e-f3b2-40da-bdb3-32b8b8479f74"}], "tools": [{"type": "HoverTool", "id": "9b525df5-1b2e-4e81-bd6a-3267291a0e44"}, {"type": "PanTool", "id": "76ac6c4c-a250-49fb-a297-78c7d4fba41e"}, {"type": "WheelZoomTool", "id": "92c9b96c-c5bd-4cea-8a86-5c5b38611182"}, {"type": "ResetTool", "id": "afc6772f-4e30-4894-81dd-1198fdf704e6"}, {"type": "ResizeTool", "id": "dc2f370f-5b0a-4304-a941-d206c18789fc"}], "below": [{"type": "LinearAxis", "id": "3ab5c448-9928-4dc7-b901-443be9351657"}], "plot_width": 1000, "title": "UNM Professor Pay per Department", "y_range": {"type": "FactorRange", "id": "99eede43-dd08-4ce8-b571-dd201bf21d3d"}}, "id": "b3b1f252-7ba2-4a7f-8d00-2bf5310155bf"}, {"type": "MultiLine", "attributes": {"line_cap": "round", "line_color": {"value": "#1f77b4"}, "xs": {"field": "xs"}, "line_alpha": {"value": 0.1}, "ys": {"field": "ys"}}, "id": "c6bed00f-cb63-45c4-a030-b97abe05e489"}, {"type": "LinearAxis", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "749217fd-0b5c-4d31-a55a-689425d1d3e5"}, "ticker": {"type": "BasicTicker", "id": "8f07287e-8826-47ac-8bb8-b57dd1414e1f"}, "major_label_orientation": 1.0, "formatter": {"type": "NumeralTickFormatter", "id": "366e3265-b5d4-48a2-b69a-045601a05989"}}, "id": "f4ae9911-a45f-45a5-a2b4-ef7275bd90c1"}, {"type": "GlyphRenderer", "attributes": {"data_source": {"type": "ColumnDataSource", "id": "166f8d3b-d9d1-4028-94a4-b54cb6b35ebf"}, "selection_glyph": null, "nonselection_glyph": {"type": "Quad", "id": "72d0c517-76cf-4a14-87d1-66b38e8f4e51"}, "hover_glyph": null, "glyph": {"type": "Quad", "id": "125e6b29-8940-4390-bc87-6d10084ebd5a"}}, "id": "27690531-937d-4772-8ee4-2b93506bf42b"}, {"type": "GlyphRenderer", "attributes": {"data_source": {"type": "ColumnDataSource", "id": "e92ba9e6-0726-446b-a8ae-5dc93d3f79a7"}, "selection_glyph": null, "nonselection_glyph": {"type": "MultiLine", "id": "a60aa3e9-34af-4950-8733-3c5d90e4b108"}, "hover_glyph": null, "glyph": {"type": "MultiLine", "id": "8b242774-14af-4ab5-b52f-53341d403f5e"}}, "id": "090231ec-0734-4d04-ac1c-4919b23c82d5"}, {"type": "Panel", "attributes": {"title": "UNM Professor Pay By Rank", "child": {"type": "Plot", "subtype": "Figure", "id": "749217fd-0b5c-4d31-a55a-689425d1d3e5"}}, "id": "4c78bebe-7135-4179-b21f-e52b4dfe7d16"}, {"type": "MultiLine", "attributes": {"line_cap": "round", "line_color": {"value": "#1f77b4"}, "xs": {"field": "xs"}, "line_alpha": {"value": 0.1}, "ys": {"field": "ys"}}, "id": "e7e57c36-0590-471e-bf21-f3e6b165f633"}, {"type": "Quad", "attributes": {"fill_color": {"value": "red"}, "left": {"field": "left"}, "fill_alpha": {"value": 0.6}, "line_color": {"value": "#1f77b4"}, "right": {"value": 0}, "bottom": {"field": "bottom"}, "top": {"field": "top"}}, "id": "0e69e681-102b-4f65-a0c4-ee51c5868810"}, {"type": "Circle", "attributes": {"line_color": {"value": "grey"}, "fill_color": {"value": "grey"}, "size": {"units": "screen", "value": 2}, "y": {"field": "y"}, "x": {"field": "amax"}}, "id": "458f65cc-b372-4f5f-92aa-d14d80c45ce6"}, {"type": "Grid", "attributes": {"grid_line_dash": [6, 4], "plot": {"type": "Plot", "subtype": "Figure", "id": "c0b28fce-5025-4698-838e-ab629b27644b"}, "grid_line_alpha": {"value": 0.4}, "ticker": {"type": "BasicTicker", "id": "4f69f867-8bfb-40d0-bd27-7ef89f8baa9b"}}, "id": "b26e84e1-e67f-4642-9548-62b7b269fe19"}, {"type": "CategoricalAxis", "attributes": {"axis_label_text_alpha": {"value": 0.75}, "major_tick_line_alpha": {"value": 0}, "ticker": {"type": "CategoricalTicker", "id": "a0dfb15b-466f-4ae1-9d5f-737aab66cf9d"}, "plot": {"type": "Plot", "subtype": "Figure", "id": "749217fd-0b5c-4d31-a55a-689425d1d3e5"}, "axis_label_text_font_size": {"value": "12pt"}, "axis_line_alpha": {"value": 0.2}, "formatter": {"type": "CategoricalTickFormatter", "id": "9e16f67c-8b35-4e16-9a1b-87bd9b18205c"}}, "id": "b3be85c6-ec0e-4b22-88e4-83e3bf3adb92"}, {"type": "CategoricalTicker", "attributes": {}, "id": "a0dfb15b-466f-4ae1-9d5f-737aab66cf9d"}, {"type": "GlyphRenderer", "attributes": {"data_source": {"type": "ColumnDataSource", "id": "8889aab3-c98a-4556-ab3f-a3259222c5f3"}, "selection_glyph": null, "nonselection_glyph": {"type": "Quad", "id": "b05bd56b-e111-4e9e-bb9a-8f87496dd951"}, "hover_glyph": null, "glyph": {"type": "Quad", "id": "f741f71f-8048-44d0-979d-64902160b447"}}, "id": "afc6b9f2-af29-4637-8408-de6e3544aea2"}, {"type": "Circle", "attributes": {"line_color": {"value": "grey"}, "fill_color": {"value": "grey"}, "size": {"units": "screen", "value": 2}, "y": {"field": "y"}, "x": {"field": "amin"}}, "id": "bff7acff-4714-49ad-b0d0-ad7296186ab8"}, {"type": "ResizeTool", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "749217fd-0b5c-4d31-a55a-689425d1d3e5"}}, "id": "3fc35b6b-5033-4272-98c0-78a3c135d9de"}, {"type": "DataRange1d", "attributes": {"callback": null}, "id": "c1b18915-321f-4f29-a9b0-92244b95d36a"}, {"type": "Quad", "attributes": {"fill_color": {"value": "red"}, "left": {"value": 0}, "fill_alpha": {"value": 0.6}, "line_color": {"value": "#1f77b4"}, "right": {"field": "right"}, "bottom": {"field": "bottom"}, "top": {"field": "top"}}, "id": "125e6b29-8940-4390-bc87-6d10084ebd5a"}, {"type": "GlyphRenderer", "attributes": {"data_source": {"type": "ColumnDataSource", "id": "58dffba4-67c8-49c2-a069-91b353e628e9"}, "selection_glyph": null, "nonselection_glyph": {"type": "Quad", "id": "2a3948ef-2179-40dc-87f2-dd6e257150f9"}, "hover_glyph": null, "glyph": {"type": "Quad", "id": "9cbfd106-5103-43a7-867f-a7b886b47019"}}, "id": "ca8e9555-bdbb-4f78-afad-679a0c79a49f"}, {"type": "CategoricalAxis", "attributes": {"axis_label_text_alpha": {"value": 0.75}, "major_tick_line_alpha": {"value": 0}, "ticker": {"type": "CategoricalTicker", "id": "0ce9a67c-02ec-4610-a5de-40a468186325"}, "plot": {"type": "Plot", "subtype": "Figure", "id": "b3b1f252-7ba2-4a7f-8d00-2bf5310155bf"}, "axis_label_text_font_size": {"value": "12pt"}, "axis_line_alpha": {"value": 0.2}, "formatter": {"type": "CategoricalTickFormatter", "id": "5545a4ee-41a2-4df3-ae89-ac946f3c00ea"}}, "id": "fb95e75b-3f70-4d59-a40e-ce9666cca865"}, {"type": "Quad", "attributes": {"fill_color": {"value": "#1f77b4"}, "left": {"value": 0}, "fill_alpha": {"value": 0.1}, "line_alpha": {"value": 0.1}, "line_color": {"value": "#1f77b4"}, "right": {"field": "right"}, "bottom": {"field": "bottom"}, "top": {"field": "top"}}, "id": "020dbcf1-8a77-4142-9a88-5dd3d4e61d4a"}, {"type": "BasicTicker", "attributes": {}, "id": "a5de2547-f549-4c5f-aa3e-946c350ae111"}, {"type": "GlyphRenderer", "attributes": {"data_source": {"type": "ColumnDataSource", "id": "cafe40bc-1e3d-4bae-bd0a-fca3c17d41c0"}, "selection_glyph": null, "nonselection_glyph": {"type": "Circle", "id": "0f047a03-daa6-4fd5-ba4e-b20250694889"}, "hover_glyph": null, "glyph": {"type": "Circle", "id": "458f65cc-b372-4f5f-92aa-d14d80c45ce6"}}, "id": "49c65a3e-f3b2-40da-bdb3-32b8b8479f74"}, {"type": "BasicTicker", "attributes": {}, "id": "9843cc5c-2ce4-4894-a21f-98e8bf6cbc0e"}, {"type": "NumeralTickFormatter", "attributes": {"format": "$ 0,0[.]00"}, "id": "366e3265-b5d4-48a2-b69a-045601a05989"}, {"type": "ColumnDataSource", "attributes": {"column_names": ["xs", "ys"], "data": {"ys": [[1, 1], [2, 2], [3, 3], [4, 4], [5, 5], [6, 6], [7, 7], [8, 8], [9, 9], [10, 10]], "xs": [[53855.83527916442, 87446.16472083557], [56399.86926407978, 117416.13073592022], [64478.50039629996, 118099.49960370004], [36977.88484314269, 175172.1151568573], [77995.65462988173, 183856.34537011827], [72440.43290955425, 193601.56709044575], [116997.64412092838, 162766.35587907163], [107833.23077384834, 219318.76922615166], [125534.36182528915, 270327.63817471085], [159507.9618808275, 292748.0381191725]]}, "callback": null}, "id": "e8720888-8306-466d-bff5-b4179556999a"}, {"type": "Circle", "attributes": {"fill_color": {"value": "#1f77b4"}, "size": {"units": "screen", "value": 2}, "fill_alpha": {"value": 0.1}, "line_alpha": {"value": 0.1}, "line_color": {"value": "#1f77b4"}, "y": {"field": "y"}, "x": {"field": "amax"}}, "id": "0f047a03-daa6-4fd5-ba4e-b20250694889"}, {"type": "DataRange1d", "attributes": {"callback": null}, "id": "d4e1d5ce-a852-4200-a123-ca9e1abfdb53"}, {"type": "HoverTool", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "ca544ff8-0734-4f45-8a60-bb71a6b65ad4"}, "callback": null, "tooltips": [["Title", "@job_title"], ["Difference in Pay", "@meandiff{$int:,}"], ["Sample Size", "@count_nonzero"]]}, "id": "50fa4536-d223-4fef-95c8-78458a3ca78b"}, {"type": "ToolEvents", "attributes": {}, "id": "eefc5068-fdea-42ae-8a4d-f14e03149f8d"}, {"type": "BasicTicker", "attributes": {}, "id": "d8b49aad-8221-4a3f-a703-f886ee37538c"}, {"type": "BasicTicker", "attributes": {}, "id": "4f69f867-8bfb-40d0-bd27-7ef89f8baa9b"}, {"type": "Grid", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "8115cb33-8d8f-4d27-9378-7fb0ca750213"}, "ticker": {"type": "CategoricalTicker", "id": "edc3e3c7-1dd5-4cac-bc5a-383ce8f8e133"}, "dimension": 1, "grid_line_color": {"value": null}}, "id": "2fd63f19-d024-43e4-95f2-d34b045e7772"}, {"type": "Grid", "attributes": {"grid_line_dash": [6, 4], "plot": {"type": "Plot", "subtype": "Figure", "id": "3c8b08e3-324c-4ab7-ac07-5d87e8208218"}, "grid_line_alpha": {"value": 0.4}, "ticker": {"type": "BasicTicker", "id": "72a3e1c2-a2fe-4abf-a539-8dfdcac0b830"}}, "id": "64bd394b-ab46-4ddb-8e01-2465eb66b623"}, {"type": "Circle", "attributes": {"line_color": {"value": "grey"}, "fill_color": {"value": "grey"}, "size": {"units": "screen", "value": 2}, "y": {"field": "y"}, "x": {"field": "amin"}}, "id": "a9497541-5dda-445c-9f35-3a7a79306ea1"}, {"type": "Quad", "attributes": {"fill_color": {"value": "#1f77b4"}, "left": {"field": "left"}, "fill_alpha": {"value": 0.1}, "line_alpha": {"value": 0.1}, "line_color": {"value": "#1f77b4"}, "right": {"value": 0}, "bottom": {"field": "bottom"}, "top": {"field": "top"}}, "id": "2a3948ef-2179-40dc-87f2-dd6e257150f9"}, {"type": "Circle", "attributes": {"fill_color": {"value": "#1f77b4"}, "size": {"units": "screen", "value": 2}, "fill_alpha": {"value": 0.1}, "line_alpha": {"value": 0.1}, "line_color": {"value": "#1f77b4"}, "y": {"field": "y"}, "x": {"field": "amin"}}, "id": "f7a7f576-d2b6-4253-89e9-0b7957108573"}, {"type": "Legend", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "3c8b08e3-324c-4ab7-ac07-5d87e8208218"}, "legends": [["Men's pay", [{"type": "GlyphRenderer", "id": "afc6b9f2-af29-4637-8408-de6e3544aea2"}]], ["Women's pay", [{"type": "GlyphRenderer", "id": "823f63c7-7374-4ee3-81c4-a8842e5c6b04"}]]]}, "id": "85820d66-58a4-41d0-b1d7-59c12b22cb35"}, {"type": "WheelZoomTool", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "b3b1f252-7ba2-4a7f-8d00-2bf5310155bf"}}, "id": "92c9b96c-c5bd-4cea-8a86-5c5b38611182"}, {"type": "GlyphRenderer", "attributes": {"data_source": {"type": "ColumnDataSource", "id": "cafe40bc-1e3d-4bae-bd0a-fca3c17d41c0"}, "selection_glyph": null, "nonselection_glyph": {"type": "Circle", "id": "21ecb278-9a39-44e4-8d3d-3c863f763024"}, "hover_glyph": null, "glyph": {"type": "Circle", "id": "466d2e4e-92ee-45b1-ad8c-17a69d41959f"}}, "id": "9fcc01da-8448-4390-a876-3a9c66aa416b"}, {"type": "MultiLine", "attributes": {"line_cap": "round", "line_color": {"value": "#1f77b4"}, "xs": {"field": "xs"}, "line_alpha": {"value": 0.1}, "ys": {"field": "ys"}}, "id": "42ef51e3-7276-4021-970d-276d172f738d"}, {"type": "PanTool", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "749217fd-0b5c-4d31-a55a-689425d1d3e5"}}, "id": "61101532-1d95-48c5-b802-6c33ffda5dfa"}, {"type": "ResetTool", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "b3b1f252-7ba2-4a7f-8d00-2bf5310155bf"}}, "id": "afc6772f-4e30-4894-81dd-1198fdf704e6"}, {"type": "Quad", "attributes": {"fill_color": {"value": "#1f77b4"}, "left": {"value": 0}, "fill_alpha": {"value": 0.1}, "line_alpha": {"value": 0.1}, "line_color": {"value": "#1f77b4"}, "right": {"field": "right"}, "bottom": {"field": "bottom"}, "top": {"field": "top"}}, "id": "b05bd56b-e111-4e9e-bb9a-8f87496dd951"}, {"type": "FactorRange", "attributes": {"callback": null, "factors": ["Surgical Oncology", "IM Div of Epidemiology", "Neurosciences", "Pathology", "Organization Info Learning Sci-OILS", "IM Div of General Internal Medicine", "Molecular Genetics Microbiology", "American Studies Department", "Theatre and Dance", "Sociology", "IM Division of Hospital Medicine", "History Department", "Gallup Branch", "COP Pharmaceutical Sciences", "ASM Finance Intl Tech Mngt FIT", "Honors College Admin", "Electrical Computer Engineering", "College of Nursing", "Individual Family Comm Educ IFCE", "ASM Organizational Studies", "Educational Specialties Ed Spec", "Art Art History", "Spanish Portuguese", "Language Literacy Sociocultural LL", "School of Public Administration", "Mathematics Statistics", "English Department", "Communication Journalism", "Valencia County Branch", "Foreign Languages Literatures", "ASM Department of Accounting", "Computer Science", "ASM Mrkting Info Decision Sci MIDS", "Anesthesiology", "School of Law", "IM Div of Cardiology", "Psychology Department", "Music", "Radiology General", "Political Science", "Health Exercise & Sports Science", "AS Biology General Administrative", "Geography", "Anthropology Department", "Architecture and Planning", "Earth and Planetary Sciences E PS", "Physics Astronomy Department", "Dept Teacher Ed, Ed Lead & Policy", "Philosophy Department", "Emergency Medicine", "Biochemistry Molecular Biology", "Linguistics Department", "COP Pharmacy Practice & Admin Scien", "Surgery Urology", "Economics Department", "Pediatrics Critical Care", "IM Div of Nephrology", "Chemistry Department", "Pediatrics General", "IM Div of Pulmonary CC and Sleep", "Surgery Head Neck Reconstructive", "Family Community Medicine FCM", "Orthopaedics Physical Therapy", "Orthopaedics Combined", "Psychiatry Combined", "Cell Biology", "IM Div of Infectious Diseases", "University Libraries", "Chemical and Biological Engineering", "Neurology", "Medical Oncology", "IM Div of Gastroenterology", "SOM Neurosurgery"]}, "id": "7cc0d708-5877-40ef-9768-df48f7b47561"}, {"type": "FactorRange", "attributes": {"callback": null, "factors": ["Surgical Oncology, f", "Surgical Oncology, m", "IM Div of Epidemiology, f", "IM Div of Epidemiology, m", "Neurosciences, f", "Neurosciences, m", "Pathology, f", "Pathology, m", "Organization Info Learning Sci-OILS, f", "Organization Info Learning Sci-OILS, m", "IM Div of General Internal Medicine, f", "IM Div of General Internal Medicine, m", "Molecular Genetics Microbiology, f", "Molecular Genetics Microbiology, m", "American Studies Department, f", "American Studies Department, m", "Theatre and Dance, f", "Theatre and Dance, m", "Sociology, f", "Sociology, m", "IM Division of Hospital Medicine, f", "IM Division of Hospital Medicine, m", "History Department, f", "History Department, m", "Gallup Branch, f", "Gallup Branch, m", "COP Pharmaceutical Sciences, f", "COP Pharmaceutical Sciences, m", "ASM Finance Intl Tech Mngt FIT, f", "ASM Finance Intl Tech Mngt FIT, m", "Honors College Admin, f", "Honors College Admin, m", "Electrical Computer Engineering, f", "Electrical Computer Engineering, m", "College of Nursing, f", "College of Nursing, m", "Individual Family Comm Educ IFCE, f", "Individual Family Comm Educ IFCE, m", "ASM Organizational Studies, f", "ASM Organizational Studies, m", "Educational Specialties Ed Spec, f", "Educational Specialties Ed Spec, m", "Art Art History, f", "Art Art History, m", "Spanish Portuguese, f", "Spanish Portuguese, m", "Language Literacy Sociocultural LL, f", "Language Literacy Sociocultural LL, m", "School of Public Administration, f", "School of Public Administration, m", "Mathematics Statistics, f", "Mathematics Statistics, m", "English Department, f", "English Department, m", "Communication Journalism, f", "Communication Journalism, m", "Valencia County Branch, f", "Valencia County Branch, m", "Foreign Languages Literatures, f", "Foreign Languages Literatures, m", "ASM Department of Accounting, f", "ASM Department of Accounting, m", "Computer Science, f", "Computer Science, m", "ASM Mrkting Info Decision Sci MIDS, f", "ASM Mrkting Info Decision Sci MIDS, m", "Anesthesiology, f", "Anesthesiology, m", "School of Law, f", "School of Law, m", "IM Div of Cardiology, f", "IM Div of Cardiology, m", "Psychology Department, f", "Psychology Department, m", "Music, f", "Music, m", "Radiology General, f", "Radiology General, m", "Political Science, f", "Political Science, m", "Health Exercise & Sports Science, f", "Health Exercise & Sports Science, m", "AS Biology General Administrative, f", "AS Biology General Administrative, m", "Geography, f", "Geography, m", "Anthropology Department, f", "Anthropology Department, m", "Architecture and Planning, f", "Architecture and Planning, m", "Earth and Planetary Sciences E PS, f", "Earth and Planetary Sciences E PS, m", "Physics Astronomy Department, f", "Physics Astronomy Department, m", "Dept Teacher Ed, Ed Lead & Policy, f", "Dept Teacher Ed, Ed Lead & Policy, m", "Philosophy Department, f", "Philosophy Department, m", "Emergency Medicine, f", "Emergency Medicine, m", "Biochemistry Molecular Biology, f", "Biochemistry Molecular Biology, m", "Linguistics Department, f", "Linguistics Department, m", "COP Pharmacy Practice & Admin Scien, f", "COP Pharmacy Practice & Admin Scien, m", "Surgery Urology, f", "Surgery Urology, m", "Economics Department, f", "Economics Department, m", "Pediatrics Critical Care, f", "Pediatrics Critical Care, m", "IM Div of Nephrology, f", "IM Div of Nephrology, m", "Chemistry Department, f", "Chemistry Department, m", "Pediatrics General, f", "Pediatrics General, m", "IM Div of Pulmonary CC and Sleep, f", "IM Div of Pulmonary CC and Sleep, m", "Surgery Head Neck Reconstructive, f", "Surgery Head Neck Reconstructive, m", "Family Community Medicine FCM, f", "Family Community Medicine FCM, m", "Orthopaedics Physical Therapy, f", "Orthopaedics Physical Therapy, m", "Orthopaedics Combined, f", "Orthopaedics Combined, m", "Psychiatry Combined, f", "Psychiatry Combined, m", "Cell Biology, f", "Cell Biology, m", "IM Div of Infectious Diseases, f", "IM Div of Infectious Diseases, m", "University Libraries, f", "University Libraries, m", "Chemical and Biological Engineering, f", "Chemical and Biological Engineering, m", "Neurology, f", "Neurology, m", "Medical Oncology, f", "Medical Oncology, m", "IM Div of Gastroenterology, f", "IM Div of Gastroenterology, m", "SOM Neurosurgery, f", "SOM Neurosurgery, m"]}, "id": "f78e4f98-59b9-4c29-a0da-3c1a97f28576"}, {"type": "BasicTicker", "attributes": {}, "id": "8f07287e-8826-47ac-8bb8-b57dd1414e1f"}, {"type": "PanTool", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "8115cb33-8d8f-4d27-9378-7fb0ca750213"}}, "id": "b17ff135-04dc-4489-9fd1-dfe04eede73f"}, {"type": "Circle", "attributes": {"fill_color": {"value": "#1f77b4"}, "size": {"field": "size", "units": "screen"}, "fill_alpha": {"value": 0.1}, "line_alpha": {"value": 0.1}, "line_color": {"value": "#1f77b4"}, "y": {"field": "y"}, "x": {"field": "mean"}}, "id": "21ecb278-9a39-44e4-8d3d-3c863f763024"}, {"type": "GlyphRenderer", "attributes": {"data_source": {"type": "ColumnDataSource", "id": "e8720888-8306-466d-bff5-b4179556999a"}, "selection_glyph": null, "nonselection_glyph": {"type": "MultiLine", "id": "e7e57c36-0590-471e-bf21-f3e6b165f633"}, "hover_glyph": null, "glyph": {"type": "MultiLine", "id": "ec2d6664-1f6a-428a-8271-b0df43e2fd0a"}}, "id": "542a9f00-3cc8-43c7-b1d0-16a157b665fe"}, {"type": "GlyphRenderer", "attributes": {"data_source": {"type": "ColumnDataSource", "id": "d3b97c79-e0f8-4085-9344-6d42281c225f"}, "selection_glyph": null, "nonselection_glyph": {"type": "Quad", "id": "48a00723-dad6-4225-9720-18c65294ecb9"}, "hover_glyph": null, "glyph": {"type": "Quad", "id": "d6787f9e-f661-4772-b81c-ec31a6697dfb"}}, "id": "5fe7e07b-c1a2-4bec-9a1b-ea398ff5afa3"}, {"type": "NumeralTickFormatter", "attributes": {"format": "$ 0,0[.]00"}, "id": "39788714-a968-4199-a0b9-43542b5515a0"}, {"type": "MultiLine", "attributes": {"line_cap": "round", "xs": {"field": "xs"}, "line_alpha": {"value": 0.55}, "ys": {"field": "ys"}}, "id": "ec2d6664-1f6a-428a-8271-b0df43e2fd0a"}, {"type": "Panel", "attributes": {"title": "UNM Professor Pay By Rank and Estimated Gender", "child": {"type": "Plot", "subtype": "Figure", "id": "3c8b08e3-324c-4ab7-ac07-5d87e8208218"}}, "id": "1a602f96-a298-43da-9d1a-f51f9a8b6f82"}, {"type": "FactorRange", "attributes": {"callback": null, "factors": ["Radiation Oncology", "Radiology General", "Surgery Urology", "Medical Oncology", "Surgery Vascular", "Surgery Div of Plastic Surgery", "Surgery Head Neck Reconstructive", "SOM Neurosurgery", "Anesthesiology", "IM Div of Cardiology", "SOM Surgery General", "Surgical Oncology", "Pediatrics Cardiology", "Pediatrics Neonatology Division", "Emergency Medicine", "Emerg Med Intensive Care Unit", "OB GYN General OB GYN", "IM Div of Pulmonary CC and Sleep", "SOM Surgery Opthalmology", "Pediatrics Critical Care", "IM Div of Endocrinology", "Pathology", "Pediatrics Nephrology", "Pediatrics Hematology Oncology", "IM Div of General Internal Medicine", "IM Div of Nephrology", "Psychiatry Combined", "IM Div of Gastroenterology", "Neurology", "Pediatrics General", "IM Div of Infectious Diseases", "Family Community Medicine FCM", "IM Div of Epidemiology", "Orthopaedics Combined", "Dental Services", "ASM Finance Intl Tech Mngt FIT", "ASM Department of Accounting", "ASM Organizational Studies", "IM Division of Hospital Medicine", "IM Div of Translational Informatics", "Neurosciences", "ASM Mrkting Info Decision Sci MIDS", "Cell Biology", "School of Law", "COP Pharmacy Practice & Admin Scien", "Computer Science", "College of Nursing", "Nuclear Engineering", "Molecular Genetics Microbiology", "Experimental Therapeutics", "Biochemistry Molecular Biology", "Economics Department", "Mechanical Engineering", "Office of Pediatric Research", "Earth and Planetary Sciences E PS", "Chemistry Department", "Electrical Computer Engineering", "Pediatrics Occupational Therapy", "Psychology Department", "IM Global Health", "Civil Engineering Civil Engr", "Physics Astronomy Department", "COP Pharmaceutical Sciences", "Political Science", "Chemical and Biological Engineering", "Sociology", "School of Public Administration", "Anthropology Department", "AS Biology General Administrative", "Mathematics Statistics", "Architecture and Planning", "Pediatrics Center for Development", "University Libraries", "Orthopaedics Physical Therapy", "Speech and Hearing Sciences", "Philosophy Department", "Organization Info Learning Sci-OILS", "Ctr for Education Policy Research", "Linguistics Department", "American Studies Department", "History Department", "Dept Teacher Ed, Ed Lead & Policy", "Individual Family Comm Educ IFCE", "Language Literacy Sociocultural LL", "Honors College Admin", "Geography", "Health Exercise & Sports Science", "English Department", "Center for High Tech Materials CHTM", "Educational Specialties Ed Spec", "Art Art History", "Communication Journalism", "Foreign Languages Literatures", "Spanish Portuguese", "Music", "LosAlamos Branch", "Cinematic Arts Department", "Theatre and Dance", "Taos Branch", "Gallup Branch", "Valencia County Branch"]}, "id": "99eede43-dd08-4ce8-b571-dd201bf21d3d"}, {"type": "ResetTool", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "8115cb33-8d8f-4d27-9378-7fb0ca750213"}}, "id": "a32424a4-1a11-4e56-ab8e-1ac3651615c6"}, {"type": "ColumnDataSource", "attributes": {"column_names": ["mean", "mediandiff", "meandiff", "amindiff", "count_nonzerodiff", "std", "amin", "amaxdiff", "dept", "gender", "department", "count_nonzero", "index", "median", "stddiff", "amax", "right", "bottom", "top"], "data": {"mediandiff": [-5050.0, -35108.0, -51778.0, -18653.0, -28365.0, -8259.5, -14193.0, -5962.0, -14742.0, -13419.0, 3636.0, -4646.5, -1134.0, 29735.5, -6632.0, 360.0, 2475.0, 1672.0, -1641.5, -5944.0, 4701.5, -6625.0, -3049.0, -408.5, -11245.5, -3998.0, 4531.5, 87.5, -1895.5, -790.0, 1882.0, 482.0, -3781.5, 7600.5, -18548.0, -10403.0, 1899.5, 333.0, 31209.0, 18050.5, 93.0, 7479.0, -1743.0, 16413.5, 3672.0, 9334.0, 2625.5, -4244.0, 16025.0, 11635.0, 5272.5, 21590.0, 8532.5, -662.0, 14214.5, 27455.0, 2525.0, 23256.0, 11145.0, 2859.0, 26755.0, 10565.5, 13870.0, 1818.0, 2913.5, 32258.5, 26238.0, 13751.5, 19322.5, 8131.5, 63435.5, 135264.0, 136200.0], "mean": [260012.5, 150271.07142857142, 142949.66666666666, 187313.26923076922, 89500.0, 172761.0, 118707.25, 84786.33333333333, 64912.75, 95787.2, 131914.58333333334, 79901.0, 62729.53846153846, 94231.0, 136278.0, 75572.2, 105491.66666666667, 113992.81481481482, 75519.0, 129259.66666666667, 71480.875, 71026.25, 66120.0, 74045.5, 89518.5, 87351.57142857143, 71842.85, 68540.75, 48622.6, 66091.875, 129213.5, 111715.5, 121107.5, 251266.92307692306, 120063.46153846153, 249768.5, 94847.83333333333, 59783.0, 309010.22222222225, 93982.125, 68055.85714285714, 83524.09090909091, 69700.33333333333, 84489.63636363637, 79832.14285714286, 94179.4, 84657.0, 73009.52380952382, 74766.66666666667, 189822.875, 92255.8, 75869.85714285714, 109889.7, 270385.0, 99182.22222222222, 172307.2, 162309.25, 91134.5, 151546.95454545456, 174690.0, 249778.4, 136288.23333333334, 76052.8, 123790.16666666667, 154797.2, 108084.83333333333, 142150.6, 74765.5, 72939.625, 137793.2857142857, 234613.5, 99636.75, 149406.0], "meandiff": [-51255.5, -30166.871428571423, -29018.095238095222, -22698.690283400792, -16021.25, -14888.666666666657, -12056.649999999994, -11361.933333333334, -9067.949999999997, -8558.533333333326, -7327.940476190488, -7144.28571428571, -6816.181318681316, -5312.125, -5085.5, -4069.699999999997, -3952.982456140351, -3859.481481481489, -3729.75, -3612.0, -2474.5416666666715, -1956.1590909090883, -1956.0, -51.642857142855064, 255.0, 878.2180451127788, 1123.7333333333227, 1376.75, 1633.4000000000015, 1645.625, 1734.6666666666715, 2222.0833333333285, 2348.1666666666715, 2538.895104895113, 2865.3076923077024, 3207.2999999999884, 3235.9666666666744, 4818.1500000000015, 5642.965277777752, 5890.274999999994, 6241.809523809527, 6261.8181818181765, 7714.866666666669, 10004.113636363632, 10052.21428571429, 10510.600000000006, 10524.178571428565, 10580.476190476184, 11686.333333333328, 11968.41071428571, 12461.449999999997, 12925.142857142855, 13336.133333333331, 14096.666666666686, 14404.11111111111, 14785.299999999988, 16415.5, 16483.71428571429, 18257.79545454544, 18305.0, 18650.266666666692, 18926.195238095243, 19693.199999999997, 19907.366666666654, 20120.216666666645, 25167.766666666677, 25902.399999999994, 28006.21428571429, 33582.075, 34408.314285714296, 69738.35714285716, 99061.67857142858, 137532.2727272727], "count_nonzerodiff": [-1, -9, 4, -7, 1, -7, 1, -1, 1, 2, 2, -1, 1, -4, 5, -1, 13, -21, 1, -6, -5, -13, 2, -1, 4, 12, -8, -2, -4, -2, 2, 8, 5, 9, 0, 6, 14, 12, 7, -3, 2, 22, 2, 1, 7, 6, 24, -16, 0, 5, -1, -4, -4, 0, -3, -2, 4, 8, -14, 1, 1, -2, -2, 9, -1, -1, -2, -5, 2, 3, -1, 3, 8], "amindiff": [-175639, 20, -29850, 1233, -2500, 5408, -33325, 7554, 0, -2400, 4850, -1581, 0, 64, -16594, 0, 964, 2754, 0, 5985, -1860, 0, -5692, -4000, -2591, -3000, 1551, -1353, -558, 3583, -3885, -2045, -12660, -15857, -2391, -24251, -9514, -1341, -88426, 17654, 407, -20500, 2451, -59, -1682, 15000, -23591, 5000, 4851, 0, 23927, 4654, 5077, 259, -5303, 0, 95977, 33400, 14140, -17786, -7956, 12415, 3141, 29100, 1568, -37985, 19190, -1000, 16848, 40342, 27141, 27985, -10806], "std": [21136.98870858067, 48652.29391455609, 28665.86744428526, 70434.71124981358, 19318.92359837887, 37636.48903435779, 26922.622549013806, 25601.93151046746, 14796.667358451587, 21782.601527110783, 20818.122238518026, 24987.492577001685, 20524.304302523, 46139.92961534609, 1952.9065517837764, 8766.22377081489, 38261.50044975584, 20790.198489519487, 15835.629973785908, 12619.544692658295, 10568.517661127858, 16832.79610256225, 1251.4425675994883, 7260.447073995215, 17216.805326966634, 10830.882725754516, 13994.967318271012, 13078.238869533292, 4479.581260192371, 8892.997814291868, 15709.406704264806, 42249.29478306906, 6462.042117886056, 27895.655660758177, 11768.421797444385, 24309.548706903905, 19964.42822037903, 6189.588423889173, 18143.519661147464, 30615.725797782423, 4922.662810192992, 14564.160294740961, 6884.468776407756, 25639.708560249775, 16432.266271258013, 17737.973694872817, 6201.673376328898, 23841.09362134851, 13912.572251983696, 21849.12783270765, 17016.18456646495, 9478.57308931697, 14037.440666145503, 2576.551765441556, 9351.776766713609, 43312.39887350709, 59630.13197131687, 52210.390719664225, 31183.22433842743, 7031.797209817706, 26227.124790948776, 33359.46605117564, 5870.4921173612, 21260.8229983382, 44567.755957455745, 22119.80266111492, 11227.697640211016, 14718.862539426933, 12896.891972625472, 55452.99976170295, 27742.519851561534, 76015.07232724749, 73647.91421350642], "bottom": [0.7, 2.7, 4.7, 6.7, 8.7, 10.7, 12.7, 14.7, 16.7, 18.7, 20.7, 22.7, 24.7, 26.7, 28.7, 30.7, 32.7, 34.7, 36.7, 38.7, 40.7, 42.7, 44.7, 46.7, 48.7, 50.7, 52.7, 54.7, 56.7, 58.7, 60.7, 62.7, 64.7, 66.7, 68.7, 70.7, 72.7, 74.7, 76.7, 78.7, 80.7, 82.7, 84.7, 86.7, 88.7, 90.7, 92.7, 94.7, 96.7, 98.7, 100.7, 102.7, 104.7, 106.7, 108.7, 110.7, 112.7, 114.7, 116.7, 118.7, 120.7, 122.7, 124.7, 126.7, 128.7, 130.7, 132.7, 134.7, 136.7, 138.7, 140.7, 142.7, 144.7], "top": [1.3, 3.3, 5.3, 7.3, 9.3, 11.3, 13.3, 15.3, 17.3, 19.3, 21.3, 23.3, 25.3, 27.3, 29.3, 31.3, 33.3, 35.3, 37.3, 39.3, 41.3, 43.3, 45.3, 47.3, 49.3, 51.3, 53.3, 55.3, 57.3, 59.3, 61.3, 63.3, 65.3, 67.3, 69.3, 71.3, 73.3, 75.3, 77.3, 79.3, 81.3, 83.3, 85.3, 87.3, 89.3, 91.3, 93.3, 95.3, 97.3, 99.3, 101.3, 103.3, 105.3, 107.3, 109.3, 111.3, 113.3, 115.3, 117.3, 119.3, 121.3, 123.3, 125.3, 127.3, 129.3, 131.3, 133.3, 135.3, 137.3, 139.3, 141.3, 143.3, 145.3], "amin": [232300, 84820, 109850, 54000, 67500, 141481, 88825, 60501, 50000, 72400, 115150, 59081, 48000, 55000, 134030, 68320, 60000, 91809, 62000, 114665, 63860, 52000, 64218, 68715, 74591, 78000, 58040, 60705, 44558, 56334, 116031, 87247, 115128, 192607, 94876, 226251, 78973, 49841, 296486, 70094, 62593, 65000, 61800, 68547, 61682, 75000, 78591, 55000, 60150, 179780, 70740, 64125, 98542, 267852, 92646, 136000, 78023, 38000, 106050, 171094, 234600, 75035, 72720, 90900, 77212, 90000, 132310, 56000, 56650, 40400, 202859, 52015, 94030], "amaxdiff": [29510, -83289, -5561, -117553, -12658, -77751, 1028, -39931, -10943, 3138, -37581, -28533, -52064, -57603, 16043, -11030, -7900, -37120, -3836, -26982, -18335, 11841, 2750, 880, 17393, 4014, -11231, -4010, 17221, 6428, 14916, 82022, 47120, 58619, 66613, 64659, 47571, 32528, 22212, -25422, 14827, 35956, 32436, -12950, 47154, 15191, 61574, -6111, 2800, 80036, 10044, 12580, 8716, 42693, 26684, 15000, -32667, -261, 87590, 106092, 15163, 77898, 38383, 60253, 5848, 85932, 29037, 171614, 73560, 51155, 105605, 136430, 251812], "dept": ["Surgical Oncology, f", "IM Div of Epidemiology, f", "Neurosciences, f", "Pathology, f", "Organization Info Learning Sci-OILS, f", "IM Div of General Internal Medicine, f", "Molecular Genetics Microbiology, f", "American Studies Department, f", "Theatre and Dance, f", "Sociology, f", "IM Division of Hospital Medicine, f", "History Department, f", "Gallup Branch, f", "COP Pharmaceutical Sciences, f", "ASM Finance Intl Tech Mngt FIT, f", "Honors College Admin, f", "Electrical Computer Engineering, f", "College of Nursing, f", "Individual Family Comm Educ IFCE, f", "ASM Organizational Studies, f", "Educational Specialties Ed Spec, f", "Art Art History, f", "Spanish Portuguese, f", "Language Literacy Sociocultural LL, f", "School of Public Administration, f", "Mathematics Statistics, f", "English Department, f", "Communication Journalism, f", "Valencia County Branch, f", "Foreign Languages Literatures, f", "ASM Department of Accounting, f", "Computer Science, f", "ASM Mrkting Info Decision Sci MIDS, f", "Anesthesiology, f", "School of Law, f", "IM Div of Cardiology, f", "Psychology Department, f", "Music, f", "Radiology General, f", "Political Science, f", "Health Exercise & Sports Science, f", "AS Biology General Administrative, f", "Geography, f", "Anthropology Department, f", "Architecture and Planning, f", "Earth and Planetary Sciences E PS, f", "Physics Astronomy Department, f", "Dept Teacher Ed, Ed Lead & Policy, f", "Philosophy Department, f", "Emergency Medicine, f", "Biochemistry Molecular Biology, f", "Linguistics Department, f", "COP Pharmacy Practice & Admin Scien, f", "Surgery Urology, f", "Economics Department, f", "Pediatrics Critical Care, f", "IM Div of Nephrology, f", "Chemistry Department, f", "Pediatrics General, f", "IM Div of Pulmonary CC and Sleep, f", "Surgery Head Neck Reconstructive, f", "Family Community Medicine FCM, f", "Orthopaedics Physical Therapy, f", "Orthopaedics Combined, f", "Psychiatry Combined, f", "Cell Biology, f", "IM Div of Infectious Diseases, f", "University Libraries, f", "Chemical and Biological Engineering, f", "Neurology, f", "Medical Oncology, f", "IM Div of Gastroenterology, f", "SOM Neurosurgery, f"], "gender": ["f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f"], "department": ["Surgical Oncology", "IM Div of Epidemiology", "Neurosciences", "Pathology", "Organization Info Learning Sci-OILS", "IM Div of General Internal Medicine", "Molecular Genetics Microbiology", "American Studies Department", "Theatre and Dance", "Sociology", "IM Division of Hospital Medicine", "History Department", "Gallup Branch", "COP Pharmaceutical Sciences", "ASM Finance Intl Tech Mngt FIT", "Honors College Admin", "Electrical Computer Engineering", "College of Nursing", "Individual Family Comm Educ IFCE", "ASM Organizational Studies", "Educational Specialties Ed Spec", "Art Art History", "Spanish Portuguese", "Language Literacy Sociocultural LL", "School of Public Administration", "Mathematics Statistics", "English Department", "Communication Journalism", "Valencia County Branch", "Foreign Languages Literatures", "ASM Department of Accounting", "Computer Science", "ASM Mrkting Info Decision Sci MIDS", "Anesthesiology", "School of Law", "IM Div of Cardiology", "Psychology Department", "Music", "Radiology General", "Political Science", "Health Exercise & Sports Science", "AS Biology General Administrative", "Geography", "Anthropology Department", "Architecture and Planning", "Earth and Planetary Sciences E PS", "Physics Astronomy Department", "Dept Teacher Ed, Ed Lead & Policy", "Philosophy Department", "Emergency Medicine", "Biochemistry Molecular Biology", "Linguistics Department", "COP Pharmacy Practice & Admin Scien", "Surgery Urology", "Economics Department", "Pediatrics Critical Care", "IM Div of Nephrology", "Chemistry Department", "Pediatrics General", "IM Div of Pulmonary CC and Sleep", "Surgery Head Neck Reconstructive", "Family Community Medicine FCM", "Orthopaedics Physical Therapy", "Orthopaedics Combined", "Psychiatry Combined", "Cell Biology", "IM Div of Infectious Diseases", "University Libraries", "Chemical and Biological Engineering", "Neurology", "Medical Oncology", "IM Div of Gastroenterology", "SOM Neurosurgery"], "count_nonzero": [4, 14, 3, 26, 3, 13, 4, 6, 4, 10, 12, 15, 13, 12, 3, 5, 6, 27, 7, 9, 8, 24, 5, 8, 4, 7, 20, 8, 10, 8, 4, 4, 4, 13, 13, 4, 6, 8, 9, 8, 7, 11, 3, 11, 7, 5, 4, 21, 6, 16, 5, 7, 10, 3, 9, 10, 4, 6, 22, 7, 5, 30, 5, 6, 25, 6, 5, 12, 8, 7, 8, 4, 3], "index": [0, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22, 24, 26, 28, 30, 32, 34, 36, 38, 40, 42, 44, 46, 48, 50, 52, 54, 56, 58, 60, 62, 64, 66, 68, 70, 72, 74, 76, 78, 80, 82, 84, 86, 88, 90, 92, 94, 96, 98, 100, 102, 104, 106, 108, 110, 112, 114, 116, 118, 120, 122, 124, 126, 128, 130, 132, 134, 136, 138, 140, 142, 144], "median": [262600.0, 150490.0, 159297.0, 190353.0, 97303.0, 158700.0, 121064.0, 74282.0, 64742.0, 89075.0, 121200.0, 75349.0, 54923.0, 69504.5, 137248.0, 71000.0, 91525.0, 109606.0, 68959.0, 130000.0, 65317.5, 68761.0, 66609.0, 69367.5, 87958.5, 85615.0, 66067.0, 65346.5, 46906.5, 63961.5, 124895.5, 92419.5, 119981.5, 247450.0, 126946.0, 244471.0, 86755.0, 61350.0, 296486.0, 78879.5, 68866.0, 80240.0, 72886.0, 74762.0, 77446.0, 92118.0, 84279.0, 68959.0, 72725.0, 179780.0, 93566.0, 73436.0, 106219.5, 270300.0, 95898.0, 153445.0, 176295.5, 83500.0, 144395.0, 171094.0, 236946.0, 143530.0, 72821.0, 123018.0, 165408.0, 99936.5, 139167.0, 73248.5, 74520.0, 154530.0, 223664.5, 66736.0, 121200.0], "right": [260012.5, 150271.07142857142, 142949.66666666666, 187313.26923076922, 89500.0, 172761.0, 118707.25, 84786.33333333333, 64912.75, 95787.2, 131914.58333333334, 79901.0, 62729.53846153846, 94231.0, 136278.0, 75572.2, 105491.66666666667, 113992.81481481482, 75519.0, 129259.66666666667, 71480.875, 71026.25, 66120.0, 74045.5, 89518.5, 87351.57142857143, 71842.85, 68540.75, 48622.6, 66091.875, 129213.5, 111715.5, 121107.5, 251266.92307692306, 120063.46153846153, 249768.5, 94847.83333333333, 59783.0, 309010.22222222225, 93982.125, 68055.85714285714, 83524.09090909091, 69700.33333333333, 84489.63636363637, 79832.14285714286, 94179.4, 84657.0, 73009.52380952382, 74766.66666666667, 189822.875, 92255.8, 75869.85714285714, 109889.7, 270385.0, 99182.22222222222, 172307.2, 162309.25, 91134.5, 151546.95454545456, 174690.0, 249778.4, 136288.23333333334, 76052.8, 123790.16666666667, 154797.2, 108084.83333333333, 142150.6, 74765.5, 72939.625, 137793.2857142857, 234613.5, 99636.75, 149406.0], "stddiff": [113372.23007214084, -15552.82092479385, 310.8550748745074, -17119.528719343798, -7187.904257449602, -24502.766749085175, 7911.229445848894, -16134.322266312947, -6154.420243262159, 1822.3470693683958, -14912.382558314566, -10506.649324735494, -12926.740192816595, -18750.347771996025, 10122.267732672739, -5593.8180065197, -17081.406173256422, -7026.536220099088, -1554.488295234536, -6664.320571490955, -4009.6213871093905, 5298.976508119191, 3271.5161985181076, 2047.2652913602205, 5215.7841930024915, 3225.6114538011752, -1894.3537315869726, 535.745510507697, 8380.578412222276, 3634.7605286839407, 3074.6531595310516, 8560.354160017501, 15037.92756232513, 9419.31574628199, 24165.314456837707, 24457.835033096384, 8660.39692659325, 7556.668219763232, 23771.50888028581, -17646.11058375236, 6906.856019835556, 7999.6739668650935, 10001.509791623179, -1862.2204020435747, 11147.243376324535, -1875.7586982211833, 21275.441967782423, 21623.837781876988, 1623.3064550608433, 19921.1831035816, -2340.0077170035547, 8262.506951086432, 5820.198603583078, 24466.633814909972, 13023.610216904499, 5219.602571783769, -55382.85584419728, -20831.04388580262, 25144.039764821395, 39973.13072940403, 10184.54187602305, 5996.31530155064, 19770.586740596395, 12095.04301364721, -5976.73410012792, 42946.94847416153, 6795.78862077634, 60565.231047718655, 21891.516256585335, 2231.9166361061216, 31454.929993367237, 16242.90782236187, 86348.33840891655], "amax": [282550, 248766, 159702, 372553, 103697, 254811, 143876, 129932, 80167, 138356, 181142, 137917, 123691, 181457, 137556, 86000, 162900, 165870, 110000, 159219, 93335, 110313, 67250, 84874, 107566, 109725, 106712, 100010, 59160, 86558, 151032, 174776, 129339, 305486, 130660, 283881, 132782, 68655, 346786, 140460, 77565, 117478, 74415, 155000, 105000, 117279, 91479, 170911, 100000, 263964, 116481, 90000, 145899, 273003, 119598, 252450, 218623, 171866, 212410, 190234, 295800, 188039, 86303, 157769, 240190, 147358, 158217, 98916, 89440, 196689, 280881, 213060, 232988]}, "callback": null}, "id": "166f8d3b-d9d1-4028-94a4-b54cb6b35ebf"}, {"type": "DataRange1d", "attributes": {"callback": null}, "id": "5f4b1fb5-d5e2-4b3f-813b-3b5acb531d76"}, {"type": "ColumnDataSource", "attributes": {"column_names": ["mean", "meandiff", "department", "count_nonzero", "index", "amax", "std", "amin", "median", "right", "bottom", "top", "left", "bottom", "top", "right", "bottom", "top"], "data": {"mean": [238045.85714285713, 142332.42105263157, 122637.0, 177280.72340425532, 80345.0, 168059.31578947368, 109546.7, 79295.38461538461, 58887.5, 91118.90909090909, 127968.76923076923, 75653.63333333333, 57258.46875, 92839.57142857143, 131992.83333333334, 73170.1, 100189.0, 113291.09090909091, 73621.6875, 128356.66666666667, 70806.0, 69705.58333333333, 64979.0, 73307.125, 89688.5, 87993.34615384616, 71101.64705882352, 69295.46666666666, 49252.23529411765, 67135.0, 130254.3, 113382.0625, 122578.28571428571, 252862.8, 117848.69696969698, 252059.42857142858, 97337.03846153847, 63224.53571428572, 312001.1153846154, 92444.21428571429, 71113.5294117647, 88220.45454545454, 72875.22222222222, 89141.75, 86907.08695652174, 101405.4375, 93865.65625, 75044.23076923077, 80609.83333333333, 196615.75675675675, 107988.6, 79747.4, 115061.76470588235, 277433.3333333333, 104943.86666666667, 178878.44444444444, 166341.7857142857, 101334.04761904762, 155886.16129032258, 184452.66666666666, 259951.27272727274, 146225.38983050847, 84740.88888888889, 136793.04347826086, 164598.3725490196, 119524.72727272728, 151864.0, 85083.57894736843, 91596.33333333333, 158033.4705882353, 268891.4117647059, 162676.0, 257467.07142857142], "meandiff": [-51255.5, -30166.871428571423, -29018.095238095222, -22698.690283400792, -16021.25, -14888.666666666657, -12056.649999999994, -11361.933333333334, -9067.949999999997, -8558.533333333326, -7327.940476190488, -7144.28571428571, -6816.181318681316, -5312.125, -5085.5, -4069.699999999997, -3952.982456140351, -3859.481481481489, -3729.75, -3612.0, -2474.5416666666715, -1956.1590909090883, -1956.0, -51.642857142855064, 255.0, 878.2180451127788, 1123.7333333333227, 1376.75, 1633.4000000000015, 1645.625, 1734.6666666666715, 2222.0833333333285, 2348.1666666666715, 2538.895104895113, 2865.3076923077024, 3207.2999999999884, 3235.9666666666744, 4818.1500000000015, 5642.965277777752, 5890.274999999994, 6241.809523809527, 6261.8181818181765, 7714.866666666669, 10004.113636363632, 10052.21428571429, 10510.600000000006, 10524.178571428565, 10580.476190476184, 11686.333333333328, 11968.41071428571, 12461.449999999997, 12925.142857142855, 13336.133333333331, 14096.666666666686, 14404.11111111111, 14785.299999999988, 16415.5, 16483.71428571429, 18257.79545454544, 18305.0, 18650.266666666692, 18926.195238095243, 19693.199999999997, 19907.366666666654, 20120.216666666645, 25167.766666666677, 25902.399999999994, 28006.21428571429, 33582.075, 34408.314285714296, 69738.35714285716, 99061.67857142858, 137532.2727272727], "std": [83695.30233816108, 46252.13149600759, 30640.69785976379, 63674.96925545156, 16471.946555684706, 32292.552034404725, 29621.3369457821, 18947.35954576284, 11671.761547046406, 22676.820951525202, 14923.435977837524, 20671.037727288596, 14805.748443315315, 38098.897012343325, 10136.109221565988, 6717.058225972966, 26435.386594196334, 19572.26754614108, 14109.62092436103, 11177.523626646573, 9387.508988011672, 18571.64598501859, 3569.649206090907, 8210.78543441491, 20027.199833771523, 13060.358288936202, 13569.978524094468, 12352.498277483717, 7974.972504101596, 11078.17939916122, 16705.89605199314, 47446.56389029487, 17193.24078471882, 33707.75486948331, 28495.72855872969, 42250.69203568748, 26540.123254394686, 12158.00845497608, 34304.69721577723, 27698.43613241222, 9598.839637670058, 20874.310966992973, 13884.434358102038, 24267.636009714668, 23410.20180665811, 16642.098100775434, 25957.668302771996, 28346.630410414135, 15327.714440506028, 34703.80354626965, 35750.27109827281, 12993.060098033535, 16620.729652791317, 18836.23649954169, 16796.806337033522, 44946.202758176194, 39565.72049364601, 37632.78387719436, 38663.508463060076, 34860.80389956333, 32138.963256741525, 37479.26222869763, 16963.98890624228, 30082.10007701387, 41704.57487420812, 45944.15768101731, 18562.39959857407, 47056.05788290741, 31686.568605641096, 57702.45435109068, 53737.33516380723, 96634.97232058381, 154775.6921157763], "bottom": [0.8, 1.8, 2.8, 3.8, 4.8, 5.8, 6.8, 7.8, 8.8, 9.8, 10.8, 11.8, 12.8, 13.8, 14.8, 15.8, 16.8, 17.8, 18.8, 19.8, 20.8, 21.8, 22.8, 23.8, 24.8, 25.8, 26.8, 27.8, 28.8, 29.8, 30.8, 31.8, 32.8, 33.8, 34.8, 35.8, 36.8, 37.8, 38.8, 39.8, 40.8, 41.8, 42.8, 43.8, 44.8, 45.8, 46.8, 47.8, 48.8, 49.8, 50.8, 51.8, 52.8, 53.8, 54.8, 55.8, 56.8, 57.8, 58.8, 59.8, 60.8, 61.8, 62.8, 63.8, 64.8, 65.8, 66.8, 67.8, 68.8, 69.8, 70.8, 71.8, 72.8], "top": [1.2, 2.2, 3.2, 4.2, 5.2, 6.2, 7.2, 8.2, 9.2, 10.2, 11.2, 12.2, 13.2, 14.2, 15.2, 16.2, 17.2, 18.2, 19.2, 20.2, 21.2, 22.2, 23.2, 24.2, 25.2, 26.2, 27.2, 28.2, 29.2, 30.2, 31.2, 32.2, 33.2, 34.2, 35.2, 36.2, 37.2, 38.2, 39.2, 40.2, 41.2, 42.2, 43.2, 44.2, 45.2, 46.2, 47.2, 48.2, 49.2, 50.2, 51.2, 52.2, 53.2, 54.2, 55.2, 56.2, 57.2, 58.2, 59.2, 60.2, 61.2, 62.2, 63.2, 64.2, 65.2, 66.2, 67.2, 68.2, 69.2, 70.2, 71.2, 72.2, 73.2], "amin": [56661, 84820, 80000, 54000, 65000, 141481, 55500, 60501, 50000, 70000, 115150, 52500, 45000, 55000, 117436, 67830, 50000, 91809, 62000, 114665, 62000, 45000, 58526, 62593, 72000, 75000, 52500, 59352, 44000, 54000, 112146, 85202, 102468, 176750, 50000, 202000, 69459, 48500, 208060, 43000, 62593, 44500, 59700, 68488, 60000, 75000, 55000, 55000, 60150, 179780, 70740, 64125, 98542, 267852, 87343, 136000, 75750, 38000, 106050, 153308, 226644, 75035, 72720, 90900, 77212, 52015, 132310, 55000, 56650, 40400, 202859, 52015, 83224], "left": [-51255.5, -30166.871428571423, -29018.095238095222, -22698.690283400792, -16021.25, -14888.666666666657, -12056.649999999994, -11361.933333333334, -9067.949999999997, -8558.533333333326, -7327.940476190488, -7144.28571428571, -6816.181318681316, -5312.125, -5085.5, -4069.699999999997, -3952.982456140351, -3859.481481481489, -3729.75, -3612.0, -2474.5416666666715, -1956.1590909090883, -1956.0, -51.642857142855064], "department": ["Surgical Oncology", "IM Div of Epidemiology", "Neurosciences", "Pathology", "Organization Info Learning Sci-OILS", "IM Div of General Internal Medicine", "Molecular Genetics Microbiology", "American Studies Department", "Theatre and Dance", "Sociology", "IM Division of Hospital Medicine", "History Department", "Gallup Branch", "COP Pharmaceutical Sciences", "ASM Finance Intl Tech Mngt FIT", "Honors College Admin", "Electrical Computer Engineering", "College of Nursing", "Individual Family Comm Educ IFCE", "ASM Organizational Studies", "Educational Specialties Ed Spec", "Art Art History", "Spanish Portuguese", "Language Literacy Sociocultural LL", "School of Public Administration", "Mathematics Statistics", "English Department", "Communication Journalism", "Valencia County Branch", "Foreign Languages Literatures", "ASM Department of Accounting", "Computer Science", "ASM Mrkting Info Decision Sci MIDS", "Anesthesiology", "School of Law", "IM Div of Cardiology", "Psychology Department", "Music", "Radiology General", "Political Science", "Health Exercise & Sports Science", "AS Biology General Administrative", "Geography", "Anthropology Department", "Architecture and Planning", "Earth and Planetary Sciences E PS", "Physics Astronomy Department", "Dept Teacher Ed, Ed Lead & Policy", "Philosophy Department", "Emergency Medicine", "Biochemistry Molecular Biology", "Linguistics Department", "COP Pharmacy Practice & Admin Scien", "Surgery Urology", "Economics Department", "Pediatrics Critical Care", "IM Div of Nephrology", "Chemistry Department", "Pediatrics General", "IM Div of Pulmonary CC and Sleep", "Surgery Head Neck Reconstructive", "Family Community Medicine FCM", "Orthopaedics Physical Therapy", "Orthopaedics Combined", "Psychiatry Combined", "Cell Biology", "IM Div of Infectious Diseases", "University Libraries", "Chemical and Biological Engineering", "Neurology", "Medical Oncology", "IM Div of Gastroenterology", "SOM Neurosurgery"], "count_nonzero": [7, 19, 10, 47, 7, 19, 10, 13, 10, 22, 26, 30, 32, 21, 12, 10, 27, 33, 16, 12, 11, 36, 12, 16, 12, 26, 34, 15, 17, 16, 10, 16, 14, 35, 33, 14, 26, 28, 26, 14, 17, 44, 9, 24, 23, 16, 32, 26, 12, 37, 10, 10, 17, 6, 15, 18, 14, 21, 31, 15, 11, 59, 9, 23, 51, 11, 8, 19, 18, 17, 17, 11, 14], "index": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72], "median": [257550, 140250, 121291, 173417, 72100, 150476, 105044, 72637, 52350, 86933, 121200, 70842, 52581, 94299, 133640, 70180, 93266, 109606, 68959, 127798, 65920, 63139, 66066, 68959, 77713, 82293, 66805, 65810, 46680, 63595, 126777, 92901, 118306, 249753, 120581, 239269, 87196, 61683, 312090, 87794, 68866, 84210, 71143, 75000, 86176, 96802, 86904, 67650, 76000, 179780, 97812, 75912, 111298, 269969, 96129, 157030, 176295, 95000, 144430, 171812, 246946, 150913, 75861, 124836, 167074, 115184, 150124, 73858, 82977, 159401, 262095, 200000, 231391], "right": [-51255.5, -30166.871428571423, -29018.095238095222, -22698.690283400792, -16021.25, -14888.666666666657, -12056.649999999994, -11361.933333333334, -9067.949999999997, -8558.533333333326, -7327.940476190488, -7144.28571428571, -6816.181318681316, -5312.125, -5085.5, -4069.699999999997, -3952.982456140351, -3859.481481481489, -3729.75, -3612.0, -2474.5416666666715, -1956.1590909090883, -1956.0, -51.642857142855064, 255.0, 878.2180451127788, 1123.7333333333227, 1376.75, 1633.4000000000015, 1645.625, 1734.6666666666715, 2222.0833333333285, 2348.1666666666715, 2538.895104895113, 2865.3076923077024, 3207.2999999999884, 3235.9666666666744, 4818.1500000000015, 5642.965277777752, 5890.274999999994, 6241.809523809527, 6261.8181818181765, 7714.866666666669, 10004.113636363632, 10052.21428571429, 10510.600000000006, 10524.178571428565, 10580.476190476184, 11686.333333333328, 11968.41071428571, 12461.449999999997, 12925.142857142855, 13336.133333333331, 14096.666666666686, 14404.11111111111, 14785.299999999988, 16415.5, 16483.71428571429, 18257.79545454544, 18305.0, 18650.266666666692, 18926.195238095243, 19693.199999999997, 19907.366666666654, 20120.216666666645, 25167.766666666677, 25902.399999999994, 28006.21428571429, 33582.075, 34408.314285714296, 69738.35714285716, 99061.67857142858, 137532.2727272727], "amax": [312060, 248766, 159702, 372553, 103697, 254811, 144904, 129932, 80167, 141494, 181142, 137917, 123691, 181457, 153599, 86000, 162900, 165870, 110000, 159219, 93335, 122154, 70000, 85754, 124959, 113739, 106712, 100010, 76381, 92986, 165948, 256798, 176459, 364105, 197273, 348540, 180353, 101183, 368998, 140460, 92392, 153434, 106851, 155000, 152154, 132470, 153053, 170911, 102800, 344000, 199738, 102580, 154615, 315696, 146282, 267450, 218623, 171866, 300000, 296326, 310963, 265937, 124686, 218022, 246038, 233290, 187254, 270530, 163000, 247844, 386486, 349490, 484800]}, "callback": null}, "id": "20c196bc-a79a-4b05-8af0-29b7f3339c06"}, {"type": "ToolEvents", "attributes": {}, "id": "a040d739-1181-4eba-83a6-7ee020791e71"}, {"type": "Quad", "attributes": {"fill_color": {"value": "red"}, "left": {"value": 0}, "fill_alpha": {"value": 0.6}, "line_color": {"value": "#1f77b4"}, "right": {"field": "right"}, "bottom": {"field": "bottom"}, "top": {"field": "top"}}, "id": "71831d04-9913-4578-acbb-4250a57716bf"}, {"type": "Plot", "subtype": "Figure", "attributes": {"plot_height": 2300, "x_range": {"type": "DataRange1d", "id": "9ed43274-b788-4500-ac33-960dc33d5333"}, "left": [{"type": "CategoricalAxis", "id": "ed28e8c3-3792-460b-b00f-178056240767"}], "tool_events": {"type": "ToolEvents", "id": "201988d3-5406-4ea0-9606-077f5876dac4"}, "renderers": [{"type": "LinearAxis", "id": "4aedf4ec-d6a3-4136-847a-09b49273818a"}, {"type": "Grid", "id": "b26e84e1-e67f-4642-9548-62b7b269fe19"}, {"type": "CategoricalAxis", "id": "ed28e8c3-3792-460b-b00f-178056240767"}, {"type": "Grid", "id": "4bbda9f7-8998-463e-97b2-9cedd9bbae32"}, {"type": "Legend", "id": "4a912195-28a4-492b-9442-175dfab6f475"}, {"type": "GlyphRenderer", "id": "5fe7e07b-c1a2-4bec-9a1b-ea398ff5afa3"}, {"type": "GlyphRenderer", "id": "27690531-937d-4772-8ee4-2b93506bf42b"}, {"type": "GlyphRenderer", "id": "090231ec-0734-4d04-ac1c-4919b23c82d5"}], "tools": [{"type": "HoverTool", "id": "3ec0f0ce-b779-4eec-9055-d98aa0c1fc0a"}, {"type": "PanTool", "id": "31c6a635-75e5-4d0a-863d-4adbfad2184c"}, {"type": "WheelZoomTool", "id": "13c85d93-8243-4dbf-bf03-7124068a7f41"}, {"type": "ResetTool", "id": "8bb728f3-7d32-4c53-aa65-c1f167d2befe"}, {"type": "ResizeTool", "id": "a91c4b8c-ef0a-4704-9af9-04bc5df50f43"}], "below": [{"type": "LinearAxis", "id": "4aedf4ec-d6a3-4136-847a-09b49273818a"}], "plot_width": 1000, "title": "UNM Professor Pay by Department and Estimated Gender", "y_range": {"type": "FactorRange", "id": "f78e4f98-59b9-4c29-a0da-3c1a97f28576"}}, "id": "c0b28fce-5025-4698-838e-ab629b27644b"}, {"type": "CategoricalTicker", "attributes": {}, "id": "b93f841f-aed7-4f00-bc8a-69a215db326e"}, {"type": "Quad", "attributes": {"fill_color": {"value": "blue"}, "left": {"value": 0}, "fill_alpha": {"value": 0.6}, "line_color": {"value": "#1f77b4"}, "right": {"field": "right"}, "bottom": {"field": "bottom"}, "top": {"field": "top"}}, "id": "d6787f9e-f661-4772-b81c-ec31a6697dfb"}, {"type": "CategoricalAxis", "attributes": {"axis_label_text_alpha": {"value": 0.75}, "major_tick_line_alpha": {"value": 0}, "ticker": {"type": "CategoricalTicker", "id": "edc3e3c7-1dd5-4cac-bc5a-383ce8f8e133"}, "plot": {"type": "Plot", "subtype": "Figure", "id": "8115cb33-8d8f-4d27-9378-7fb0ca750213"}, "axis_label_text_font_size": {"value": "12pt"}, "axis_line_alpha": {"value": 0.2}, "formatter": {"type": "CategoricalTickFormatter", "id": "bc313441-0141-45c5-8de1-5061db79cca4"}}, "id": "b0ac7083-6a99-4bdc-b29d-bd5952e22c46"}, {"type": "DataRange1d", "attributes": {"callback": null}, "id": "bb30bc45-808a-4675-a3b2-212a28983677"}, {"type": "GlyphRenderer", "attributes": {"data_source": {"type": "ColumnDataSource", "id": "f7932721-91cd-4fde-b4f2-752c682c4b23"}, "selection_glyph": null, "nonselection_glyph": {"type": "Circle", "id": "5f6a6e36-316a-45fe-b9c0-399151434a9b"}, "hover_glyph": null, "glyph": {"type": "Circle", "id": "bff7acff-4714-49ad-b0d0-ad7296186ab8"}}, "id": "f42d449e-f39e-449e-8e2c-cfbdee764b5f"}, {"type": "Quad", "attributes": {"fill_color": {"value": "blue"}, "left": {"value": 0}, "fill_alpha": {"value": 0.6}, "line_color": {"value": "#1f77b4"}, "right": {"field": "right"}, "bottom": {"field": "bottom"}, "top": {"field": "top"}}, "id": "f741f71f-8048-44d0-979d-64902160b447"}, {"type": "Panel", "attributes": {"title": "Estimated Gender Difference In Pay by Department", "child": {"type": "Plot", "subtype": "Figure", "id": "8115cb33-8d8f-4d27-9378-7fb0ca750213"}}, "id": "6e69d12d-c373-470b-8ae0-5e5e7efdee0d"}, {"type": "GlyphRenderer", "attributes": {"data_source": {"type": "ColumnDataSource", "id": "7a1c91ef-ecc3-4bda-9c0e-f115ad0eb381"}, "selection_glyph": null, "nonselection_glyph": {"type": "MultiLine", "id": "42ef51e3-7276-4021-970d-276d172f738d"}, "hover_glyph": null, "glyph": {"type": "MultiLine", "id": "ed668137-1fe1-4f9b-9c23-3ddce09d3295"}}, "id": "f9a0e5b8-6818-4c99-a54f-feb5d0eb9100"}, {"type": "ColumnDataSource", "attributes": {"column_names": ["xs", "ys"], "data": {"ys": [[1, 1], [2, 2], [3, 3], [4, 4], [5, 5], [6, 6], [7, 7], [8, 8], [9, 9], [10, 10], [11, 11], [12, 12], [13, 13], [14, 14], [15, 15], [16, 16], [17, 17], [18, 18], [19, 19], [20, 20], [21, 21], [22, 22], [23, 23], [24, 24], [25, 25], [26, 26], [27, 27], [28, 28], [29, 29], [30, 30], [31, 31], [32, 32], [33, 33], [34, 34], [35, 35], [36, 36], [37, 37], [38, 38], [39, 39], [40, 40], [41, 41], [42, 42], [43, 43], [44, 44], [45, 45], [46, 46], [47, 47], [48, 48], [49, 49], [50, 50], [51, 51], [52, 52], [53, 53], [54, 54], [55, 55], [56, 56], [57, 57], [58, 58], [59, 59], [60, 60], [61, 61], [62, 62], [63, 63], [64, 64], [65, 65], [66, 66], [67, 67], [68, 68], [69, 69], [70, 70], [71, 71], [72, 72], [73, 73], [74, 74], [75, 75], [76, 76], [77, 77], [78, 78], [79, 79], [80, 80], [81, 81], [82, 82], [83, 83], [84, 84], [85, 85], [86, 86], [87, 87], [88, 88], [89, 89], [90, 90], [91, 91], [92, 92], [93, 93], [94, 94], [95, 95], [96, 96], [97, 97], [98, 98], [99, 99], [100, 100], [101, 101], [102, 102], [103, 103], [104, 104], [105, 105], [106, 106], [107, 107], [108, 108], [109, 109], [110, 110], [111, 111], [112, 112], [113, 113], [114, 114], [115, 115], [116, 116], [117, 117], [118, 118], [119, 119], [120, 120], [121, 121], [122, 122], [123, 123], [124, 124], [125, 125], [126, 126], [127, 127], [128, 128], [129, 129], [130, 130], [131, 131], [132, 132], [133, 133], [134, 134], [135, 135], [136, 136], [137, 137], [138, 138], [139, 139], [140, 140], [141, 141], [142, 142], [143, 143], [144, 144], [145, 145], [146, 146]], "xs": [[238875.51129141933, 281149.48870858067], [74247.78121927849, 343266.21878072154], [101618.77751401532, 198923.36534312752], [87004.72701023775, 153203.67298976224], [114283.79922238139, 171615.5341109519], [84954.84890941167, 142908.2939477312], [116878.55798095564, 257747.9804805828], [111299.39641689864, 217929.7614778382], [70181.07640162113, 108818.92359837887], [61347.73065907073, 85609.76934092927], [135124.5109656422, 210397.4890343578], [144738.61104806073, 171006.05561860595], [91784.6274509862, 145629.87254901382], [71816.74800513731, 141484.4519948627], [59184.40182286587, 110388.26484380079], [63956.79075584548, 82892.00924415451], [50116.08264154841, 79709.41735845158], [47202.552884810575, 64487.04711518943], [74004.59847288922, 117569.80152711077], [63623.71807018749, 110833.61526314585], [111096.46109481531, 152732.70557185137], [118680.90317693939, 130492.38253734632], [54913.507422998315, 104888.49257700169], [58275.8710334481, 87237.55753798048], [42205.23415901546, 83253.84276406147], [48315.79303315074, 63510.92125256355], [48091.07038465391, 140370.92961534607], [61529.29315664993, 116308.45684335007], [134325.0934482162, 138230.9065517838], [119117.32571554348, 143267.67428445653], [66805.97622918511, 84338.42377081489], [68330.0942357048, 74674.9057642952], [67230.16621691083, 143753.1671164225], [80358.58993402691, 122718.77848702573], [93202.61632529533, 134783.0133043343], [96369.67106391293, 123896.99560275373], [59683.37002621409, 91354.62997378591], [57508.10832144863, 86070.39167855137], [116640.12197400838, 141879.21135932498], [119692.44254549933, 131602.890787834], [60912.35733887214, 82049.39266112786], [62447.43705931486, 75565.2296073518], [54193.45389743775, 87859.04610256225], [46938.318298409475, 91201.86351977235], [64868.557432400514, 67371.44256759949], [59641.0412338824, 68686.95876611759], [66785.05292600479, 81305.94707399521], [64686.14477750171, 83301.56950821257], [72301.69467303337, 106735.30532696663], [67340.91048003087, 112206.08951996913], [76520.68870281691, 98182.45415432595], [74173.29529412852, 102286.28365323991], [57847.882681728996, 85837.81731827102], [60865.96974664929, 85067.19692001736], [55462.51113046671, 81618.98886953329], [56303.51561995901, 83531.48438004099], [44143.01873980763, 53102.18126019237], [37395.840327585356, 63116.159672414644], [57198.87718570813, 74984.87281429187], [55209.74165702419, 80265.25834297581], [113504.09329573519, 144922.9067042648], [112164.10680287081, 149732.22653046253], [69466.20521693095, 153964.79478306905], [63127.934390246766, 164747.23227641988], [114645.45788211394, 127569.54211788606], [101955.69698645548, 144955.63634687784], [223371.2674161649, 279162.57873768127], [216490.846774778, 291120.7895888584], [108295.03974101714, 131831.8833359059], [86995.03297648714, 158862.5054850513], [225458.9512930961, 274078.0487069039], [204208.4162599997, 301743.1837400003], [74883.4051129543, 114812.26155371236], [69458.97485302773, 126708.62514697228], [53593.411576110826, 65972.58842388917], [50854.893356347595, 78347.4066436524], [290866.7025610748, 327153.7418833697], [272738.1589585667, 356568.2160414333], [63366.39920221758, 124597.85079778242], [86902.78478596994, 112842.01521403005], [63133.194332664156, 72978.51995305014], [62468.14783663812, 86127.18549669522], [68959.93061434996, 98088.25120383187], [67222.07482930303, 112349.74335251514], [62815.864556925575, 76584.80210974108], [60529.22143196906, 94301.17856803094], [58849.92780338659, 110129.34492388615], [70716.2618417938, 118271.2381582062], [63399.87658588484, 96264.40912840088], [62304.8474952746, 117463.8667904397], [76441.42630512718, 111917.3736948728], [88827.78500334837, 120552.21499665163], [78455.3266236711, 90858.6733763289], [67704.06322731724, 122658.29391553989], [49168.430188175305, 96850.61743087233], [38125.0685967745, 129054.93140322549], [60854.09441468297, 88679.23891865037], [70917.12129295546, 101988.87870704454], [167973.74716729234, 211672.00283270766], [160020.97477799645, 243561.59665057497], [75239.61543353504, 109271.98456646496], [90041.0731505386, 119393.4268494614], [66391.28405354018, 85348.43023217411], [71053.91995959659, 106536.08004040341], [95852.2593338545, 123927.1406661455], [103368.19406360475, 143083.4726030619], [267808.44823455845, 272961.55176544155], [257438.48108631515, 311524.8522470182], [89830.44545550861, 108533.99898893583], [91210.94634971522, 135961.72031695143], [128994.80112649292, 215619.59887350712], [138560.49855470913, 235624.50144529087], [102679.11802868312, 221939.38197131688], [174477.47387288042, 182972.02612711958], [38924.109280335775, 143344.89071966422], [76238.86745185268, 138997.5611195759], [120363.73020702713, 182730.17888388198], [113477.48589675117, 226132.01410324883], [167658.2027901823, 181721.7972098177], [145990.07206077827, 239999.92793922173], [223551.2752090512, 276005.5247909488], [232016.99999969488, 304840.3333336385], [102928.7672821577, 169647.69938450897], [115858.6472187023, 194570.20992415486], [70182.30788263881, 81923.2921173612], [70104.92114204241, 121387.07885795759], [102529.34366832847, 145050.98966500486], [110341.66732134792, 177053.39934531873], [110229.44404254426, 199364.95595745576], [136326.39480933885, 213508.43852399447], [85965.0306722184, 130204.63599444825], [68185.84886472355, 198319.35113527646], [130922.90235978899, 153378.297640211], [150029.51373901265, 186076.48626098735], [60046.63746057307, 89484.36253942693], [27487.620698568702, 178055.80787285988], [60042.73302737453, 85836.51697262547], [71733.29177078919, 141310.1082292108], [82340.28595258275, 193246.28547598867], [114516.68360219093, 229886.5163978091], [206870.98014843848, 262356.0198515615], [245154.40729792838, 363549.3069877859], [23621.677672752514, 175651.82232724747], [106440.44842181922, 290956.4087210379], [75758.08578649358, 223053.91421350642], [126942.02010484974, 446934.5253496957]]}, "callback": null}, "id": "e92ba9e6-0726-446b-a8ae-5dc93d3f79a7"}, {"type": "Quad", "attributes": {"fill_color": {"value": "red"}, "left": {"field": "left"}, "fill_alpha": {"value": 0.6}, "line_color": {"value": "#1f77b4"}, "right": {"value": 0}, "bottom": {"field": "bottom"}, "top": {"field": "top"}}, "id": "9cbfd106-5103-43a7-867f-a7b886b47019"}, {"type": "WheelZoomTool", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "3c8b08e3-324c-4ab7-ac07-5d87e8208218"}}, "id": "088bd31b-c294-4189-9c06-c87663e5aed6"}, {"type": "CategoricalAxis", "attributes": {"axis_label_text_alpha": {"value": 0.75}, "major_tick_line_alpha": {"value": 0}, "ticker": {"type": "CategoricalTicker", "id": "da8aa8ee-325f-4def-ad57-1cef1589ec46"}, "plot": {"type": "Plot", "subtype": "Figure", "id": "c0b28fce-5025-4698-838e-ab629b27644b"}, "axis_label_text_font_size": {"value": "12pt"}, "axis_line_alpha": {"value": 0.2}, "formatter": {"type": "CategoricalTickFormatter", "id": "5c2299e5-f26e-4306-96b2-2ad968d79268"}}, "id": "ed28e8c3-3792-460b-b00f-178056240767"}, {"type": "ResizeTool", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "c0b28fce-5025-4698-838e-ab629b27644b"}}, "id": "a91c4b8c-ef0a-4704-9af9-04bc5df50f43"}, {"type": "CategoricalAxis", "attributes": {"axis_label_text_alpha": {"value": 0.75}, "major_tick_line_alpha": {"value": 0}, "ticker": {"type": "CategoricalTicker", "id": "fd436b87-997b-40f6-abac-771a902aecac"}, "plot": {"type": "Plot", "subtype": "Figure", "id": "ca544ff8-0734-4f45-8a60-bb71a6b65ad4"}, "axis_label_text_font_size": {"value": "12pt"}, "axis_line_alpha": {"value": 0.2}, "formatter": {"type": "CategoricalTickFormatter", "id": "94564b0f-bf76-4bfc-b4bf-531cde88018b"}}, "id": "c1c17856-a863-4622-bda7-392b6fed3e12"}, {"type": "LinearAxis", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "b3b1f252-7ba2-4a7f-8d00-2bf5310155bf"}, "ticker": {"type": "BasicTicker", "id": "9843cc5c-2ce4-4894-a21f-98e8bf6cbc0e"}, "major_label_orientation": 1.0, "formatter": {"type": "NumeralTickFormatter", "id": "87434815-80e4-4564-a5b1-a8fcb46e7d61"}}, "id": "3ab5c448-9928-4dc7-b901-443be9351657"}, {"type": "PanTool", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "ca544ff8-0734-4f45-8a60-bb71a6b65ad4"}}, "id": "03f08a25-0410-4fb3-b78d-b63debb3457d"}, {"type": "Grid", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "749217fd-0b5c-4d31-a55a-689425d1d3e5"}, "ticker": {"type": "CategoricalTicker", "id": "a0dfb15b-466f-4ae1-9d5f-737aab66cf9d"}, "dimension": 1, "grid_line_color": {"value": null}}, "id": "480ca794-bb90-421e-ab66-532e0621af1c"}, {"type": "Grid", "attributes": {"grid_line_dash": [6, 4], "plot": {"type": "Plot", "subtype": "Figure", "id": "ca544ff8-0734-4f45-8a60-bb71a6b65ad4"}, "grid_line_alpha": {"value": 0.4}, "ticker": {"type": "BasicTicker", "id": "a5de2547-f549-4c5f-aa3e-946c350ae111"}}, "id": "dd1e0568-7a9b-4ab8-a4e5-60d81c06b0ee"}, {"type": "FactorRange", "attributes": {"callback": null, "factors": ["Research Professor", "Research Assoc Professor", "Distinguished Professor", "Associate Professor", "Research Asst Professor", "Professor", "Assistant Professor", "Clinician Ed-Assist Prof", "Clinician Ed - Professor", "Clinician Ed-Assoc Prof"]}, "id": "a3f60afd-2434-4eb9-898d-631f6f473f84"}, {"type": "DataRange1d", "attributes": {"callback": null}, "id": "d01269b0-82f0-4c3e-af9e-958059ac4a2b"}, {"type": "LinearAxis", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "3c8b08e3-324c-4ab7-ac07-5d87e8208218"}, "ticker": {"type": "BasicTicker", "id": "72a3e1c2-a2fe-4abf-a539-8dfdcac0b830"}, "major_label_orientation": 1.0, "formatter": {"type": "NumeralTickFormatter", "id": "b454643b-9a00-4ac4-8402-bae9e116d388"}}, "id": "9c741988-44f2-4fbf-8a2e-e7c140e22ea8"}, {"type": "CategoricalTickFormatter", "attributes": {}, "id": "5545a4ee-41a2-4df3-ae89-ac946f3c00ea"}, {"type": "Legend", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "8115cb33-8d8f-4d27-9378-7fb0ca750213"}, "location": "top_left", "legends": [["Men make more", [{"type": "GlyphRenderer", "id": "183acb4d-fde7-461d-9b67-a5d7ecd92f12"}]], ["Women make more", [{"type": "GlyphRenderer", "id": "aef90c97-7372-4114-8ed2-2749d9c9fb26"}]]]}, "id": "a34b20dd-73c5-4ec8-8261-f5568ea87fd2"}, {"type": "CategoricalTicker", "attributes": {}, "id": "edc3e3c7-1dd5-4cac-bc5a-383ce8f8e133"}, {"type": "MultiLine", "attributes": {"line_cap": "round", "xs": {"field": "xs"}, "line_alpha": {"value": 0.55}, "ys": {"field": "ys"}}, "id": "8b242774-14af-4ab5-b52f-53341d403f5e"}, {"type": "BasicTicker", "attributes": {}, "id": "72a3e1c2-a2fe-4abf-a539-8dfdcac0b830"}, {"type": "CategoricalTicker", "attributes": {}, "id": "da8aa8ee-325f-4def-ad57-1cef1589ec46"}, {"type": "Plot", "subtype": "Figure", "attributes": {"plot_height": 700, "x_range": {"type": "DataRange1d", "id": "bb30bc45-808a-4675-a3b2-212a28983677"}, "left": [{"type": "CategoricalAxis", "id": "c1c17856-a863-4622-bda7-392b6fed3e12"}], "tool_events": {"type": "ToolEvents", "id": "11a1e6a3-ddda-426c-be5e-ea565e95e3b4"}, "renderers": [{"type": "LinearAxis", "id": "9833c5e2-233e-4ed4-8ca4-9cf82e7b2c06"}, {"type": "Grid", "id": "dd1e0568-7a9b-4ab8-a4e5-60d81c06b0ee"}, {"type": "CategoricalAxis", "id": "c1c17856-a863-4622-bda7-392b6fed3e12"}, {"type": "Grid", "id": "9ca0efdb-9581-43b6-9408-840d8fab2ff9"}, {"type": "Legend", "id": "145cff6b-b468-4cbb-9291-3455eba64762"}, {"type": "GlyphRenderer", "id": "bcf65065-4214-4a11-a7e4-be3e9912a413"}, {"type": "GlyphRenderer", "id": "ca8e9555-bdbb-4f78-afad-679a0c79a49f"}, {"type": "GlyphRenderer", "id": "4b398aaf-2eed-4d54-9c78-76f153bfe926"}], "tools": [{"type": "HoverTool", "id": "50fa4536-d223-4fef-95c8-78458a3ca78b"}, {"type": "PanTool", "id": "03f08a25-0410-4fb3-b78d-b63debb3457d"}, {"type": "WheelZoomTool", "id": "096a42b6-3f5c-4187-a598-6f8e1b8e40ee"}, {"type": "ResetTool", "id": "11548952-355c-4c63-9a58-fb8ba23e9580"}, {"type": "ResizeTool", "id": "d1ca2f4a-14be-4d0d-8ae3-205118266499"}], "below": [{"type": "LinearAxis", "id": "9833c5e2-233e-4ed4-8ca4-9cf82e7b2c06"}], "plot_width": 1000, "title": "Estimated Gender Difference In Pay by Rank", "y_range": {"type": "FactorRange", "id": "a3f60afd-2434-4eb9-898d-631f6f473f84"}}, "id": "ca544ff8-0734-4f45-8a60-bb71a6b65ad4"}, {"type": "Panel", "attributes": {"title": "Estimated Gender Difference In Pay by Rank", "child": {"type": "Plot", "subtype": "Figure", "id": "ca544ff8-0734-4f45-8a60-bb71a6b65ad4"}}, "id": "dbaaffe6-c25a-4387-9d5f-d8d349e0239b"}, {"type": "GlyphRenderer", "attributes": {"data_source": {"type": "ColumnDataSource", "id": "20c196bc-a79a-4b05-8af0-29b7f3339c06"}, "selection_glyph": null, "nonselection_glyph": {"type": "Quad", "id": "a45c7491-06b1-4cd0-9a4f-71edd68a3f2c"}, "hover_glyph": null, "glyph": {"type": "Quad", "id": "b6bc8af5-c1f9-4df6-9d6a-003bdbd06af9"}}, "id": "183acb4d-fde7-461d-9b67-a5d7ecd92f12"}, {"type": "WheelZoomTool", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "749217fd-0b5c-4d31-a55a-689425d1d3e5"}}, "id": "6a4a98d0-9370-475b-bfef-d803961bb49a"}, {"type": "Quad", "attributes": {"fill_color": {"value": "#1f77b4"}, "left": {"value": 0}, "fill_alpha": {"value": 0.1}, "line_alpha": {"value": 0.1}, "line_color": {"value": "#1f77b4"}, "right": {"field": "right"}, "bottom": {"field": "bottom"}, "top": {"field": "top"}}, "id": "902923e8-2237-4626-86e6-590382f3ded6"}, {"type": "ResetTool", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "3c8b08e3-324c-4ab7-ac07-5d87e8208218"}}, "id": "4120c270-39b9-4c99-8fc0-04a39fce24ba"}, {"type": "ColumnDataSource", "attributes": {"column_names": ["mean", "amax", "count_nonzero", "index", "job_title", "std", "amin", "median", "size", "y", "y", "y"], "data": {"mean": [70651, 86908, 91289, 106075, 130926, 133021, 139882, 163576, 197931, 226128], "size": [13.94427190999916, 23.275666882497067, 10.0, 24.79898987322333, 8.872983346207416, 24.261360284258224, 10.0, 19.07124727947029, 16.489125293076057, 14.899494936611665], "y": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10], "count_nonzero": [80, 334, 25, 392, 15, 371, 25, 198, 132, 98], "index": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "amax": [131789, 262095, 188747, 484800, 287100, 441986, 176459, 383296, 478240, 407650], "std": [16795.16472083558, 30508.13073592022, 26810.49960370004, 69097.11515685731, 52930.345370118266, 60580.56709044576, 22884.355879071623, 55742.76922615166, 72396.63817471085, 66620.03811917252], "amin": [38000, 44188, 55064, 44000, 81870, 50000, 96000, 71000, 75861, 115150], "median": [68372, 78782, 83252, 76970, 106050, 115038, 141249, 154379, 191415, 219196], "job_title": ["Research Asst Professor", "Associate Professor", "Research Assoc Professor", "Assistant Professor", "Research Professor", "Professor", "Distinguished Professor", "Clinician Ed-Assist Prof", "Clinician Ed-Assoc Prof", "Clinician Ed - Professor"]}, "callback": null}, "id": "f7932721-91cd-4fde-b4f2-752c682c4b23"}, {"type": "ResetTool", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "ca544ff8-0734-4f45-8a60-bb71a6b65ad4"}}, "id": "11548952-355c-4c63-9a58-fb8ba23e9580"}, {"type": "Panel", "attributes": {"title": "UNM Professor Pay per Department", "child": {"type": "Plot", "subtype": "Figure", "id": "b3b1f252-7ba2-4a7f-8d00-2bf5310155bf"}}, "id": "9b177853-5d1e-408a-ad32-6948413065c4"}, {"type": "CategoricalTickFormatter", "attributes": {}, "id": "9e16f67c-8b35-4e16-9a1b-87bd9b18205c"}, {"type": "Quad", "attributes": {"fill_color": {"value": "#1f77b4"}, "left": {"value": 0}, "fill_alpha": {"value": 0.1}, "line_alpha": {"value": 0.1}, "line_color": {"value": "#1f77b4"}, "right": {"field": "right"}, "bottom": {"field": "bottom"}, "top": {"field": "top"}}, "id": "01ac127b-c38e-4883-b201-2260a835a9fb"}, {"type": "Grid", "attributes": {"grid_line_dash": [6, 4], "plot": {"type": "Plot", "subtype": "Figure", "id": "b3b1f252-7ba2-4a7f-8d00-2bf5310155bf"}, "grid_line_alpha": {"value": 0.4}, "ticker": {"type": "BasicTicker", "id": "9843cc5c-2ce4-4894-a21f-98e8bf6cbc0e"}}, "id": "b7101ea5-c816-4d04-bdfa-3e9b14246be1"}, {"type": "Quad", "attributes": {"fill_color": {"value": "red"}, "left": {"value": 0}, "fill_alpha": {"value": 0.0}, "line_color": {"value": "#1f77b4"}, "right": {"field": "right"}, "bottom": {"field": "bottom"}, "top": {"field": "top"}}, "id": "2cb5a02a-969b-4334-93bb-fd0661cffbab"}, {"type": "Grid", "attributes": {"grid_line_dash": [6, 4], "plot": {"type": "Plot", "subtype": "Figure", "id": "8115cb33-8d8f-4d27-9378-7fb0ca750213"}, "grid_line_alpha": {"value": 0.4}, "ticker": {"type": "BasicTicker", "id": "d8b49aad-8221-4a3f-a703-f886ee37538c"}}, "id": "62e8d75c-9f8f-42a4-8365-0e815894f6d4"}, {"type": "ColumnDataSource", "attributes": {"column_names": ["mean", "meandiff", "amax", "count_nonzero", "index", "job_title", "std", "amin", "median", "right", "bottom", "top", "left", "bottom", "top", "right", "bottom", "top"], "data": {"mean": [130926, 91289, 139882, 86908, 70651, 133021, 106075, 163576, 226128, 197931], "meandiff": [-14253.250000000015, -12609.177777777775, 2496.308823529398, 3332.136139169481, 5172.992063492056, 6034.488384622702, 10701.531182015955, 22806.04453870625, 26429.41071428571, 43587.75199004976], "std": [52930.345370118266, 26810.49960370004, 22884.355879071623, 30508.13073592022, 16795.16472083558, 60580.56709044576, 69097.11515685731, 55742.76922615166, 66620.03811917252, 72396.63817471085], "bottom": [0.8, 1.8, 2.8, 3.8, 4.8, 5.8, 6.8, 7.8, 8.8, 9.8], "top": [1.2, 2.2, 3.2, 4.2, 5.2, 6.2, 7.2, 8.2, 9.2, 10.2], "amin": [81870, 55064, 96000, 44188, 38000, 50000, 44000, 71000, 115150, 75861], "left": [-14253.250000000015, -12609.177777777775], "count_nonzero": [15, 25, 25, 334, 80, 371, 392, 198, 98, 132], "index": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "amax": [287100, 188747, 176459, 262095, 131789, 441986, 484800, 383296, 407650, 478240], "right": [-14253.250000000015, -12609.177777777775, 2496.308823529398, 3332.136139169481, 5172.992063492056, 6034.488384622702, 10701.531182015955, 22806.04453870625, 26429.41071428571, 43587.75199004976], "median": [106050, 83252, 141249, 78782, 68372, 115038, 76970, 154379, 219196, 191415], "job_title": ["Research Professor", "Research Assoc Professor", "Distinguished Professor", "Associate Professor", "Research Asst Professor", "Professor", "Assistant Professor", "Clinician Ed-Assist Prof", "Clinician Ed - Professor", "Clinician Ed-Assoc Prof"]}, "callback": null}, "id": "58dffba4-67c8-49c2-a069-91b353e628e9"}, {"type": "CategoricalTicker", "attributes": {}, "id": "0ce9a67c-02ec-4610-a5de-40a468186325"}, {"type": "NumeralTickFormatter", "attributes": {"format": "$ 0,0[.]00"}, "id": "b454643b-9a00-4ac4-8402-bae9e116d388"}, {"type": "ResizeTool", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "b3b1f252-7ba2-4a7f-8d00-2bf5310155bf"}}, "id": "dc2f370f-5b0a-4304-a941-d206c18789fc"}, {"type": "Quad", "attributes": {"fill_color": {"value": "#1f77b4"}, "left": {"field": "left"}, "fill_alpha": {"value": 0.1}, "line_alpha": {"value": 0.1}, "line_color": {"value": "#1f77b4"}, "right": {"value": 0}, "bottom": {"field": "bottom"}, "top": {"field": "top"}}, "id": "d93ec728-dad3-4f8e-8034-dd78b4b2be6e"}, {"type": "CategoricalTicker", "attributes": {}, "id": "fd436b87-997b-40f6-abac-771a902aecac"}, {"type": "Legend", "attributes": {"plot": {"type": "Plot", "subtype": "Figure", "id": "c0b28fce-5025-4698-838e-ab629b27644b"}, "legends": [["Men's pay", [{"type": "GlyphRenderer", "id": "5fe7e07b-c1a2-4bec-9a1b-ea398ff5afa3"}]], ["Women's pay", [{"type": "GlyphRenderer", "id": "27690531-937d-4772-8ee4-2b93506bf42b"}]]]}, "id": "4a912195-28a4-492b-9442-175dfab6f475"}]}, "title": "Bokeh Application"}};
var render_items = [{"notebook_comms_target": "d5f4071e-efa1-499b-b9f7-c7ec09f303ed", "modelid": "fbb340d1-7267-4245-9235-a1a73d4f1c04", "elementid": "718c6705-4719-4ba0-9e82-b7b2855cd76a", "docid": "a9eaa360-2ccf-44ae-9f8b-57c79a48cffb"}];

Bokeh.embed.embed_items(docs_json, render_items);
});
},
function(Bokeh) {
}
];

function run_inline_js() {
for (var i = 0; i < inline_js.length; i++) {
inline_js[i](window.Bokeh);
}
}

if (window._bokeh_is_loading === 0) {
console.log("Bokeh: BokehJS loaded, going straight to plotting");
run_inline_js();
} else {
load_libs(js_urls, function() {
console.log("Bokeh: BokehJS plotting callback run at", now());
run_inline_js();
});
}
}(this));
</script>
</div>
</div>
<div class="output_area"><div class="prompt output_prompt">Out[48]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>&lt;bokeh.io._CommsHandle at 0x140736978&gt;</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Thoughts">Thoughts<a class="anchor-link" href="#Thoughts">¶</a></h2><h3 id="Pay-by-department">Pay by department<a class="anchor-link" href="#Pay-by-department">¶</a></h3><p>Clearly, the data still includes department heads that are classified as academic roles, though we did explicitly exclude deans, provosts, chairs, etc. I won't omit the highest and lowest paid people from the data for the time being. It's frankly amazing how much higher some people are paid than the rest of their department:</p>
<ul>
<li><p>University Libraries has a salary mean of $85,000 and max of $270,000</p>
</li>
<li><p>CS has a mean of \$113,000 and a max of $256,000, though the person earning that was the School of Engineering Dean for some time.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [49]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="nb">print</span><span class="p">(</span><span class="s2">"-"</span> <span class="o">*</span> <span class="mi">5</span> <span class="o">+</span> <span class="s2">" Max minus mean pay"</span> <span class="o">+</span> <span class="s2">"-"</span> <span class="o">*</span> <span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">((</span><span class="n">gbdept</span><span class="o">.</span><span class="n">amax</span> <span class="o">-</span> <span class="n">gbdept</span><span class="p">[</span><span class="s1">'mean'</span><span class="p">])</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"-"</span> <span class="o">*</span> <span class="mi">5</span> <span class="o">+</span> <span class="s2">" Max minus median pay"</span> <span class="o">+</span> <span class="s2">"-"</span> <span class="o">*</span> <span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">((</span><span class="n">gbdept</span><span class="o">.</span><span class="n">amax</span> <span class="o">-</span> <span class="n">gbdept</span><span class="p">[</span><span class="s1">'median'</span><span class="p">])</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>----- Max minus mean pay-----
department
SOM Neurosurgery              227332.928571
Pathology                     195272.276596
IM Div of Gastroenterology    186814.000000
University Libraries          185446.421053
Experimental Therapeutics     151072.333333
dtype: float64
----- Max minus median pay-----
department
SOM Neurosurgery             253409
Pathology                    199136
University Libraries         196672
Experimental Therapeutics    181247
Emergency Medicine           164220
dtype: int64
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Pay-by-rank">Pay by rank<a class="anchor-link" href="#Pay-by-rank">¶</a></h3><p>Assistant and Associate profs have a huge range of pay, but it's a bit surprising that the mean for associates is still lower than assistants. Clearly, there are a few huge outliers in here somewhere, likely medical folks, dominating the data.</p>
<h3 id="Pay-by-department-and-gender">Pay by department and gender<a class="anchor-link" href="#Pay-by-department-and-gender">¶</a></h3><p>The chart is sorted in descending order by departments with men making more than women.</p>
<h3 id="Pay-by-rank-and-gender">Pay by rank and gender<a class="anchor-link" href="#Pay-by-rank-and-gender">¶</a></h3><p>The chart is sorted in descending order by ranks with men making more than women.</p>
<h3 id="Gender-difference-in-pay-by-department-and-rank">Gender difference in pay by department and rank<a class="anchor-link" href="#Gender-difference-in-pay-by-department-and-rank">¶</a></h3><p>As i said before, these plots do a great job of highlighting differences in pay but may exaggerate some of those differenes -- no measures of deviation or range are included.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Wrapup">Wrapup<a class="anchor-link" href="#Wrapup">¶</a></h2><p>Investigating all of this more deeply would take a bit more effort, but let's examine a department with wildly high deviations in pay to see if there is something going on here.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [50]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">profs</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">profs</span><span class="o">.</span><span class="n">department</span> <span class="o">==</span> <span class="s1">'SOM Neurosurgery'</span><span class="p">][[</span><span class="s1">'job_title'</span><span class="p">,</span> <span class="s1">'annual'</span><span class="p">,</span> <span class="s1">'gender'</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[50]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>job_title</th>
<th>annual</th>
<th>gender</th>
</tr>
</thead>
<tbody>
<tr>
<th>5474</th>
<td>Clinician Ed-Assoc Prof</td>
<td>232988</td>
<td>f</td>
</tr>
<tr>
<th>6650</th>
<td>Clinician Ed-Assoc Prof</td>
<td>478240</td>
<td>m</td>
</tr>
<tr>
<th>8757</th>
<td>Clinician Ed-Assist Prof</td>
<td>121200</td>
<td>f</td>
</tr>
<tr>
<th>9064</th>
<td>Clinician Ed-Assist Prof</td>
<td>202000</td>
<td>m</td>
</tr>
<tr>
<th>10701</th>
<td>Clinician Ed-Assoc Prof</td>
<td>429512</td>
<td>m</td>
</tr>
<tr>
<th>210</th>
<td>Assistant Professor</td>
<td>229795</td>
<td>m</td>
</tr>
<tr>
<th>1285</th>
<td>Research Asst Professor</td>
<td>85850</td>
<td>m</td>
</tr>
<tr>
<th>1747</th>
<td>Assistant Professor</td>
<td>484800</td>
<td>m</td>
</tr>
<tr>
<th>2065</th>
<td>Assistant Professor</td>
<td>350000</td>
<td>m</td>
</tr>
<tr>
<th>5793</th>
<td>Research Asst Professor</td>
<td>83224</td>
<td>m</td>
</tr>
<tr>
<th>7771</th>
<td>Research Professor</td>
<td>101000</td>
<td>m</td>
</tr>
<tr>
<th>9186</th>
<td>Research Assoc Professor</td>
<td>94030</td>
<td>f</td>
</tr>
<tr>
<th>10010</th>
<td>Assistant Professor</td>
<td>454500</td>
<td>m</td>
</tr>
<tr>
<th>10950</th>
<td>Assistant Professor</td>
<td>257400</td>
<td>m</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As i suspected, it looks like the research profs in the neurosurgery department are wildly throwing off our pay data. The female clinical assistant prof making $121,000 is a DO, not a surgeon, which explains some of the huge difference in pay compared to the surgeons.</p>
<h2 id="Fin">Fin<a class="anchor-link" href="#Fin">¶</a></h2><p>There is plenty more to play with here, but that's all for the time being. Let me know if you see something idiotic. As I mentioned, take the plots with a grain of salt:</p>
<ul>
<li>I am not sure how well the gender identification worked out </li>
<li>Some departments have very small samples</li>
<li>The difference plots exaggerate the differences in pay a bit by not showing standard deviations or other quantifiers of the mean</li>
<li>Clinical departments are difficult due to non MD people being classified as a "Clinician Prof", which brings the pay ranges down. </li>
<li>Some clinicial professors are classed as non-clinical profs, which will also skew some payscales compared to the non-clinical groups.</li>
</ul>
<p>When I get a bit of spare time, I'll come back to this data and fit a few models to try and quantify just how much gender influences pay in this dataset while accounting for rank and department.</p>
</div>
</div>
</div>
</div>

        <hr />
        <footer class="page-footer">
          


<div class="author-image">
	<img src="http://aarongonzales.net/images/avatar.jpg" alt="Aaron Gonzales">
</div><!-- ./author-image -->
<div class="author-content">
	<h3 class="author-name" >Written by <span itemprop="author">Aaron Gonzales</span></h3>
	<p class="author-bio">I'm a typically atypical guy.</p>
</div><!-- ./author-content -->
          <div class="inline-btn">
	<a class="btn-social twitter" href="https://twitter.com/intent/tweet?text=Gender,%20Pay,%20UNM,%20Bokeh&amp;url=http://aarongonzales.net/posts/nerd/2016/03/17/unmsalary/&amp;via=binary_aaron" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i> Share on Twitter</a>
	<a class="btn-social facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://aarongonzales.net/posts/nerd/2016/03/17/unmsalary/" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i> Share on Facebook</a>
	<a class="btn-social google-plus"  href="https://plus.google.com/share?url=http://aarongonzales.net/posts/nerd/2016/03/17/unmsalary/" target="_blank"><i class="fa fa-google-plus" aria-hidden="true"></i> Share on Google+</a>
</div><!-- /.share-this -->
          <div class="page-meta">
	<p>Updated <time datetime="2016-03-17T00:00:00Z" itemprop="datePublished">March 17, 2016</time></p>
</div><!-- /.page-meta -->
        </footer><!-- /.footer -->
        <aside>
          
<div id="disqus_thread"></div>
<script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'hackofahacker'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

        </aside>
      </div><!-- /.content -->
    </div><!-- /.inner-wrap -->
    
  </article><!-- ./wrap -->
</div><!-- /#main -->

      <footer role="contentinfo" id="site-footer">
	<nav role="navigation" class="menu bottom-menu">
		<ul class="menu-item">
		
      
        
      
			<li><a href="http://aarongonzales.net/" >Home</a></li>
		
      
        
      
			<li><a href="http://aarongonzales.net/contact" >Contact</a></li>
		
		</ul>
	</nav><!-- /.bottom-menu -->
	<p class="copyright">&#169; 2017 <a href="http://aarongonzales.net">a hack of a hacker</a> powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> + <a href="http://mmistakes.github.io/skinny-bones-jekyll/" rel="nofollow">Skinny Bones</a>.</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-11008365-1', 'auto');
  ga('send', 'pageview');

</script>
</footer>

    </div>

    <script src="http://aarongonzales.net/js/vendor/jquery-1.9.1.min.js"></script>
    <script src="http://aarongonzales.net/js/main.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"> </script>
    <link rel="stylesheet" href="/css/styles/custom.css">
    <script src="/css/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

  </body>

</html>
